!function(e){function t(t){for(var a,i,c=t[0],l=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(s&&s(t);d.length;)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={8:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[];if(!o||!o.prototype.then){var n=setTimeout;function a(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(r){return void u(t.promise,r)}l(t.promise,a)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void d((a=n,r=t,function(){a.apply(r,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(i){u(e,i)}var a,r}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(a){if(n)return;n=!0,u(t,a)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new f(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o.all=function(e){return new o((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var r=a.length;function o(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void c.call(i,(function(t){o(e,t)}),n)}a[e]=i,0==--r&&t(a)}catch(l){n(l)}}for(var i=0;i<a.length;i++)o(i,a[i])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var a=0,r=e.length;a<r;a++)e[a].then(t,n)}))},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console}}var m=r[e];if(0!==m)if(m)t.push(m[2]);else{var p=new o((function(t,n){m=r[e]=[t,n]}));t.push(m[2]=p);var b,h=document.createElement("script");h.charset="utf-8",h.timeout=120,i.nc&&h.setAttribute("nonce",i.nc),h.src=function(e){return i.p+"common/"+({3:"im_sdk_module",4:"im_web",5:"loginsdk_module",14:"ttwid_m"}[e]||e)+"."+{3:"231a7565",4:"3433feee",5:"f1e4f35e",14:"c3cc1db5",15:"56a79342"}[e]+".js"}(e);var _=new Error;b=function(t){h.onerror=h.onload=null,clearTimeout(g);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;_.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",_.name="ChunkLoadError",_.type=a,_.request=o,n[1](_)}r[e]=void 0}};var g=setTimeout((function(){b({type:"timeout",target:h})}),12e4);h.onerror=h.onload=b,document.head.appendChild(h)}return o.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="//lf3-cdn2-tos.bytescm.com/toutiao/toutiao_web_pc/",i.oe=function(e){throw e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;o.push([1,0]),n()}({"01cd55cb795a1f0da523":function(e,t,n){},"028f84ba6d27e52aa246":function(e,t,n){},"05ba5bc0c7218abdc1d1":function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",(function(){return r}));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tasks=[]}var t,n,r;return t=e,(n=[{key:"push",value:function(e){this.tasks.push(e)}},{key:"exec",value:function(){for(;this.tasks.length;){var e=this.tasks.shift();e&&e.apply(void 0,arguments)}}}])&&a(t.prototype,n),r&&a(t,r),e}()},"06b791a2d736e8935958":function(e,t,n){"use strict";n("078450aa17a5c8b07ba0"),n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("2810e53ad7174f3c046d"),n("8820a3764a10a8c7e743"),n("571991951e321151cc70"),n("eefb1d9a95f0f17f22df");var a,r=n("69084d01d3449fc1bc27"),o=n.n(r),i=n("174811872339f1d02c40"),c=n.n(i),l=(n("2bf51d882fa5b4b498fb"),n("98ad94a9d064c7351e07")),u=n("abbf799a026c91d8612e");!function(e){e[e.SYSTEM=1]="SYSTEM",e[e.COMMENT=2]="COMMENT",e[e.FOLLOW=3]="FOLLOW",e[e.DIGG=4]="DIGG",e[e.MENTION=5]="MENTION",e[e.LETTER=100]="LETTER",e[e.WENDA_INVITE=101]="WENDA_INVITE"}(a||(a={}));var s={text:"\u6d88\u606f",url:"https://mp.toutiao.com/profile_v4/message/center?type=system&mp_hide_header=true",iconType:"message",msgType:a.SYSTEM},f=[{text:"\u7cfb\u7edf\u901a\u77e5",url:"https://mp.toutiao.com/profile_v4/message/center?type=system&mp_hide_header=true",iconType:"system_notice",msgType:a.SYSTEM},{text:"\u8bc4\u8bba",url:"https://mp.toutiao.com/profile_v4/message/center?type=comment&mp_hide_header=true",iconType:"comment",msgType:a.COMMENT},{text:"\u7c89\u4e1d",url:"https://mp.toutiao.com/profile_v4/message/center?type=follow&mp_hide_header=true",iconType:"fans",msgType:a.FOLLOW},{text:"\u70b9\u8d5e",url:"https://mp.toutiao.com/profile_v4/message/center?type=digg&mp_hide_header=true",iconType:"like",msgType:a.DIGG},{text:"@\u6211",url:"https://mp.toutiao.com/profile_v4/message/center?type=at_me&mp_hide_header=true",iconType:"at",msgType:a.MENTION},{text:"\u79c1\u4fe1",url:"https://mp.toutiao.com/profile_v4/message/center?type=private_letter&mp_hide_header=true",iconType:"direct_message",msgType:a.LETTER},{text:"\u95ee\u7b54\u9080\u8bf7",url:"https://mp.toutiao.com/profile_v4/wenda/home/invite",iconType:"wenda_invite",msgType:a.WENDA_INVITE}];function d(e){return e>99?"99+":String(e)}var m,p=n("9ab2f1ff086dee039972"),b=n("a9b386aa9e5908dda673"),h=n("bd8ea4fd9e1bc4efca14"),_=n("bdda8f8827364032ec38"),g=n("bd2555d9b4311aab9971"),v=new(n.n(g).a);!function(e){e.UPDATE_UNREAD_MESSAGE_COUNT="update_unread_message_count"}(m||(m={}));var y={updateUnreadCount:function(e){v.addListener(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},w={updateUnreadCount:function(e){v.removeListener(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},E={updateUnreadCount:function(e){v.emit(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},k=n("2c18967c0e862cf8b7d2"),O=n("80163d0657a0dbb02e68");function j(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){j(o,a,r,i,c,"next",e)}function c(e){j(o,a,r,i,c,"throw",e)}i(void 0)}))}}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inited=!1}var t,a,r,o,i;return t=e,(a=[{key:"start",value:function(e){this.onUnreadCountChange=e.onUnreadCountChange,this.inited||(this.inited=!0,this.init(e.userId,e.webId))}},{key:"end",value:function(){var e;null===(e=this.imInstance)||void 0===e||e.dispose()}},{key:"init",value:(i=A(regeneratorRuntime.mark((function e(t,a){var r,o,i,c,l,u,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([n.e(4),n.e(0),n.e(3)]).then(n.bind(null,"aa3c09d74801b5f65cda"));case 4:return r=e.sent,o=r.BytedIM,i=r.ExtensionPlugin,c=r.IMEvent,l=r.im_proto,u=r.MetricsPlugin,this.imInstance=new o({appId:k.b,token:"",userId:"",secUid:t,deviceId:a,fpId:89,service:2,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",debug:!1,boe:O.a,disableInitPull:!0,authType:l.AuthType.SESSION_AUTH,apiUrl:"https://imapi.toutiao.com",frontierUrl:"wss://frontier-im.toutiao.com/ws/v2",withCredentials:!0,metrics:window.Slardar},[i,u]),e.next=13,this.imInstance.init();case 13:return this.imInstance.event.subscribe(c.ConversationChange,A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.imInstance){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.getUnreadCount();case 4:case"end":return e.stop()}}),e)})))),e.next=16,this.getUnreadCount();case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getUnreadCount",value:(o=A(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.imInstance)||void 0===t?void 0:t.getServerUnreadCountByUser({});case 3:if(!(n=e.sent)){e.next=7;break}return this.onUnreadCountChange(n),e.abrupt("return");case 7:throw new Error("no unread count");case 10:e.prev=10,e.t0=e.catch(0),Object(b.b)(e.t0,"get-unread-count-fail");case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return o.apply(this,arguments)})}])&&C(t.prototype,a),r&&C(t,r),e}()),x=n("d5c06b6cf3948fb34e9d"),T=n("b4d0aca2d3771c85657d"),S=n("edc2b76b5d9ea09775b6"),N=n("c9cd1e0339c82648866e");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){R(o,a,r,i,c,"next",e)}function c(e){R(o,a,r,i,c,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=Object(N.b)((function(e){var t=e.userId,n=e.webId,i=e.logParams,m=e.theme,g=e.listening,v=U(Object(r.useState)(!1),2),k=v[0],O=v[1],j=U(Object(r.useState)({}),2),A=j[0],C=j[1],N=U(Object(r.useState)(f),2),R=N[0],M=N[1],P=Object(r.useRef)(-1),W=Object(r.useRef)(-1),B=Object(r.useRef)(!1),F=Object(r.useMemo)((function(){return R.reduce((function(e,t){return e+Number(t.count||0)}),0)}),[R]);Object(r.useEffect)((function(){var e=f.map((function(e){return Object.assign(Object.assign({},e),{count:A[e.msgType]||0})}));M(e),E.updateUnreadCount(e)}),[A]);var V=Object(r.useCallback)(L(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.notice.getUnreadMsg();case 3:if(0===(t=e.sent).data.error_code){e.next=6;break}throw new Error(t.data.error_msg);case 6:C((function(e){var n;return((null===(n=t.data.data)||void 0===n?void 0:n.tab_list)||[]).reduce((function(e,t){return e[t.tab_type]=t.unread_count,e}),Object.assign({},e))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(b.a)("fetch_msg_error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),Q=Object(r.useCallback)(L(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.notice.getWendaUnreadMsg();case 3:if(0===(t=e.sent).data.code){e.next=6;break}throw new Error(t.data.message);case 6:C((function(e){return Object.assign(Object.assign({},e),D({},a.WENDA_INVITE,t.data.data.NewInvitedCount))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(b.a)("fetch_wenda_msg_error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),H=Object(r.useCallback)((function(e){M(e)}),[]),z=Object(r.useCallback)((function(e){C((function(t){return Object.assign(Object.assign({},t),D({},a.LETTER,e))}))}),[]),K=Object(r.useCallback)(L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)(1500);case 2:V(),Q(),I.start({userId:t,webId:n,onUnreadCountChange:z}),P.current=window.setInterval((function(){B.current||V()}),6e4),W.current=window.setInterval((function(){B.current||Q()}),6e5);case 7:case"end":return e.stop()}}),e)}))),[V,Q,z,t,n]);function q(e,n){if(n.stopPropagation(),t){Object(l.a)("top_bar_click",{action_type:"click",icon_type:e.iconType,page_name:i.page_name});var a=Object(h.d)(e.url,{entrance:location.pathname});window.open(a)}else S.a.show({logParams:{enter_method:"message"}})}function G(e,t){var n=e.keyCode;n!==p.a.ENTER&&n!==p.a.SPACE||(e.preventDefault(),q(t||s,e))}return Object(r.useEffect)((function(){if(t)return g?y.updateUnreadCount(H):K(),function(){clearInterval(P.current),clearInterval(W.current),!g&&I.end(),w.updateUnreadCount(H)}}),[]),Object(r.useEffect)((function(){var e=function(){"visible"===document.visibilityState?B.current=!1:"hidden"===document.visibilityState&&(B.current=!0)};return window.addEventListener("visibilitychange",e),function(){window.removeEventListener("visibilitychange",e)}}),[]),Object(r.useEffect)((function(){k&&Object(l.a)("top_bar_click",{action_type:"expand",icon_type:"message",page_name:i.page_name})}),[k]),o.a.createElement(x.a,{onOpen:function(){t&&O(!0)},onClose:function(){O(!1)}},o.a.createElement(x.a.MenuButton,{onKeyDown:G},o.a.createElement("div",{"aria-label":"\u6d88\u606f\u901a\u77e5",className:c()("ttp-header-notice",{dark:"dark"===m,black:"black"===m}),onClick:function(e){return q(s,e)}},!!F&&o.a.createElement("div",{className:"notice-count"},d(F)),o.a.createElement("a",{className:"notice-icon",rel:"nofollow"},"\u6d88\u606f"),t&&o.a.createElement(T.a,{visible:k,transformOrigin:"24px top"},o.a.createElement("div",{className:"notice-list"},o.a.createElement(x.a.MenuList,null,o.a.createElement("div",null,R.map((function(e){return o.a.createElement(x.a.MenuItem,{key:e.text,onKeyDown:function(t){return G(t,e)}},o.a.createElement("a",{onClick:function(t){return q(e,t)}},e.text,!!e.count&&o.a.createElement("i",{className:"notice-count"},d(e.count))))})))))))))}))},"076bf3210b3d303da0b6":function(e,t,n){"use strict";n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("8820a3764a10a8c7e743"),n("fde25bdc512ee328bbc7");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o),c=n("a79cb04363dcc4858702"),l=n.n(c),u=n("626346d0a60969063da7"),s=n.n(u),f=(n("cb1df0af3c49a4eae849"),n("acb455effcf8850d4323"),n("e2097d7c28f72f984fd6")),d=function(e,t){var n=e.visible,a=e.pos,o=e.children;return r.a.createElement(f.a,{className:"ttp-city-selector-portal",visible:n,closeTimeout:100},r.a.createElement("div",{className:"ttp-city-selector-dropdown-wrapper",ref:t,style:{left:a.x,top:a.y}},r.a.createElement("div",{className:"ttp-city-selector-dropdown"},o)))},m=r.a.forwardRef(d),p=n("3fdae7134aece5b1a8e9"),b=n("a37ac43bf3b2879b42e3");var h=n("98ad94a9d064c7351e07");function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=new(n("05ba5bc0c7218abdc1d1").a),y={name:"\u5317\u4eac",code:"110000",channelId:3202164529};t.a=function(e){var t=e.cityInfo,n=e.dropdownWidth,o=e.offsetY,c=void 0===o?2:o,u=e.cacheCookieKey,f=void 0===u?p.b:u,d=e.cacheCookieExpires,g=void 0===d?p.a:d,w=e.logParams,E=e.theme,k=void 0===E?"light":E,O=e.onChange,j=_(Object(b.a)(),2),A=j[0],C=j[1],I=_(Object(a.useState)((function(){return t||y})),2),x=I[0],T=I[1],S=Object(a.useRef)(null),N=Object(a.useRef)(null),D=Object(a.useRef)(!1),R=Object(a.useRef)(null),L=_(Object(a.useState)(!1),2),U=L[0],M=L[1],P=_(Object(a.useState)({x:0,y:0}),2),W=P[0],B=P[1];function F(){M(!1)}function V(){var e=t||x,n=Object(b.b)(e.name,A);Object(h.a)("location_switch_cancel",Object.assign({location1_now:n,location2_now:e.name},w)),F()}function Q(){var e,t=N.current;if(t){var a=t.getBoundingClientRect(),r=a.width||t.clientWidth;if(a.top<-r||a.top>window.innerHeight)V();else{var o=(null===(e=S.current)||void 0===e?void 0:e.clientHeight)||0,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,u=a.left+r/2-(n||256)/2+l,s=a.top+o+c+i;B({x:u,y:s})}}}var H=Object(a.useCallback)((function(){D.current||(D.current=!0,l()((function(){Q(),D.current=!1})))}),[A,t,x]);Object(a.useEffect)((function(){function e(e){if(U){var t=e.target,n=(null===Node||void 0===Node?void 0:Node.DOCUMENT_POSITION_CONTAINED_BY)||16;R.current&&t&&(R.current.compareDocumentPosition(t)&n||V())}}return window.addEventListener("click",e),U&&(window.addEventListener("scroll",H),window.addEventListener("resize",H)),function(){window.removeEventListener("click",e),window.removeEventListener("scroll",H),window.removeEventListener("resize",H)}}),[U,A,H]),Object(a.useEffect)((function(){A&&v.exec(A)}),[A]),Object(a.useEffect)((function(){t&&!s.a.get(f)&&s.a.set(f,t.name,{expires:g})}),[]);var z=t||x;return r.a.createElement("div",{className:i()("ttp-city-selector-wrapper",{dark:"dark"===k,black:"black"===k}),ref:S},r.a.createElement("div",{className:"ttp-city-selector"},r.a.createElement("span",{className:"ttp-city-selector-current-name"},z.name),r.a.createElement("button",{type:"button","aria-label":"\u5207\u6362\u57ce\u5e02","aria-pressed":U,className:"ttp-city-selector-city-picker",ref:N,onClick:function(e){if(e.stopPropagation(),U)V();else if(Q(),C(),M(!0),A){var n=t||x,a=Object(b.b)(n.name,A);Object(h.a)("location_switch_click",Object.assign({location1_now:a,location2_now:n.name},w))}else v.push((function(e){var n=t||x,a=Object(b.b)(n.name,e);Object(h.a)("location_switch_click",Object.assign({location1_now:a,location2_now:n.name},w))}))}})),r.a.createElement(m,{ref:R,visible:U,pos:W},r.a.createElement(p.c,{cities:A,city:z.name,cacheCookieKey:f,cacheCookieExpires:g,logParams:w,onCancel:F,onSubmit:function(e,n){var a=A[e][n];t||T(a),F(),null==O||O(a)}})))}},"08172d9560ad9ddbd809":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n("167789bd516d2baf7295");function r(){return!!a.b&&"serviceWorker"in navigator}function o(){var e,t;return null===(e=(t=window).matchMedia)||void 0===e?void 0:e.call(t,"(display-mode: standalone), (display-mode: minimal-ui)")}function i(){var e,t;return a.b&&((null===(e=navigator)||void 0===e?void 0:e.standalone)||(null===(t=o())||void 0===t?void 0:t.matches))||!1}},"0c7cb8e7fa7d864c06e8":function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("b28d054028530bf1d2eb"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("2fadeaed9bdb1dd22487"),y=n.n(v),w=n("69084d01d3449fc1bc27"),E=n.n(w),k=n("174811872339f1d02c40"),O=n.n(k),j=(n("7c4288154d94f45c1e67"),n("7009f854fb449fc1b23d")),A=n("988714ff9eba2503d80f"),C=n("fb622297466e7a637f99"),I=n("10130cfc2ba27a09b7e5"),x=n("3aac1932c02d51e20abb"),T=n("733b0b7fc50b301159ca"),S=n("41e81a6b6b2e87160a0d"),N=n("b6051f0fa8998ea16e97");function D(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):D(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n,a,r,o,i,c,l,u,s,f,d,m,p,b,_=e.cell,g=e.logParams,v=e.disableDislike,k=void 0!==v&&v,D=e.onDislike,L=e.onSubscribe,U=e.onLikeChange,M=e.onItemClick,P=Object(w.useContext)(j.a),W=Object(w.useState)(!1),B=y()(W,2),F=B[0],V=B[1],Q=_.__channel_id===I.a.get().follow.channelId,H=null;56===_.cell_type?H={subType:A.a.COMMENT,groupId:_.id_str,itemId:_.id_str,userInfo:_.__user_info,showSubscribe:!(null===(a=_.comment_base)||void 0===a||null===(r=a.user)||void 0===r||null===(o=r.relation)||void 0===o?void 0:o.is_following),commentCount:null===(i=_.comment_base)||void 0===i?void 0:i.action.comment_count,userDigg:null===(c=_.comment_base)||void 0===c?void 0:c.action.user_digg,likeCount:null===(l=_.comment_base)||void 0===l?void 0:l.action.digg_count,timestamp:null===(u=_.comment_base)||void 0===u?void 0:u.create_time,content:null===(s=_.comment_base)||void 0===s?void 0:s.content,articleUrl:_.__detail_url,coverUrls:[],filterWords:null===(f=_.filter_words)||void 0===f?void 0:f.filter_words,title:_.title,repostParams:null===(d=_.comment_base)||void 0===d?void 0:d.repost_params,commentType:_.comment_type,originGroup:_.origin_group,originThread:_.origin_thread,originUgcVideo:_.origin_ugc_video,originCommonContent:_.origin_common_content}:H={subType:A.a.UGC,groupId:_.item_id,itemId:_.item_id,userInfo:R(R({},_.__user_info),{},{avatarUrl:null===(m=_.user)||void 0===m?void 0:m.avatar_url,isFollow:!!(null===(p=_.user)||void 0===p?void 0:p.is_following)}),showSubscribe:_.__show_subscribe,commentCount:_.comment_count,userDigg:_.user_digg,likeCount:_.digg_count,timestamp:_.publish_time,content:_.content,articleUrl:_.__detail_url,coverUrls:_.__cover_urls,filterWords:null===(b=_.filter_words)||void 0===b?void 0:b.filter_words,title:_.title,repostParams:_.repost_params,originGroup:null,originThread:null,originUgcVideo:null,originCommonContent:null,videoCoverInfo:Object(x.b)(_)};var z={impr_id:null===(t=_.log_pb)||void 0===t?void 0:t.impr_id,impr_type:Object(C.l)(_),group_type:Object(C.k)(H.coverUrls.length),category_name:Object(C.i)(_),enter_from:Object(C.j)(_),from_page_name:g.page_name,channel_id:_.__channel_id,section:_.__log_section||"feed",position:g.position,is_following:(null===(n=_.__user_info)||void 0===n?void 0:n.isFollow)?"1":"0",is_top_content:"0",show_rank:_.__log_show_rank},K={position:g.position,article_type:"wtt"};return E.a.createElement(S.a,{cell:_},E.a.createElement("div",{className:O()("feed-card-wrapper feed-card-wtt-wrapper",{visited:F})},E.a.createElement(N.a,{data:H,disableSubscribe:Q,disableDislike:k,hideAuthInfo:Q,logInfo:z,onDislike:function(e){var t;D(R(R({},_),{},{dislikeType:e})),Object(C.n)(_,R(R({},K),{},{is_following:(null===(t=_.__user_info)||void 0===t?void 0:t.isFollow)?"1":"0",dislike_type:e,content_type:"single"}))},onSubscribe:function(e){L(e,_),e?Object(C.o)(_,P):Object(C.r)(_,P)},onLikeChange:function(e){U(_,e),1===e?Object(C.p)(_,P,K):Object(C.s)(_,P,K)},onClickToDetail:function(){var e,t,n;null==M||M(),V(!0),Object(C.c)(R(R({area:_.__log_area||("all"===(null===(e=_.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:_.group_id,href:_.__detail_url},g),{},{enter_from:Object(C.j)(_),category_name:Object(C.i)(_),channel_id:null===(t=_.__channel_info)||void 0===t?void 0:t.channelId,impr_id:null===(n=_.log_pb)||void 0===n?void 0:n.impr_id,is_top_content:_.is_stick?"1":"0",section:_.__log_section||("list"===g.position?"feed":"detail_feed"),group_source:_.group_source,article_type:"wtt",group_id:_.group_id,show_rank:_.__log_show_rank,group_type:Object(C.k)(H.coverUrls.length),log_pb:h()(_.log_pb),wtt_video:Object(T.a)(_)}))},onShare:function(e){Object(C.q)(_,P,R(R({},K),{},{share_platform:e}))},onDislikeClick:function(){var e;Object(C.g)(_,{is_following:(null===(e=_.__user_info)||void 0===e?void 0:e.isFollow)?"1":"0",article_type:"wtt",position:g.position})},onShareAction:function(e){Object(C.t)(_,R(R({},K),{},{action_type:e}))},onWttSubmit:function(){Object(C.w)(_,K)}})))}},"0cf12f4e582259e8d6e3":function(e,t,n){},"0d13cfc104591c0e9914":function(e,t,n){},"0d214310f816f0979a43":function(e,t,n){},"0e07c12661fbe9d3d4af":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("f379d8630b54b982148d"),i=n("93fd3eb7060d3a0ca436"),c=n("174811872339f1d02c40"),l=n.n(c),u=(n("85bedbb2b0d842c78b07"),n("be6323750fae7868d676")),s=n("6740510cbb0e5ccf88eb"),f=n("b65c96faf0c123cf88e4"),d=n("38c58096afa111fcdfd2"),m=n("42d4f6648edde20f9953");t.a=function(e){var t=e.originGroup,n=e.originThread,c=e.originUgcVideo,p=e.originCommonContent,b=e.commentType,h=void 0===b?0:b,_=e.logInfo,g=e.onClick,v=Object(s.a)({commentType:h,originGroup:t,originThread:n,originUgcVideo:c,originCommonContent:p}),y=Object(a.useMemo)((function(){return!(null==v?void 0:v.content)&&0===(null==v?void 0:v.showOrigin)&&v.showTips?v.showTips:Object(i.a)(Object(u.d)((null==v?void 0:v.content)||""))}),[null==v?void 0:v.content,null==v?void 0:v.showOrigin,null==v?void 0:v.showTips]);if(!v)return null;var w=0!==v.coverUrls.length,E=function(){null==g||g(v)};return r.a.createElement("div",{className:"origin-card-wrapper"},r.a.createElement("div",{className:l()("card-l",{"with-pic":w})},v.userInfo&&r.a.createElement("div",{className:"user-info"},r.a.createElement("a",{href:"/c/user/token/".concat(v.userInfo.uid,"/?source=").concat(null==_?void 0:_.page_name),target:"_blank",rel:"noopener nofollow",title:v.userInfo.name},r.a.createElement(o.a,{url:v.userInfo.avatarUrl}),r.a.createElement("span",{className:"name"},v.userInfo.name)),r.a.createElement(m.a,{size:13,authType:v.userInfo.authType}),r.a.createElement("span",{className:"auth-info"},v.userInfo.authInfo)),r.a.createElement("p",{className:"origin-content"},v.content?r.a.createElement(d.a,{href:v.articleUrl,target:"_blank",rel:"noopener",logInfo:_,dangerouslySetInnerHTML:{__html:y},onClick:E},null):y)),w&&r.a.createElement("div",{className:"card-r"},r.a.createElement(f.a,{cover:v.coverUrls[0],articleUrl:v.articleUrl,logInfo:_,onClickToDetail:E}),!!v.hasVideo&&!v.videoDuration&&r.a.createElement("i",null),!!v.videoDuration&&r.a.createElement("span",{className:"video-duration"},Object(u.h)(v.videoDuration))))}},"0edd1c2e1c839e1de69f":function(e,t,n){},"0faef3a5864b370ab140":function(e,t,n){},1:function(e,t,n){e.exports=n("6b996a83bd1cc594b231")},"10130cfc2ba27a09b7e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return L})),n.d(t,"f",(function(){return U}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("ce3396523f5b19ebecad"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("b28d054028530bf1d2eb"),y=n.n(v),w=n("4ff4f3dbe18f70243983"),E=n.n(w),k=n("21d65a030ead917f710a"),O=n.n(k),j=n("626346d0a60969063da7"),A=n.n(j),C=n("be6323750fae7868d676");function I(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):I(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var T=new(function(){function e(t){E()(this,e),this.channelMap=JSON.parse(y()(t))}return O()(e,[{key:"addChannel",value:function(e,t){return this.channelMap[e]=t,this.channelMap}},{key:"updateChannel",value:function(e,t){return this.channelMap[e]=x(x({},this.channelMap[e]),t),this.channelMap}},{key:"get",value:function(){return this.channelMap}}]),e}())({follow:{key:"follow",category:"news_follow",channelId:60021127260,name:"\u5173\u6ce8"},all:{key:"all",category:"__all__",channelId:0,name:"\u63a8\u8350"},hot:{key:"hot",category:"news_hot",channelId:3189398996,name:"\u70ed\u70b9"},xigua:{key:"xigua",category:"xigua",channelId:-1,name:"\u89c6\u9891",url:"https://www.ixigua.com/"},video:{key:"video",category:"video",channelId:3431225546,name:"\u89c6\u9891"},local:{key:"local",category:"news_local",channelId:3202164529,name:"\u5317\u4eac"},finance:{key:"finance",category:"news_finance",channelId:3189399007,name:"\u8d22\u7ecf"},tech:{key:"tech",category:"news_tech",channelId:3189398999,name:"\u79d1\u6280"},entertainment:{key:"entertainment",category:"news_entertainment",channelId:3189398972,name:"\u5a31\u4e50"},sports:{key:"sports",category:"news_sports",channelId:3189398957,name:"\u4f53\u80b2"},wenda:{key:"wenda",category:"question_and_answer",channelId:6761210920,name:"\u95ee\u7b54"},dcd:{key:"dcd",category:"dcd",channelId:-1,name:"\u61c2\u8f66\u5e1d",url:"https://www.dongchedi.com/?zt=tt_pc_home_channel"},live:{key:"live",category:"live",channelId:94349530259,name:"\u76f4\u64ad",url:"https://live.ixigua.com"},gallery:{key:"gallery",category:"\u7ec4\u56fe",channelId:5443492141,name:"\u56fe\u7247"},world:{key:"world",category:"news_world",channelId:3189398968,name:"\u56fd\u9645"},digital:{key:"digital",category:"digital",channelId:3189398981,name:"\u6570\u7801"},military:{key:"military",category:"news_military",channelId:3189398960,name:"\u519b\u4e8b"},game:{key:"game",category:"news_game",channelId:3189398995,name:"\u6e38\u620f"},history:{key:"history",category:"news_history",channelId:3189398965,name:"\u5386\u53f2"},food:{key:"food",category:"news_food",channelId:3189399002,name:"\u7f8e\u98df"},essay:{key:"essay",category:"news_essay",channelId:3189399001,name:"\u7f8e\u6587"},regimen:{key:"regimen",category:"news_regimen",channelId:3189398959,name:"\u517b\u751f"},travel:{key:"travel",category:"news_travel",channelId:3189398983,name:"\u65c5\u6e38"},discovery:{key:"discovery",category:"news_discovery",channelId:3189398978,name:"\u63a2\u7d22"},fashion:{key:"fashion",category:"news_fashion",channelId:3189398984,name:"\u65f6\u5c1a"},baby:{key:"baby",category:"news_baby",channelId:3189399004,name:"\u80b2\u513f"}});function S(e){return h()(T.get()).filter((function(t){return t.channelId===e}))[0]}function N(e,t){var n=e;if(t&&n.more.some((function(e){return e===t})))return{default:n.default.map((function(e,a){return a===n.default.length-1?t:e})),more:n.more.map((function(e){return e===t?n.default[n.default.length-1]:e}))};return n}function D(e,t,n){var a=T.get(),r=N(e,n);return t&&(a=T.updateChannel(a.local.key,{name:t.name,channelId:t.channelId})),{default:r.default.map((function(e,t){return x(x({},a[e]),{},{rank:t+1,inMore:0})})),more:r.more.map((function(e,t){return x(x({},a[e]),{},{rank:t+1,inMore:1})}))}}function R(e,t,n){var a,r=D(N({default:t.default.map((function(e){return e.key})),more:t.more.map((function(e){return e.key}))},e),n);return a=e,A.a.set("__feed_out_channel_key",a,{expires:365}),r}function L(){var e=T.get();return e[Object(C.m)().channel||e.all.key]||e.all}function U(e,t){var n=e.default.map((function(e){return e.key})).indexOf(t)+1,a=e.more.map((function(e){return e.key})).indexOf(t)+1;return n||a||0}},"1114286b3a839994fd62":function(e,t,n){"use strict";n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return D}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("69084d01d3449fc1bc27"),g=n.n(_),v=n("174811872339f1d02c40"),y=n.n(v),w=n("20c6f2e62cf94b7db59c"),E=n("be6323750fae7868d676"),k=n("6cf195ddfada1b0033e1"),O=n("6f7c19fbb5122ede4b67"),j=n("c0c721f9f12a8d2dd2bc"),A=n("82028901f8980c14ba42");function C(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):C(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function x(){window.sessionStorage.setItem("__enter_from_follow_channel","1")}function T(){return!!window.sessionStorage.getItem("__enter_from_follow_channel")&&"follow"===Object(E.m)("from_scene")}var S=["all","video","short_video"];function N(){var e=Object(E.m)("from_scene");return S.includes(e)}function D(){return"hotboard"===Object(E.m)("from_scene")}t.a=function(e){var t=e.showFollow,n=e.showWorks,a=e.tabs,r=e.activeTabKey,o=e.logParams,i=e.onTabChange,c=Object(_.useRef)(!1);function l(e){var t=Object(w.a)();Object(k.a)("content_section_show",I(I({},o),{},{category_name:(null==t?void 0:t.category_name)||"",enter_from:(null==t?void 0:t.enter_from)||"",list_entrance:(null==t?void 0:t.category_name)||"",section:e}))}return Object(j.a)((function(){!(T()||N())&&l("video_detail_related")})),Object(O.a)((function(){r!==A.c.RECOMMEND.key||c.current||(c.current=!0,l("video_detail_related"))}),[r]),Object(O.a)((function(){t?l("video_detail_follow"):n&&l("video_detail_profile")}),[t,n]),g.a.createElement("div",{className:y()("video-detail-tabs",{more:a.length>1})},g.a.createElement("ul",null,a.map((function(e){return g.a.createElement("li",{className:y()({active:e.key===r}),tabIndex:0,role:"tab","aria-label":e.name,key:e.key,onClick:function(){return i(e.key)}},g.a.createElement("h2",null,e.name))}))))}},"131d74e95e8c5fcb4771":function(e,t,n){e.exports=n.p+"svgs/wenda_icon.0d6d1616.svg"},"167789bd516d2baf7295":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s}));var a=n("2a30917228e426295262"),r=n.n(a),o="undefined"!=typeof window,i=(o&&/macintosh|mac os x/.test(window.navigator.userAgent.toLowerCase()),o&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin))),c=function(){if(!o)return!1;var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>-1)return!!r()(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>-1){var n=e.indexOf("rv:");return!!r()(e.substring(n+3,e.indexOf(".",n)),10)}return!1},l=o&&/boe-gateway.byted.org/.test(location.host);function u(){if(!o)return!1;var e=window.navigator.userAgent;return!!/Dalvik/.test(e)||/mobile/i.test(e)}var s=o&&(/iPad/.test(window.navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)},"1996c46f3c8a49327c94":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("edc2b76b5d9ea09775b6"),r=function(e,t){return e?(t&&t(),!0):(a.a.show({title:"OTHER"}),!1)}},"19e1e56018f7274819f9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAMAAACPHmKLAAAAM1BMVEVHcEzxQEHwQEHwQUHvQEDwQUHwQELvQEDwQUHvQEDwQEHwQEHvQEDwQELwQEHwQELwQULQdpGMAAAAEHRSTlMAn2DvEL+AIN86kFAhcM+vUcBIKwAAAVJJREFUSMfVVduChCAIVVTwsmn//7W76kybilbzNrwFnLgfhfgi0UQPnMFHtf+JMj7oa3+Xivch0q39yeyDpFV+284KTgt4BzBbICLn8FDwYcgWq8JTtYRVaTmIrjbfdYd8hTBNKxkopjOu/MoMepwGFz8FsvVFsACQMplo64Q6o8y6PiVoZzmG8H06coGQbBFNjNasJ5MF6REBgnP9KgemsrV4tuErMat1e2do46mXueHh4s7yRvx/csPoB599dDMNuoGgzxHiBsI1WQnbfE0Rp8pdtHDR3HwN8fHI5BNAKbwbWSaPAIDoJUx4STNE8hJgD1cOuzg7njcLuMW5ATeM1FVR2dxGk+RQRyUT4kpbsQ/yDGcfMNzBol0Y7efE+2qwxZNRo5oDzq8BZvKgsB0KvVo3RrbVqyZHf3NxOR1GJXfjdQ7e1HlGD/r+ehNp8U3yC/YPH/jMrgU4AAAAAElFTkSuQmCC"},"1b69c40e39893f89b5f5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={all:{key:"all",category:"profile_all",show_name:"\u5168\u90e8",log_name:"all"},article:{key:"article",category:"pc_profile_article",show_name:"\u6587\u7ae0",log_name:"article"},video:{key:"video",category:"pc_profile_video",show_name:"\u89c6\u9891",log_name:"video"},wenda:{key:"wenda",category:"profile_wenda",show_name:"\u95ee\u7b54",log_name:"qa"},wtt:{key:"wtt",category:"pc_profile_ugc",show_name:"\u5fae\u5934\u6761",log_name:"wtt"},collection:{key:"collection",category:"profile_collection",show_name:"\u5408\u96c6",log_name:"collection"},short_video:{key:"short_video",category:"pc_profile_short_video",show_name:"\u5c0f\u89c6\u9891",log_name:"shortvideo"},fav:{key:"fav",category:"my_favorites",show_name:"\u6536\u85cf",log_name:"favorite"},search:{key:"search",category:"",show_name:"",log_name:"search"}}},"1b6e0af22b27be14137b":function(e,t,n){},"1d4bf58ebc5c26c7536d":function(e,t,n){},"1d7fcef557f69e9ba680":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("acff6c447f863638e55f"),g=n("be6323750fae7868d676");function v(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):v(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function w(e){var t,n;return e.label?e.label:(null===(t=e.video_detail_info)||void 0===t?void 0:t.video_watch_count)>=1e7?"\u5343\u4e07\u64ad\u653e":e.comment_count>=1e4?"".concat(Object(g.j)(e.comment_count,!1,!1),"\u8bc4\u8bba"):e.share_count>=1e4?"".concat(Object(g.j)(e.share_count,!1,!1),"\u5206\u4eab"):e.digg_count>=1e4?"".concat(Object(g.j)(e.digg_count,!1,!1),"\u70b9\u8d5e"):(null===(n=e.video_detail_info)||void 0===n?void 0:n.video_watch_count)>=1e6?"\u767e\u4e07\u64ad\u653e":""}function E(e){return e.filter((function(e){return 211===e.cell_type})).map((function(e){var t,n,a,r,o;return{behotTime:e.behot_time,itemId:e.item_id,groupId:e.group_id,gid:e.gid,groupSource:e.group_source,title:e.title,rank:Number(e.rank)+1,imgUrl:(null===(t=e.middle_image)||void 0===t?void 0:t.url)||(null===(n=e.video_detail_info)||void 0===n||null===(a=n.detail_video_large_image)||void 0===a?void 0:a.url),sourceUrl:Object(_.b)(_.a.SELF_VIDEO,e.group_id),duration:Object(g.h)(e.video_duration),name:e.media_name||e.source,profileUrl:"/c/user/token/".concat(null===(r=e.user_info)||void 0===r?void 0:r.sec_user_id,"/"),watchCount:Object(g.j)(null===(o=e.video_detail_info)||void 0===o?void 0:o.video_watch_count,!1,!1),tag:w(e),userInfo:e.user_info,logInfo:y(y({},e.log_pb),{},{item_id:e.item_id,show_rank:Number(e.rank)+1,section:"hot_video"})}}))}function k(e,t){return y(y({},e.logInfo),{},{category_name:t.category_name,enter_from:t.enter_from})}},"1e57c421e41f48e4643f":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n("cea817f8710b3702b0ef"),r=n.n(a),o=n("346b28504d968a7cb889"),i=n.n(o),c=n("663529bce6ee6d8996f5"),l=n("167789bd516d2baf7295"),u=n("4e16ef1abe038022cfb8"),s=n("be6323750fae7868d676");function f(){return d.apply(this,arguments)}function d(){return(d=i()(r.a.mark((function e(){var t,n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.a.tcc.getTccConfig();case 5:if(200===(null==(a=e.sent)?void 0:a.status)){e.next=8;break}throw new Error("request fail");case 8:t=Object(s.t)((null===(n=a.data.data)||void 0===n?void 0:n.wza_sdk)||{}).version,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),Object(u.b)("fetch_wza_tcc_error");case 14:t||(t="4.5.4"),(o=document.createElement("script")).src="//lf3-cdn-tos.bytescm.com/goofy/toutiao/toutiao_web_pc/wza/".concat(t,"/aria.js?appid=df8e29823e2f4c0822e3693ee653bfc5&__v=4"),document.body.appendChild(o);case 18:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function m(){if(!l.b)return!1;var e=Object(s.t)(window.localStorage.getItem("aria")||"{}");return!!(null==e?void 0:e.status)}},"1e93314aaf7aabdbfbff":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a);n("641fd1e48a712db13213");t.a=function(){return r.a.createElement("div",{className:"multi-item-error"},r.a.createElement("i",null),r.a.createElement("span",null,"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25"))}},"1f905cf4bd7dbd1c2573":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAPFBMVEVHcEzvQEDwQUHwQEHwQULwQULvQEDwQUHvQEDwQELxQULwQUHxQEHwQUL////6urr3lpb95+fyUVL0bm8V8ewmAAAADXRSTlMAIJBZvIA85RBwnc9n3O4v5QAAAZhJREFUWMPNmNtyhDAIhk2MIRmHGN33f9d6aKvWFYhhZ/pfO99wEAI0zb2Cj9YB4CzonY2+eaIQ3Yo4ybWmmII3cm0BpgMkBJ3RwGwoAcezmBXFBT5YFMoGimMAxQJT69Yv6TZ/EQsV33M6LFanYs+NTS0+kq/JF5W78JAzk87/k8XHsgoBuoYJakAH5zqsUlebsYtJlQbtJkEt6NukFqu1VYojvphyzgKQW0NNfTGmlIaJJwXGs5wWjZPIN8qzIW2kl8Q35EEpZT5vXgRiSZ5ujDuIC3mkG8gBxITckrE+geiQu6YXg8hAAV1of0AECcjsX0AEqRA0/jsQ4VpRsAelrBHp7/V+SLUSUStaYRsZ2DZCziHixoaarTZqNP9lwA3UsyZ9jgz3QGLOLx6zPZDPxtmrZzXz415oymNNrUn7iKw1+lWaBMf9Sms8VhvY9VYItaXmcZjazy1+equo3nI8D7hl67r//AFB76Shd2RZsyc4+wTRBclwh6ggP2q196exGMrObOYNC4opP4GP1vXb+RCW8yFF+QLsLs/tCfTGZwAAAABJRU5ErkJggg=="},"20c6f2e62cf94b7db59c":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba");var a=n("80163d0657a0dbb02e68"),r=n("bd8ea4fd9e1bc4efca14");function o(e,t){if(!t)return e;var n,a,o,i="".concat(Math.random().toString(16).substr(2),"_").concat(Date.now()),c=Object(r.d)(e,(o=i,(a="log_from")in(n={})?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n));return window.sessionStorage.setItem(i,JSON.stringify(t)),c}function i(){if(!a.b)return null;var e=Object(r.b)("log_from"),t=window.sessionStorage.getItem(e);return t?Object(r.e)(t):null}},"229a5ee8951efd08f85c":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("2fadeaed9bdb1dd22487"),g=n.n(_),v=n("69084d01d3449fc1bc27"),y=n("08172d9560ad9ddbd809"),w=n("6cf195ddfada1b0033e1"),E=n("617300dd2ee3a73fcfd5");function k(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):k(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function j(e){var t=Object(v.useRef)(null),n=Object(v.useState)(!1),a=g()(n,2),r=a[0],o=a[1];function i(e){e.preventDefault(),t.current=e,o(!0)}function c(){o(!1)}return Object(v.useEffect)((function(){return Object(y.a)()&&!Object(y.c)()&&(window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",c)),function(){window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",c)}}),[]),{PWAInstallable:r,addToDesktop:function(){if(t.current){var n=O({show_rank:Object(E.b)()},e.logParams);Object(w.a)("pwa_add_click",n),t.current.prompt(),t.current.userChoice.then((function(e){"accepted"===e.outcome?(Object(w.a)("pwa_add_confirm",n),Object(w.a)("pwa_add_result",O(O({},n),{},{result:"success"})),c()):Object(w.a)("pwa_add_cancel",n),t.current=null}))}}}}},"2422758950d9f66b7423":function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return _})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return E}));var a,r=n("b3d627bf45117b33693e"),o=n.n(r),i=n("305576e46300a8ac2ace"),c=n.n(i),l=n("131d74e95e8c5fcb4771"),u=n.n(l),s=n("54d78c4ccd85f964eb38"),f=n.n(s),d=24,m="toutiao_web",p={0:"//p3.toutiaoimg.com/origin/pgc-image/b13dded4c4e948e293e217f95e8565b4",1:"//p3.toutiaoimg.com/origin/pgc-image/49b94e2643784e93bee691e8752e5176",2:"//p3.toutiaoimg.com/origin/pgc-image/94241aec5d0e4ffcb5d8c3eda3b2abf6"},b={article:"article",ugc:"ugc",comment:"comment",gallery:"gallery"},h={article:"tuwen_detail",gallery:"tuwen_detail",ugc:"weitoutiao_detail",comment:"weitoutiao_detail",trendingTopic:"amos_land_page",wenda:"wenda_detail"},_={article:"text",gallery:"text",ugc:"wtt",comment:"wtt",video:"video",short_video:"shortvideo"},g={DEFAULT:200,ARTICLE:206,WTT:201,WENDA_QUESTION:202,WENDA_ANSWER:203,VIDEO:207,SHORT_VIDEO:208},v=[{icon:o.a,text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{icon:c.a,text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{icon:u.a,text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{icon:f.a,text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}],y={USER:"0",MEDIA:"1",WEMEDIA:"2",GOV:"3",ADVERTISER:"4",ENTERPRISE:"5",ORGANIZATION:"6",NEWS_MEDIA:"7",CO_MEDIA:"8"},w={ARTICLE:22,WTT:2,COMMENT:1,WENDA_QUESTION:1026,WENDA_ANSWER:1025,VIDEO:23,SHORT_VIDEO:6};!function(e){e.UNKNOWN="unknown",e.VIDEO="video",e.SHORT_VIDEO="short_video"}(a||(a={}));var E="40132"},"2560966d267a85e8aabc":function(e,t,n){},"272790d62ccc592f0603":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2BAMAAAB+a3fuAAAAMFBMVEVHcEz////////////////////////////////////////////////wQULxTU73mpuw3LHGAAAADHRSTlMA799wQJ8agLpfoM+GoKk6AAABPklEQVQ4y5WUrU4DQRDHp1DaFNWEgKrgASpKgqxoUosADQIUtgrFA1Sc6ANg8Fgc5rZtOMIEnmDhBfh4AWjoHd3bmb2dIfzd5JfMzs7HH6DU8LiLZrwPVdWP8FfbgxCdd9DJTDha9yiEjQSpzClhe8i15VETQ41KdlJhc4c2sKrDFbuMsPtV/RhTr2BnUbZTsG6UZTlqIYpJ1wSWJ73y4fPHF6+UPPdtX32QLudG0rzbFxINYJNE1lrWmprI2nAgshn0RTaFRGRzhT2W31tYp0+3NeBaYr1ccxx7IuztHyyaU6vlTvxDBjcK03qm9VqbkTZbbSegI+yS4ZfCdvBBPAfEXfGMEAtDSKLI/Hlj2m1qN81aE3oBm1PgIar3aJ4FDe4HGfU6aFGY9riBEpheVDz5WvTk3MvHSy+/JV7+A8tEjs/vnGz4AAAAAElFTkSuQmCC"},"2851b3b5ef18f4eb994b":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return x}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b);function _(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):_(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var v="1",y="2",w="3",E="4",k="5",O="6",j="21",A={UN_INTEREST:"no_interest",REPORT_TITLE:"report_title",REPORT_REPEAT:"report_repeat",REPORT_COVER:"report_cover",REPORT_QUALITY:"report_quality",BLOCK:"block",SHIELD:"shield"},C=[{id:"316",name:"\u6807\u9898\u5938\u5f20",dislikeType:A.REPORT_TITLE},{id:"303",name:"\u65e7\u95fb\u91cd\u590d",dislikeType:A.REPORT_REPEAT},{id:"317",name:"\u5c01\u9762\u53cd\u611f",dislikeType:A.REPORT_COVER},{id:"318",name:"\u5185\u5bb9\u8d28\u91cf\u5dee",dislikeType:A.REPORT_QUALITY}];function I(e){var t={dislikeType:A.UN_INTEREST},n=null,a=[];return null==e||e.forEach((function(e){var t;switch(null===(t=e.id.match(/(\S*):/))||void 0===t?void 0:t[1]){case k:n=g(g({},e),{},{name:e.name.replace("\u62c9\u9ed1\u4f5c\u8005:",""),dislikeType:A.BLOCK});break;case v:case y:case w:case E:case O:case j:var r=e.name.replace("\u4e0d\u60f3\u770b:","");a.push(g(g({},e),{},{name:r,dislikeType:"".concat(A.SHIELD,"_").concat(r)}))}})),{unInterestData:t,blockData:n,shieldData:a}}function x(e){return Array.prototype.slice.call((null==e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];return(null==t?void 0:t.className.indexOf("dislike-type-wrapper"))>-1?t.childNodes[0]:t})).filter(Boolean)}},"2a9af8857f6d9a7fa24d":function(e,t,n){},"2bf51d882fa5b4b498fb":function(e,t,n){},"2c18967c0e862cf8b7d2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=24,r=[".baidu.",".sogou.",".so.",".360.",".google.",".bing."]},"2cfd2ca28fcaddaf4ef6":function(e,t,n){},"2e5f6a6d4be69858132d":function(e,t,n){},"2fb346eb9d0bf63cb593":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=(n("bd59e351304c36b262a0"),n("be6323750fae7868d676"));t.a=function(e){var t=e.children,n=e.inViewHandler,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=!0,t=Object(o.u)((function(){e&&Object(o.p)(i.current)&&(e=!1,n(),window.removeEventListener("scroll",t))}),200);return t(),window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[]),r.a.createElement("div",{ref:i,className:"show-monitor"},t)}},"2ff48fdeecc4055b71ec":function(e,t,n){},"302c2db6d5e6ba63abcd":function(e,t,n){},"302e7cd491a3c75c7a06":function(e,t,n){},"305576e46300a8ac2ace":function(e,t,n){e.exports=n.p+"svgs/wtt_icon.0c5bb1de.svg"},"3563c6d1faece9f4f9e5":function(e,t,n){},"36091a6286193bdd62ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var a=n("b28d054028530bf1d2eb"),r=n.n(a),o=n("99cf401087dd36bc9dc3"),i=n.n(o),c=n("4905f80144af6010629a"),l=n.n(c),u=n("be6323750fae7868d676"),s=n("167789bd516d2baf7295");function f(e,t){if(!t)return e;var n="".concat(Math.random().toString(16).substr(2),"_").concat(l()()),a=Object(u.r)(e,i()({},"log_from",n));return window.sessionStorage.setItem(n,r()(t)),a}function d(){if(!s.b)return null;var e=Object(u.m)("log_from"),t=window.sessionStorage.getItem(e);return t?Object(u.t)(t):null}},"38c58096afa111fcdfd2":function(e,t,n){"use strict";var a=n("56c1dc570fb02868cb13"),r=n.n(a),o=n("0ea997c98daa26e2c67d"),i=n.n(o),c=n("69084d01d3449fc1bc27"),l=n.n(c),u=n("36091a6286193bdd62ec"),s=n("be6323750fae7868d676"),f=["href","target","rel","logInfo","onClick","children","jumpQuery"];t.a=function(e){var t=e.href,n=e.target,a=e.rel,o=e.logInfo,c=e.onClick,d=e.children,m=e.jumpQuery,p=i()(e,f);return l.a.createElement("a",r()({href:t,target:n,rel:a,onClick:function(e){if(null==c||c(e),t&&(o||m)){e.preventDefault();var n=Object(s.r)(t,m);n=Object(u.b)(n,o),window.open(n)}}},p),d)}},"3aac1932c02d51e20abb":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a,r=n("4e16ef1abe038022cfb8"),o=n("be6323750fae7868d676");function i(e){return e.large_image_list?e.large_image_list[0].url:e.video_detail_info?e.video_detail_info.detail_video_large_image.url:e.thumb_image_list?e.thumb_image_list[0].url:""}function c(e){return e.video.height>e.video.width?a.PORTRAIT:a.LANDSCAPE}function l(e){var t,n,r=e.video_play_info&&Object(o.t)(e.video_play_info),i=null==r||null===(t=r.video_list)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.video_meta;return i&&i.vheight>i.vwidth?a.PORTRAIT:a.LANDSCAPE}function u(e){var t=Object(o.t)(e);return{coverUrl:i(t),duration:t.video.duration,videoOrientation:c(t)}}function s(e){try{if(e.video_group)return u(e.video_group);if(e.video_link_card_info)return u(e.video_link_card_info.video_group);if(e.video_info)return function(e){var t;return{coverUrl:Object(o.s)((null===(t=e.u12_cover_image)||void 0===t?void 0:t.url)||""),duration:e.duration,videoOrientation:l(e)}}(e.video_info)}catch(t){Object(r.c)(t)}}!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape"}(a||(a={}))},"3ce3cae18387fd3ef8b6":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMACgcHCAcGCggICAsKCgsOGBAODQ0OHRUWERgjHyUkIh8iISYrNy8mKTQpISIwQTE0OTs+Pj4lLkRJQzxINz0+O//bAEMBCgsLDg0OHBAQHDsoIig7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O//AABEIAHoAewMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAHAAUGBAMCAf/EAEAQAAECBAEFDQYGAgIDAAAAAAECAwAEBQYRFzaTsdEHEhYhMTQ1U1Vyc3SyExVBUVSiUnGRkqPSI4NhlEKBgv/EABoBAAIDAQEAAAAAAAAAAAAAAAMEAAECBQb/xAA1EQABAwIBCQcDAwUAAAAAAAABAAIDBBEFEhMhMUFRYXHBBhQyYoGRoTM14SI00UJScqKx/9oADAMBAAIRAxEAPwC6rd8VqQrc5KMLZDbLykJxbxOAMcOUW4Osl9EIq7oznqXmF646retOauJh56XmGWg0oJIcx4+LH4COXlyF1gSvdNpqKOnbJKwAWGmy6sotwdZL6IRMotwdZL6IR25MKl9dK/dsiZMKl9dK/dsjdpuKBnMI8vt+FxZRbg6yX0QiZRbg6yX0QjtyYVL66V+7ZEyYVL66V+7ZEtNxUzmEeX2/C4sotwdZL6IRMotwdZL6IR25MKl9dK/dsiZMKl9dK/dsiWm4qZzCPL7fhcWUW4Osl9EImUW4Osl9EI7cmFS+ulfu2RMmFS+ulfu2RLTcVM5hHl9vwuLKLcHWS+iETKLcHWS+iEduTCpfXSv3bImTCpfXSv3bIlpuKmcwjy+34XFlFuDrJfRCJlFuDrJfRCO3JhUvrpX7tkV9asedolNcn3pphxCCAUoxx4zh8RFHPAXN1thwp7g1obc8F95Rbg6yX0QhVZUVsoWo8akgmAGH6X5s13Bqg9M5ziblczHKeKER5toF76vRC10Zz1LzC9cbTcv6NnvGTqjF3RnPUvML1xtNy/o2e8ZOqAw/W910MR+2Dk3oq2t3xWpCtzkowtkNsvKQnFvE4Axw5Rbg6yX0QirujOepeYXrjY0GxaPUaHKTj5mPavNhSt64AMf0igZHuIaVb2UNNTskljGkDZwVFlFuDrJfRCEqizbs9RZObfILrzKVqIGAxIiiyb0H8U1pRsjSSUo3ISTMozvvZsoCE744nAQ1CyRp/UVw8Qno5WAU7bG+6yNqhftclqlNMNrY3jTy0Jxa+AJAhFpMw5OUiSmnSPaPS7bi8BgMSkEwK1jpqe8w56jDNb+blM8m16BA6dzi43KbxeniigjcxoBP8I8m7/rrM4+0hxjeocUkYtDkBjxyi3B1kvohGvd3PKI88t1aprfLUVHBwcpOPyj5yb0H8U1pRsjObn3/ACitrMKsLx/CyWUW4Osl9EImUW4Osl9EIzTyA2+4hPIlRA/WE9nc6oa2ULJmsVJBP+QbIGzOv8J+U/VDD6UNMkY08FlcotwdZL6IRtN0DNGZ77fqEEULu6BmjM99v1CNxuLmPuUrXU8UNVT5toF3bOYRFD9L82a7g1QAw/S/Nmu4NUapdZQ+0OqP16IWujOepeYXrjabl/Rs94ydUYu6M56l5heuNpuX9Gz3jJ1QOH63umsR+2Dk3osXdGc9S8wvXHVJXpW6fJtSkvMIS00neoBaScBHLdGc9S8wvXG0oFkUWoUKTm5ht4uvN75W9cIGMYa1znkNR55qeKljNQ24sNl9izeUC4vqm9CnZEygXF9U3oU7IpqtLtydYnZZkENszDjaMTicAogRv6LY1EnqJJzb7bxceZSteDhAxIjTM682B+Vmp7hTRtkfGLHgEcPvLmX3H3DitxRWogYYknEw3W/m5TPJtegQLVBlEtUpphvEIaeWhOJ+AJAhpt/NymeTa9AglL4ikseIMEZGq/RHE3flwMzj7SJlsJQ4pI/wp5AfyjxygXF9U3oU7I27tgUF55bq2398tRUf8p5THzk7t/qn9KYmam3/ACsNrsLAF4v9Qidaitalq5VHEw+S/Nmu4NUAr6Qh9xCeRKiB+sPUvzZruDVF0msq+0Hhi9eiAYXd0DNGZ77fqEfGTu3+qf0pj73QM0Znvt+oRbY3MY66xUV8VXVQZu+h23iQiKH6X5s13BqgBh+l+bNdwaoql1lb7Q6o/Xoha6M56l5heuNpuX9Gz3jJ1Ri7oznqXmF642m5f0bPeMnVA4fre6axH7YOTeixd0Zz1LzC9cKtpZq07wRrjzmrOoE7NOzMxIb911RUtXtnBiT+SotZSUYkZRuVlkezZaG9QnEnAfmeOGIonMeXFcWvxCKop2RMBu22vlbehS4M46n5x31mF62M2Kb5ZGqOaYsy35qZdmHqfvnXVla1e2cGJJxJ4lRbysszJSzctLo3jTSQlCcScAP+TFxROY4kq8QxCKpgZGwG438uaD6x01PeYc9Rixl7zuCVlmpdmobxplAQhPsWzgkDADjTFdWOmp7zDnqMJNHsy35qiyMw9T9+69LNrWr2zgxJSCTxKhSNr3E5JsvQ1dRTwQsM7MoHVoB2cVi+Hdy9pfwN/wBYnDu5e0v4G/6xSzjaGp19tAwQhxSUjHkAMKNOsq3X6ZKvOU/fLcZQpR9s4MSQCf8Ayi48482DvlYq3UNK1rnxDTuaEUqUVrK1HEqOJMXyb5uRKQlNRwAGA/wN/wBYQuAltdm/zuf2icBLa7N/nc/tBBTyN1FKSYzQy2zkZNt4B6o+4d3L2l/A3/WN5ugZozPfb9Qj14CW12b/ADuf2jy3QM0Znvt+oQTIe1jso3SLqmlnqoO7sybO06ANo3Iih+l+bNdwaoAYfpfmzXcGqMUusprtDqj9eiFroznqXmF642m5f0bPeMnVGLujOepeYXrjabl/Rs94ydUDh+t7prEftg5N6Kjr9112Ur09LsVBaGm3lJQkJTxAH8or+GlxdpufsTshNmLVoU3MOTD9PQt11RUtRUrjJ/8AcefAy3ey2/3K2wQwS31/JSMeJ0DWAOi0gbgjbhpcXabn7E7InDS4u03P2J2RX1lluWrk+wykIbamXEISPgAogCEmg2pQpugyMw/Tm1uuMJUpRUrjJH5wJjZHmwK6lVJR00bZHRAg7gEWuurfeW84rfLcUVKPzJ4zFqxdtelpdthmorQ00kIQnep4gBgByQm8DLd7Lb/crbE4GW72W3+5W2NimkGopN+NUcgAfGTbeB/KHHFqdcU4s4qWSSfmTDnSOhpHy7fpECE6hLc9MNoGCUuqAHyGMN9I6GkfLt+kRdL4isY+QYoyOKKX7yuFEw4lNTcACyAN4n5/lC3JrU5JS7izipTaSo/MkQEzPOnu+rXDrT+jpbwUahF0riSblCxyGONkeQ0DXqFtyIuGlxdpufsTsjeXyoqst1SuMktEn/6EE0LN75kOf6tYjEbiWOudibr4Y46mnyGgfq2C20Imh+l+bNdwaoAYfpfmzXcGqN0usoHaHVH69ELXRnPUvML1xtNy/o2e8ZOqMXdGc9S8wvXG03L+jZ7xk6oHD9b3TWI/bByb0WduG4azLXDPss1KZbbQ+oJQlwgAYwjWy+7M25IvvuKcdW0CpajiSYJ7oznqXmF64VbSzVp3gjXBKckyFJYrGxtHEWgA6P8AiJbgzjqfnHfWY9WLnrcqwhhiovNtNpCUpBGAAjyuDOOp+cd9ZhJoFs0WaoEi+/TWXHHGEqWojjJw5YC1jnvIaurVVMNPTxulblA23buKP+F1wdqv/qIW6K85MUOQfeWVuOSza1qPKSUgkxy8Erf7KY/QxZssty7KGGkhDbaQlCRyAAYAQ3DG9hOUV5rEKynqGtETMm3AdEF1DpKa8ZfqMdzd011ltDbdTfShACUgEcQHJHDUOkprxl+owr021qG9S5R1ymMKWthClEjlJSMYTjY55s0r01bVQ08bDMzKvy6ohUoqUVKOJJxJi2RddebQlCKm+EpGAAI4hClwSt/spj9DE4JW/wBlMfoYKKaQaiue/G6R/jjJ5gIVhZvfMhz/AFaxBNCze+ZDn+rWIzF4Hckzif7mn/y6hE0P0vzZruDVADD9L82a7g1QSl1lJ9odUfr0QtdGc9S8wvXG03L+jZ7xk6oxd0Zz1LzC9cavc5qUhI0+cTNzsvLqU6CkOupQTxfDEwKI2lTmINLsNAAvob0WUujOepeYXrjwZrVVl2ktMVOcabQMEoQ+oAD/AIAMKTws2YeW887R3HFnFS1Otkk/Plj49hY/4qLpG9sbzBvcOCAzFGCNrHQuNgNiJXHFvOKddWpbiyVKUo4lRPKSY62q3VmGktM1ScbbQMEoRMLASPkADCf7Cx/xUXSN7YnsLH/FRdI3tisw4f1Bbdi0bhYwuPojLhBWu2J//sr2wx0RxbtApzrq1LWuVaUpSjiVEpGJJ+MVPsLH/FRdI3tixardCYZQy1VaehttISlKZhACQOIAccHiaWE3K5WI1AqWtEcRbbghqodJTXjL9RhtpHQ0j5dv0iKdTdlLWpa10ZSlHEkuN8Z/WLFuu0JptLbdWkEoQAlKRMowAHIOWKhjzZJJV4jVOq2Ma2Mi3BEsxXqymZdAq88AFkACZX8/zjy4QVrtif8A+yvbCcWbJUSSqjEk4klxvbH57Cx/xUXSN7YFmXf3LojE4QPoH2CIoWb3zIc/1axHp7Cx/wAVF0je2OK9qrS5m1n2JWoSjy98jettPJUcAofAGNCPIY65QZqs1dTDksIyXbeYRfD9L82a7g1QAw/S/Nmu4NUSl1lX2h1R+vRC10Zz1LzC9cVULc7S6e7PPOOSEstalklSmUkk/nhHh7npfZspoE7IXc3SV04Ku0TRk7AiuJCp7npfZspoE7Inuel9mymgTsislG755flFcSFT3PS+zZTQJ2RPc9L7NlNAnZEyVO+eX5RXEhU9z0vs2U0CdkT3PS+zZTQJ2RMlTvnl+UVxIVPc9L7NlNAnZE9z0vs2U0CdkTJU755flFcSFT3PS+zZTQJ2RPc9L7NlNAnZEyVO+eX5RXEhU9z0vs2U0CdkT3PS+zZTQJ2RMlTvnl+UVw/S/Nmu4NUZX3PS+zZTQJ2RrEABtIAwAENUwsSvP43NnQzRbX0X/9k="},"3fdae7134aece5b1a8e9":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v}));n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("8820a3764a10a8c7e743"),n("949e90892ef33ac1c1ae"),n("42eee083f5c47e0e1e4f"),n("509dfa66ded6e9f07cba"),n("6a44db37054cf3d0f845");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("626346d0a60969063da7"),i=n.n(o),c=(n("531d7d2ec21b712c76f4"),n("98ad94a9d064c7351e07")),l=(n("571991951e321151cc70"),n("174811872339f1d02c40")),u=n.n(l),s=n("d5c06b6cf3948fb34e9d"),f=n("9ab2f1ff086dee039972");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=function(e){var t=e.option,n=e.list,o=e.onChange,i=d(Object(a.useState)(!1),2),c=i[0],l=i[1];function m(){l(!1)}function p(e){null==o||o(e),m()}return r.a.createElement(s.a,{onOpen:function(){l(!0)},onClose:m},r.a.createElement(s.a.MenuButton,null,r.a.createElement("div",{className:"ttp-city-selector-cascade-option"},r.a.createElement("div",{className:"current-option"},t),r.a.createElement(s.a.MenuList,null,r.a.createElement("ul",{className:u()("options-list",{show:c})},n.map((function(e){return r.a.createElement(s.a.MenuItem,{key:e,onKeyDown:function(t){return function(e,t){var n=e.keyCode;n!==f.a.ENTER&&n!==f.a.SPACE||(e.preventDefault(),p(t))}(t,e)}},r.a.createElement("li",{className:"option",onClick:function(){return p(e)}},e))})))))))},b=n("a37ac43bf3b2879b42e3");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g="local_city_cache",v=30;t.c=function(e){var t=e.city,n=e.cities,o=e.cacheCookieKey,l=void 0===o?g:o,u=e.cacheCookieExpires,s=void 0===u?v:u,f=e.logParams,d=e.onCancel,m=e.onSubmit,_=h(Object(a.useState)((function(){return Object(b.b)(t,n)})),2),y=_[0],w=_[1],E=h(Object(a.useState)(t),2),k=E[0],O=E[1];Object(a.useEffect)((function(){t&&n&&(Object(b.b)(t,n)?(w(Object(b.b)(t,n)),O(t)):(w("\u5317\u4eac"),O("\u5317\u4eac")))}),[t,n]);var j=Object(a.useMemo)((function(){return n?Object.keys(n):[]}),[n]),A=Object(a.useMemo)((function(){return y&&n?Object.keys(n[y]):[]}),[y,n]);return r.a.createElement("div",{className:"ttp-city-selector-panel",onClick:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"desc"},"\u9009\u62e9\u4f60\u6240\u5728\u7684\u5730\u533a\uff1a"),r.a.createElement("div",{className:"cascade-options"},r.a.createElement(p,{option:y,list:j,onChange:function(e){w(e),O(n?Object.keys(n[e])[0]:"")}}),r.a.createElement(p,{key:y,option:k,list:A,onChange:function(e){O(e)}})),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"button",className:"btn cancel",onClick:function(){Object(c.a)("location_switch_cancel",Object.assign({location1_now:Object(b.b)(t,n),location2_now:t},f)),d()}},"\u53d6\u6d88"),r.a.createElement("button",{type:"button",className:"btn ok",onClick:function(){Object(c.a)("location_switch_confirm",Object.assign({from_location1:Object(b.b)(t,n),from_location2:t,to_location1:y,to_location2:k},f)),m(y,k),i.a.set(l,k,{expires:s})}},"\u786e\u5b9a")))}},"41e81a6b6b2e87160a0d":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("be6323750fae7868d676"),i=n("fb622297466e7a637f99");t.a=function(e){var t=e.cell,n=e.children,c=Object(a.useRef)(null),l=Object(a.useRef)(!1),u=Object(a.useRef)(t);u.current=t;var s=Object(a.useCallback)(Object(o.u)((function(){if(c.current){var e=c.current.getBoundingClientRect().top,t=c.current.clientHeight;e-window.innerHeight<-t&&(l.current||(Object(i.d)(u.current),l.current=!0),window.removeEventListener("scroll",s))}}),300),[]);return Object(a.useEffect)((function(){return window.addEventListener("scroll",s),setTimeout((function(){return s()})),function(){window.removeEventListener("scroll",s)}}),[s]),r.a.cloneElement(n,{ref:c})}},"42d4f6648edde20f9953":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=(n("7e3762687fac88650839"),n("2422758950d9f66b7423"));function i(e){return!!e&&["0","1","2"].includes(e)}t.a=function(e){var t=e.size,n=e.userAuthInfo,a=e.authType||(n||{}).auth_type||"3";return i((null==n?void 0:n.auth_type)||e.authType)?r.a.createElement("i",{className:"verified-icon",style:{width:t,height:t,backgroundImage:"url(".concat(o.l[a],")")}}):null}},"43c5e5174a2e2677a4de":function(e,t,n){},"4459376f7bcc25f5262b":function(e,t,n){},"4948fbe5c6d0ea899cb0":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("bd8ea4fd9e1bc4efca14");t.a=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(!1),i=Object(a.useRef)(null);Object(a.useEffect)((function(){i.current=e.scrollContainer||window}),[]);var c=Object(a.useCallback)(Object(o.f)((function(){var a;if(t.current){var r=t.current.getBoundingClientRect(),o=r.top,l=r.height||t.current.clientHeight;if(o-window.innerHeight<-l){if(n.current)return;e.onVisible(!0),e.once&&(n.current=!0,null===(a=i.current)||void 0===a||a.removeEventListener("scroll",c))}else e.onVisible(!1)}}),300),[]);return Object(a.useEffect)((function(){var e;return null===(e=i.current)||void 0===e||e.addEventListener("scroll",c),setTimeout((function(){c()})),function(){var e;null===(e=i.current)||void 0===e||e.removeEventListener("scroll",c)}}),[c]),r.a.cloneElement(e.children,{ref:t})}},"4c4ea2a98c1c93e67edd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("626346d0a60969063da7"),r=n.n(a),o=n("663529bce6ee6d8996f5");function i(){"undefined"!=typeof window&&(o.a.csrf.getCSRFToken(),o.a.csrf.getTTAntiToken().then((function(e){var t=e.data||{};if("Success"===t.message){var n,a=null===(n=t.data)||void 0===n?void 0:n.token;a&&r.a.set("tt_anti_token",a,{expires:365})}})))}},"4d09ad27fd704dfe94be":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n("189171ec6a3f897098b5");function r(e){var t,n;return null===(t=(n=window).btoa)||void 0===t?void 0:t.call(n,encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))})))}function o(e){return e?decodeURIComponent(Object(a.atob)(e).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join("")):e}},"4d42c6b0aecacf3b7489":function(e,t,n){},"4e16ef1abe038022cfb8":function(e,t,n){"use strict";function a(e){var t,n,a,r;null===(t=(n=window).Slardar)||void 0===t||t.call(n,"config",{userId:e.user_id||e.web_id}),null===(a=(r=window).Slardar)||void 0===a||a.call(r,"start")}function r(e,t){var n,a;null===(n=(a=window).Slardar)||void 0===n||n.call(a,"sendEvent",{name:e,metrics:{value:1},categories:t})}function o(e,t){var n,a,r=e instanceof Error?"errorMsg=".concat(null==e?void 0:e.message,", stack=").concat(null==e?void 0:e.stack):e;null===(n=(a=window).Slardar)||void 0===n||n.call(a,"sendLog",{level:"error",content:r,extra:{name:t}})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},"5261bf3449e88fd34744":function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("cea817f8710b3702b0ef"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("346b28504d968a7cb889"),y=n.n(v),w=n("2fadeaed9bdb1dd22487"),E=n.n(w),k=n("69084d01d3449fc1bc27"),O=n.n(k),j=n("583766baffb257cbf38f"),A=n("62ea6c1add15eea97123"),C=n("2422758950d9f66b7423"),I=n("4e16ef1abe038022cfb8"),x=n("d84b833f284337beaf9b");function T(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):T(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}t.a=function(e){var t=e.extraOptions,a=e.visible,r=e.onClose,o=Object(k.useRef)(null),i=Object(k.useRef)(null),c=Object(k.useRef)({}),l=Object(k.useRef)(!1),u=Object(k.useState)(!1),s=E()(u,2),f=s[0],d=s[1],m=Object(k.useCallback)(y()(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.current){e.next=2;break}return e.abrupt("return");case 2:if(!l.current){e.next=4;break}return e.abrupt("return");case 4:return l.current=!0,e.next=7,n.e(0).then(n.t.bind(null,"3ae8d07faef52972c0b2",7));case 7:a=e.sent.default,c=new a(i.current,{appId:String(C.j),appName:C.k,webId:null==t?void 0:t.webId,bizId:"35",placement:"auto",theme:"light",zIndex:1e3,extra_params:S(S({},t),{},{url:window.location.href,cf_biz_id:"35",user_agent:window.navigator.userAgent}),ext:{headerToggle:!0},sdkUrl:"https://helpdesk.bytedance.com/sites/standalone/helpcenter_pc/",onVisibleChange:function(e){e||r()},getFeedbackResult:function(e){e&&x.a.info("\u63d0\u4ea4\u6210\u529f,\u611f\u8c22\u4f60\u7684\u610f\u89c1")},getInterfaceError:function(e){e&&(x.a.info("\u63d0\u4ea4\u9519\u8bef,\u8bf7\u7a0d\u540e\u91cd\u8bd5"),Object(I.b)("submit_feedback_error"))}}),o.current=c,d(!0);case 11:case"end":return e.stop()}}),e)}))),[]);function p(){return(p=y()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.current){e.next=3;break}return e.next=3,m();case 3:null===(t=o.current)||void 0===t||t.show();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.useEffect)((function(){return setTimeout((function(){m()}),5e3),function(){var e;null===(e=o.current)||void 0===e||e.destroy()}}),[]),Object(k.useEffect)((function(){a&&function(){p.apply(this,arguments)}()}),[a,f]),Object(k.useEffect)((function(){if(a){var e=Object(j.a)();c.current=Object(A.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}else Object(A.a)(c.current,document.body)}),[a]),O.a.createElement("div",{ref:i})}},"531d7d2ec21b712c76f4":function(e,t,n){},"53955f9dab771af04369":function(e,t,n){"use strict";var a=n("2fadeaed9bdb1dd22487"),r=n.n(a),o=n("69084d01d3449fc1bc27"),i=n.n(o),c=n("174811872339f1d02c40"),l=n.n(c),u=n("2422758950d9f66b7423"),s=n("5616f33a71e39794ee3e"),f=n("546ca7f10f62589ab9f4"),d=n("b65c96faf0c123cf88e4"),m=n("38c58096afa111fcdfd2");t.a=function(e){var t,n=e.data,a=e.logInfo,c=e.logParams,p=e.media,b=e.footer,h=e.leftTools,_=e.className,g=e.disableDislike,v=void 0!==g&&g,y=e.onDislike,w=e.onClickToDetail,E=e.onDislikeClick,k=Object(o.useState)(!1),O=r()(k,2),j=O[0],A=O[1],C=(null===(t=n.coverUrls)||void 0===t?void 0:t.length)||0,I=(n.coverUrls||[]).slice(0,4),x=n.isStick&&1===n.stickStyle,T=!v&&!n.isStick;function S(){w(),A(!0)}return i.a.createElement("div",{className:l()("feed-card-article",_,{"no-cover":!C,"single-cover":C>0&&C<4,"multi-cover":C>=4,visited:j})},C>0&&C<4&&i.a.createElement("div",{className:"feed-card-article-r"},i.a.createElement(d.a,{cover:I[0],articleUrl:n.articleUrl,desc:n.title,logInfo:a,onClickToDetail:S})),i.a.createElement("div",{className:"feed-card-article-l"},p,i.a.createElement(m.a,{className:"title",href:n.articleUrl,target:"_blank",rel:"noopener","aria-label":"".concat(n.isStick?"\u7f6e\u9876\uff0c":"").concat(n.title),logInfo:a,onClick:S},n.title),C>=4&&i.a.createElement("ul",{className:"cover-list"},I.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(d.a,{alt:"".concat(n.title,"-\u56fe").concat(t+1),cover:e,articleUrl:n.articleUrl,logInfo:a,onClickToDetail:S}))}))),b||i.a.createElement(s.a,{leftTools:h||[x&&i.a.createElement(f.f,{key:"tag",text:"\u7f6e\u9876"}),i.a.createElement(f.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:c}),i.a.createElement(f.b,{key:"comment",inside:0===n.articleType,commentCount:n.commentCount,articleUrl:n.articleUrl,logInfo:a,onClickToDetail:S}),i.a.createElement(f.g,{key:"time",timestamp:n.timestamp})],rightTools:[T&&i.a.createElement(f.c,{key:"dislike",data:{itemId:n.itemId,groupId:n.groupId,filterWords:n.filterWords,source:u.g.ARTICLE},onDislike:y,onDislikeClick:E})]})))}},"5401f94f5b54273d68ed":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("3ce3cae18387fd3ef8b6"),i=n.n(o),c=n("d1de1ecd4cfc41254218"),l=n.n(c);n("e659acf6991f02d5cf55");t.a=function(e){return r.a.createElement("div",{role:"contentinfo","aria-label":"\u516c\u53f8\u6267\u7167",className:"company-wrapper"},r.a.createElement("p",null," \xa9 ",(new Date).getFullYear()," \u4eca\u65e5\u5934\u6761"),r.a.createElement("a",{href:"http://www.shdf.gov.cn/shdf/channels/740.html",target:"_blank",rel:"noopener noreferrer nofollow"},r.a.createElement("img",{className:"shdf",src:i.a}),"\xa0\u626b\u9ec4\u6253\u975e\u7f51\u4e0a\u4e3e\u62a5"),r.a.createElement("br",null),r.a.createElement("a",{href:"http://www.piyao.org.cn/yybgt/index.htm",target:"_blank",rel:"noopener noreferrer nofollow"},"\u7f51\u7edc\u8c23\u8a00\u66dd\u5149\u53f0"),r.a.createElement("br",null),r.a.createElement("a",{href:"//www.12377.cn/",target:"_blank",rel:"noopener noreferrer nofollow"},"\u7f51\u4e0a\u6709\u5bb3\u4fe1\u606f\u4e3e\u62a5"),r.a.createElement("br",null),r.a.createElement("p",null,"MCN \u4e13\u9879\u4e3e\u62a5\uff1amcnjubao@toutiao.com"),r.a.createElement("p",null,"\u672a\u6210\u5e74\u4eba\u76f8\u5173\u4e3e\u62a5\uff1a400-140-2108 \u63095"),r.a.createElement("p",null,"\u7b97\u6cd5\u63a8\u8350\u4e13\u9879\u4e3e\u62a5\uff1asfjubao@bytedance.com"),r.a.createElement("a",{href:"//tsm.miit.gov.cn/dxxzsp/",target:"_blank",rel:"noopener noreferrer nofollow"},"\u4eacICP\u8bc1140141\u53f7"),r.a.createElement("br",null),r.a.createElement("a",{href:"//beian.miit.gov.cn",target:"_blank",rel:"noopener noreferrer nofollow"},"\u4eacICP\u590712025439\u53f7-3"),r.a.createElement("a",{href:"/license/",target:"_blank",rel:"nofollow"},"\xa0\u7f51\u7edc\u6587\u5316\u7ecf\u8425\u8bb8\u53ef\u8bc1"),r.a.createElement("br",null),r.a.createElement("a",{href:"/business_license/",target:"_blank",rel:"nofollow"},"\u8425\u4e1a\u6267\u7167"),r.a.createElement("p",null,"\u4eac-\u975e\u7ecf\u8425\u6027-2016-0081"),r.a.createElement("p",null,"\u4e92\u8054\u7f51\u836f\u54c1\u4fe1\u606f\u670d\u52a1\u8d44\u683c\u8bc1\u7f16\u53f7\uff1a(\u4eac)-\u7ecf\u8425\u6027-2020-0077"),r.a.createElement("p",null,"\u4e92\u8054\u7f51\u5b97\u6559\u4fe1\u606f\u670d\u52a1\u8bb8\u53ef\u8bc1\uff1a\u4eac\uff082022\uff090000074"),r.a.createElement("a",{href:"/a3642705768/",target:"_blank",rel:"nofollow"},"\u8ddf\u5e16\u8bc4\u8bba\u81ea\u5f8b\u7ba1\u7406\u627f\u8bfa\u4e66"),r.a.createElement("br",null),r.a.createElement("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002002023",target:"_blank",rel:"noopener noreferrer nofollow"},r.a.createElement("img",{className:"gongan",src:l.a}),"\xa0\u4eac\u516c\u7f51\u5b89\u5907 11000002002023\u53f7"),e.children)}},"546ca7f10f62589ab9f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return M})),n.d(t,"e",(function(){return ae})),n.d(t,"d",(function(){return re})),n.d(t,"f",(function(){return oe}));var a=n("20c6f2e62cf94b7db59c"),r=n("69084d01d3449fc1bc27"),o=n.n(r),i=(n("b47836c813468e99d194"),function(e){var t,n=e.userInfo,r=e.source,i=e.logInfo,c="";return n&&(t="?source=".concat(null==i?void 0:i.page_name),c=(null==n?void 0:n.userSecToken)?"/c/user/token/".concat(n.userSecToken,"/").concat(t):(null==n?void 0:n.userId)?"/c/user/".concat(n.userId,"/").concat(t):""),o.a.createElement("div",{className:"feed-card-footer-cmp-author"},c&&o.a.createElement("a",{href:c,target:"_blank",rel:"noopener nofollow",onClick:function(e){if(e.preventDefault(),c){var t=Object(a.b)(c,{section:"detail"===i.position?"detail_related":"feed",position:i.position,enter_from:i.enter_from});window.open(t)}}},null==n?void 0:n.name),!c&&o.a.createElement("span",{className:"source"},r))}),c=n("174811872339f1d02c40"),l=n.n(c),u=(n("7ca4db6440f85a7a6df5"),n("be6323750fae7868d676")),s=n("38c58096afa111fcdfd2"),f=function(e){var t=e.commentCount,n=e.articleUrl,a=e.styleType,r=void 0===a?"1":a,i=e.inside,c=void 0===i||i,f=e.logInfo,d=e.jumpQuery,m=e.onClickToDetail;return 0===t?null:o.a.createElement("div",{className:l()("feed-card-footer-comment-cmp",{"style-2":"2"===r})},o.a.createElement(s.a,{href:c?"".concat(n,"#comment"):n,target:"_blank",rel:"noopener nofollow",logInfo:f,onClick:m,"aria-label":"\u8bc4\u8bba\u6570".concat(t),jumpQuery:d},"2"===r&&o.a.createElement("i",null),Object(u.j)(t),"1"===r&&"\u8bc4\u8bba"))},d=(n("7801182153876d8ab215"),function(e){return o.a.createElement("div",{className:"feed-card-footer-time-cmp"},Object(u.k)(e.timestamp))}),m=n("56c1dc570fb02868cb13"),p=n.n(m),b=n("cea817f8710b3702b0ef"),h=n.n(b),_=n("346b28504d968a7cb889"),g=n.n(_),v=n("2fadeaed9bdb1dd22487"),y=n.n(v),w=n("d5c06b6cf3948fb34e9d"),E=(n("9727aacc8b7964f6db1c"),n("663529bce6ee6d8996f5")),k=n("7009f854fb449fc1b23d"),O=n("a5b25f8e99db71c1fcf2"),j=n("d84b833f284337beaf9b"),A=(n("2560966d267a85e8aabc"),n("9ab2f1ff086dee039972")),C=(n("302c2db6d5e6ba63abcd"),{uninterested:{iconType:"uninterested",title:"\u4e0d\u611f\u5174\u8da3",desc:"\u51cf\u5c11\u6b64\u7c7b\u5185\u5bb9"},report:{iconType:"report",title:"\u4e3e\u62a5",desc:"\u6807\u9898\u5938\u5f20\u3001\u5185\u5bb9\u8d28\u91cf\u5dee\u7b49"},block:{iconType:"block",title:"\u62c9\u9ed1\u4f5c\u8005"},shield:{iconType:"shield",title:"\u5c4f\u853d"}}),I=function(e){var t=e.className,n=e.type,a=e.desc,r=e.ariaLabel,i=e.hasArrow,c=e.onClick,u=e.onFocus,s=e.onBlur,f=e.getListItems,d=C[n||"uninterested"],m=d.iconType,p=d.title,b=d.desc;function h(){null==c||c()}return o.a.createElement(w.a.MenuItem,{onKeyDown:function(e){var t=e.keyCode;t!==A.a.ENTER&&t!==A.a.SPACE||(e.preventDefault(),h())},onFocus:u,onBlur:s,getListItems:f},o.a.createElement("div",{"aria-label":r,className:l()("dislike-item",t,"icon-".concat(m),{"dislike-item-arrow":i}),onClick:h},o.a.createElement("div",{className:"dislike-title"},p),o.a.createElement("div",{className:"dislike-desc"},a||b)))},x=function(e){var t=e.data,n=e.onDislike;return o.a.createElement(I,{type:"uninterested",onClick:function(){return n(t)}})},T=(n("43c5e5174a2e2677a4de"),n("8da0d466807af5fb475a")),S=n("2851b3b5ef18f4eb994b"),N=function(e){var t=e.children,n=e.className,a=e.onFocus,r=e.onBlur,i=e.onClick,c=e.getListItems,u=e.getParant;function s(){i()}return o.a.createElement(w.a.MenuSubItem,{onFocus:a,onBlur:r,onKeyDown:function(e){var t=e.keyCode;t!==A.a.ENTER&&t!==A.a.SPACE||(e.preventDefault(),s())},getListItems:c,getParant:u},o.a.createElement("div",{className:l()(n),onClick:s},t))},D=function(e){var t=e.groupId,n=e.source,a=e.disabledOpen,i=e.userInfo,c=e.onDislike,l=(Object(r.useContext)(T.a)||{}).webid,u=void 0===l?"":l,s=Object(r.useState)(!1),f=y()(s,2),d=f[0],m=f[1],p=Object(r.useRef)(null),b=Object(r.useRef)(-1),_=Object(r.useRef)(!1);function v(){a||(clearTimeout(b.current),m(!0))}function w(){clearTimeout(b.current),b.current=window.setTimeout((function(){m(!1)}),50)}function k(){return(k=g()(h.a.mark((function e(a){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(O.a)(i)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,_.current=!0,e.next=8,E.a.user.feedbackContent(t,"",a.id,n,u,"feed");case 8:if("success"!==(r=e.sent).data.message){e.next=14;break}return null===(o=document.querySelector(".dislike-wrapper.dislike-button-".concat(t)))||void 0===o||o.focus(),c(a.dislikeType),_.current=!1,e.abrupt("return");case 14:throw new Error(r.data.message);case 17:e.prev=17,e.t0=e.catch(4),_.current=!1,j.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");case 22:case"end":return e.stop()}}),e,null,[[4,17]])})))).apply(this,arguments)}function A(){return Object(S.d)(p.current)}function C(){return document.querySelector(".dislike-item.report-".concat(t))}return o.a.createElement("div",{className:"dislike-type-wrapper report",onMouseEnter:v,onMouseLeave:w},o.a.createElement(I,{className:"report-".concat(t),type:"report",hasArrow:!0,onFocus:v,onBlur:w,onClick:v,getListItems:A}),o.a.createElement("div",{className:"dislike-type-panel",style:{display:d?"block":"none"}},o.a.createElement("ul",{ref:p},S.b.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(N,{onFocus:v,onClick:function(){return function(e){return k.apply(this,arguments)}(e)},getListItems:A,getParant:C},e.name))})))))},R=(n("0cf12f4e582259e8d6e3"),function(e){var t=e.data,n=e.onRef,a=e.onDislike,i=e.onPanelOpen,c=e.onPanelClose,l=Object(r.useState)(!1),u=y()(l,2),s=u[0],f=u[1];function d(){f(!1),null==c||c()}return Object(r.useImperativeHandle)(n,(function(){return{hidePanel:function(){d()}}})),o.a.createElement("div",{className:"dislike-type-wrapper block"},o.a.createElement(I,{type:"block",desc:t.name,onClick:function(){f(!0),null==i||i()}}),o.a.createElement("div",{className:"dislike-type-panel",style:{display:s?"block":"none"}},o.a.createElement("div",{className:"dislike-type-panel-container"},o.a.createElement("div",{className:"dislike-type-panel-title"},"\u786e\u5b9a\u62c9\u9ed1\u8be5\u7528\u6237\uff1f"),o.a.createElement("div",{className:"dislike-type-panel-desc"},"\u62c9\u9ed1\u540e\u6b64\u7528\u6237\u4e0d\u80fd\u5173\u6ce8\u4f60\uff0c\u4e5f\u65e0\u6cd5\u7ed9\u4f60\u53d1\u9001\u4efb\u4f55\u6d88\u606f"),o.a.createElement("div",{className:"dislike-type-panel-button"},o.a.createElement("button",{className:"dislike-button-cancel",type:"button",disabled:!s,onClick:d},"\u53d6\u6d88"),o.a.createElement("button",{className:"dislike-button-commit",type:"button",disabled:!s,onClick:function(){a(t)}},"\u786e\u5b9a")))))}),L=(n("1d4bf58ebc5c26c7536d"),function(e){var t=e.groupId,n=e.data,a=e.disabledOpen,i=e.onDislike,c=Object(r.useState)(!1),l=y()(c,2),u=l[0],s=l[1],f=Object(r.useRef)(null),d=Object(r.useRef)(-1),m=null==n?void 0:n.map((function(e){return e.name})).join("\u3001");function p(){a||(clearTimeout(d.current),s(!0))}function b(){clearTimeout(d.current),d.current=window.setTimeout((function(){s(!1)}),50)}function h(){return Object(S.d)(f.current)}function _(){return document.querySelector(".dislike-item.shield-".concat(t))}return o.a.createElement("div",{className:"dislike-type-wrapper shield",onMouseEnter:p,onMouseLeave:b},o.a.createElement(I,{className:"shield-".concat(t),type:"shield",desc:m,hasArrow:!0,onFocus:p,onBlur:b,onClick:p,getListItems:h}),o.a.createElement("div",{className:"dislike-type-panel",style:{display:u?"block":"none"}},o.a.createElement("ul",{ref:f},n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(N,{className:"shield-subitem",onFocus:p,onClick:function(){return i(e)},getListItems:h,getParant:_},o.a.createElement("span",null,"\u5c4f\u853d\uff1a"),o.a.createElement("span",null,e.name)))})))))}),U=function(e){var t=e.data,n=void 0===t?{}:t,a=e.isMultiVideo,i=e.disableReport,c=e.disable,l=e.onDislike,s=e.onDislikeClick,f=n.groupId,d=n.itemId,m=n.filterWords,p=n.source,b=Object(r.useContext)(k.a),_=Object(r.useRef)(!1),v=Object(r.useRef)(null),A=Object(r.useRef)(null),C=Object(r.useState)(!1),I=y()(C,2),T=I[0],N=I[1],U=Object(r.useState)(!1),M=y()(U,2),P=M[0],W=M[1],B=Object(r.useState)(!1),F=y()(B,2),V=F[0],Q=F[1],H=Object(S.c)(m),z=H.unInterestData,K=H.blockData,q=H.shieldData;function G(e){if(!c){var t=(null==e?void 0:e.currentTarget.getBoundingClientRect())||{},n=t.top,a=void 0===n?1/0:n,r=t.height,o=a+(void 0===r?0:r)/2<window.innerHeight/2;N(!0),W(o),s()}}function J(){var e;N(!1),null===(e=A.current)||void 0===e||e.hidePanel()}function Y(e){return X.apply(this,arguments)}function X(){return(X=g()(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=2;break}return e.abrupt("return");case 2:if(!t.id||Object(O.a)(b)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,_.current=!0,e.next=8,E.a.user.dislikeFeed(d,f,t.id);case 8:"success"===e.sent.data.message?(null===(n=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===n||n.focus(),l(t.dislikeType),!a&&j.a.info("\u5c06\u51cf\u5c11\u7c7b\u4f3c\u5185\u5bb9\u7684\u63a8\u8350")):j.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),_.current=!1,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),_.current=!1,j.a.info("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function Z(e){var t;(null===(t=v.current)||void 0===t?void 0:t.contains(e.target))||J()}return Object(r.useEffect)((function(){return T?(window.addEventListener("click",Z),window.addEventListener("keydown",Z)):(window.removeEventListener("click",Z),window.removeEventListener("keydown",Z)),function(){window.removeEventListener("click",Z),window.removeEventListener("keydown",Z)}}),[T]),o.a.createElement("div",{className:"feed-card-footer-dislike-cmp",ref:v},o.a.createElement(w.a,{onOpen:u.c,onClose:u.c,getListItems:S.d},o.a.createElement(w.a.MenuButton,{onKeyDown:function(e){var t=e.keyCode;13!==t&&32!==t||(e.preventDefault(),e.stopPropagation(),G(e))}},o.a.createElement("div",{className:"dislike-wrapper dislike-button-".concat(f),onClick:G},o.a.createElement("i",{className:"dislike-icon"}))),o.a.createElement(w.a.MenuList,null,o.a.createElement("ul",{className:"dislike-type-list ".concat(P?"panel-bottom":"panel-top"),style:{display:T?"block":"none"}},o.a.createElement("li",null,o.a.createElement(x,{data:z,onDislike:function(e){if(!V){var t;if(!b)return null===(t=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===t||t.focus(),l(e.dislikeType),void(!a&&j.a.info("\u5df2\u4e3a\u4f60\u9690\u85cf\u6b64\u5185\u5bb9\uff0c\u767b\u5f55\u540e\u63a8\u8350\u66f4\u51c6\u786e"));Y(e)}}})),!i&&o.a.createElement("li",null,o.a.createElement(D,{groupId:f,source:p,disabledOpen:V,userInfo:b,onDislike:l})),K&&o.a.createElement("li",null,o.a.createElement(R,{data:K,onRef:function(e){return A.current=e},onPanelOpen:function(){Q(!0)},onPanelClose:function(){Q(!1)},onDislike:Y})),0!==q.length&&o.a.createElement("li",null,o.a.createElement(L,{groupId:f,data:q,disabledOpen:V,onDislike:Y}))))))},M=function(e){return o.a.createElement(U,p()({},e))},P=n("a58942195da9f667c6db"),W=n.n(P),B=n("1f8b48cdafa9b9697aa7"),F=n.n(B),V=n("070b74083ae0e56df3bd"),Q=n.n(V),H=n("90c5586bb50fc596673a"),z=n.n(H),K=n("8782ba00facdf23abb6a"),q=n.n(K),G=n("f9652c99cb787d02d72d"),J=n.n(G),Y=n("99cf401087dd36bc9dc3"),X=n.n(Y),Z=n("5f50dd5472034bc9ced6"),$=(n("600ef62ec3ad32ec1243"),n("6740510cbb0e5ccf88eb")),ee=n("ed0e645fb10944a4fb8f");function te(e,t){var n=J()(e);if(q.a){var a=q()(e);t&&(a=a.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){X()(e,t,n[t])})):Q.a?F()(e,Q()(n)):te(Object(n)).forEach((function(t){W()(e,t,z()(n,t))}))}return e}var ae=function(e){var t,n=e.data,a=e.wttRepostParams,i=e.onSuccess,c=e.onShareAction,l=e.onWttSubmit,s=Object(r.useContext)(k.a);s=e.loginUserInfo||s;var f,d=n.groupId,m=n.itemId,p=n.userInfo,b=n.repostParams,h=n.title,_=n.content,g=n.coverUrls,v=n.articleUrl,y=n.detailUrl,w=n.commentType,E=n.originGroup,O=n.originThread,j=n.originUgcVideo,A=n.originCommonContent,C=n.cover||(null==g?void 0:g[0]),I={title:h||(null===(t=Object(u.d)(_))||void 0===t?void 0:t.slice(0,150))||"",url:v||y,cover:C},x=Object($.a)({commentType:w,originGroup:E,originThread:O,originUgcVideo:j,originCommonContent:A}),T={content:h||Object(u.d)(_),cover:C,user:p&&{name:p.name,uid:p.userSecToken}};x&&(T={content:x.content,cover:null===(f=x.coverUrls)||void 0===f?void 0:f[0],user:x.userInfo&&{name:x.userInfo.name,uid:x.userInfo.uid}});var S={origin:T,repostParams:ne(ne({fw_id:d,opt_id:d,group_id:d,item_id:m,fw_user_id:Object(ee.j)(p),repost_to_comment:1,title:h},a),b),loginUserInfo:s&&{uid:s.userId}};return o.a.createElement("div",{className:"feed-card-footer-share-cmp"},o.a.createElement(Z.a,{openType:"click",shareConfig:I,wtt:S,onShare:i,onShareAction:c,onWttSubmit:l}))},re=(n("5f490fd0667aa88b93fb"),function(e){var t=Object(r.useRef)(!1),n=Object(r.useContext)(k.a);function a(){return(a=g()(h.a.mark((function a(){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(Object(O.a)(e.loginUserInfo||n)){a.next=2;break}return a.abrupt("return");case 2:if(!t.current){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,t.current=!0,a.next=8,E.a.user.diggArticle(e.groupId,e.isLiked?-1:1,e.diggType);case 8:if("success"!==(r=a.sent).data.message){a.next=14;break}e.onLikeChange(e.isLiked?0:1),t.current=!1,a.next=15;break;case 14:throw new Error(r.data.message);case 15:a.next=22;break;case 17:a.prev=17,a.t0=a.catch(4),j.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),t.current=!1;case 22:case"end":return a.stop()}}),a,null,[[4,17]])})))).apply(this,arguments)}return o.a.createElement("div",{className:"feed-card-footer-like-cmp"},o.a.createElement("button",{type:"button","aria-label":"".concat(Object(u.j)(e.likeCount),"\u70b9\u8d5e"),"aria-pressed":e.isLiked,className:l()("inner",{liked:e.isLiked}),onClick:function(){return a.apply(this,arguments)}},o.a.createElement("i",null),o.a.createElement("span",null,Object(u.j)(e.likeCount))))}),oe=(n("0faef3a5864b370ab140"),function(e){return o.a.createElement("div",{className:"feed-card-footer-tag-cmp"},e.text)})},"54b2d6dda1f17486c719":function(e,t,n){"use strict";var a=n("bd2555d9b4311aab9971"),r=new(n.n(a).a),o="feed_action_refresh",i="feed_action_change_channel",c="feed_action_scrollTo_top",l="play_video",u="feed_action_change_pointStatus",s={refresh:function(e){r.addListener(o,e)},scrollToTop:function(e){r.addListener(c,e)},changeChannel:function(e){r.addListener(i,e)},playVideo:function(e){r.addListener(l,e)},changePointStatus:function(e){r.addListener(u,e)}},f={refresh:function(e){r.removeListener(o,e)},scrollToTop:function(e){r.removeListener(c,e)},changeChannel:function(e){r.removeListener(i,e)},playVideo:function(e){r.removeListener(l,e)},changePointStatus:function(e){r.removeListener(u,e)}},d={refresh:function(){r.emit(o)},scrollToTop:function(){r.emit(c)},changeChannel:function(e,t){r.emit(i,e,t)},playVideo:function(e){r.emit(l,e)},changePointStatus:function(e){r.emit(u,e)}};t.a={on:s,off:f,emit:d}},"54d78c4ccd85f964eb38":function(e,t,n){e.exports=n.p+"svgs/video_icon.a243e80b.svg"},"55545edfe9557f8e9717":function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("cea817f8710b3702b0ef"),h=n.n(b),_=n("346b28504d968a7cb889"),g=n.n(_),v=n("961c4bd7537eab329729"),y=n.n(v),w=n("99cf401087dd36bc9dc3"),E=n.n(w),k=n("2fadeaed9bdb1dd22487"),O=n.n(k),j=n("69084d01d3449fc1bc27"),A=n.n(j),C=n("174811872339f1d02c40"),I=n.n(C),x=(n("e6c0fa9948fe7e0bc082"),n("2422758950d9f66b7423")),T=n("ed0e645fb10944a4fb8f"),S=n("78e411ccf7a9a0caceb3"),N=n("fc117aacb27df2ddee39"),D=n("fb622297466e7a637f99"),R=n("41e81a6b6b2e87160a0d"),L=n("5616f33a71e39794ee3e"),U=n("546ca7f10f62589ab9f4"),M=n("38c58096afa111fcdfd2"),P=n("1e93314aaf7aabdbfbff"),W=n("9a261fd8feb2690e8f07"),B=n("b65c96faf0c123cf88e4");function F(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):l.a?i()(e,l()(n)):F(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var Q=function(e){var t,n=e.data,a=e.logParams,r=e.footer,o=e.disableDislike,i=e.onClickToDetail,c=e.onDislike,l=e.onDislikeClick,u=Object(j.useState)(!1),s=O()(u,2),f=s[0],d=s[1],m=Object(T.h)(null===(t=n.__channel_info)||void 0===t?void 0:t.key,n.tabKey),p=e.logInfo||V(V({},Object(S.b)(n)),{},{group_type:n.__group_type});function b(){i(),d(!0)}return A.a.createElement("div",{className:I()("feed-card-video-multi-item",{visited:f})},A.a.createElement("div",{className:"feed-video-item"},A.a.createElement(B.a,{cover:n.cover,articleUrl:n.detailUrl,duration:n.duration,desc:n.title,logInfo:p,jumpQuery:m?{from_scene:m}:void 0,onClickToDetail:b})),A.a.createElement(M.a,{className:"title",href:n.detailUrl,target:"_blank",rel:"noopener nofollow",title:n.title,jumpQuery:m?{from_scene:m}:void 0,logInfo:p,onClick:b},n.title),A.a.createElement("div",{className:"footer"},r||A.a.createElement(L.a,{leftTools:[A.a.createElement(U.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:a}),A.a.createElement(U.b,{key:"comment",commentCount:n.commentCount,articleUrl:n.detailUrl,inside:!1,logInfo:p,onClickToDetail:b}),A.a.createElement(U.g,{key:"time",timestamp:n.timestamp})],rightTools:[A.a.createElement(U.c,{key:"dislike",data:{groupId:n.groupId,itemId:n.itemId,filterWords:n.filterWords,source:x.g.VIDEO},disable:o,onDislike:c,onDislikeClick:l})]})))};t.b=function(e){var t=e.logParams,n=e.formattedParams,a=e.onClickToDetail,r=e.onDislike,o=e.onDislikeClick,i=e.onHideCell,c=Object(j.useState)(e.data.slice(0,2)),l=O()(c,2),u=l[0],s=l[1],f=Object(j.useState)(1/0),d=O()(f,2),m=d[0],p=d[1],b=Object(j.useState)(!1),_=O()(b,2),v=_[0],w=_[1],E=Object(j.useRef)(!1),k=u[0].__channel_id,C=Object(N.a)({videoType:x.i.VIDEO,data:e.data.slice(2),channelId:k}),T=Object(j.useMemo)((function(){return u.reduce((function(e,t){return e&&!!t.error}),!0)}),[u]);function S(e,t,n){return[].concat(y()(e.slice(0,t)),[n],y()(e.slice(t+1)))}function L(){return(L=g()(h.a.mark((function e(t,a,o){var i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=y()(u),p(a),r({target:t,dislikeType:o}),E.current=!0,setTimeout((function(){E.current&&(i=S(i,a,{loading:!0}),s(i))}),250),setTimeout((function(){p(1/0)}),550),w(!0),e.next=9,C();case 9:c=e.sent,E.current=!1,c=c?V(V({},c),n):{error:!0},i=S(i,a,c),s(i),w(!1),Object(D.d)(c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.useEffect)((function(){T&&i()}),[T]),A.a.createElement(R.a,{cell:u},A.a.createElement("div",{className:"feed-card-video-multi"},A.a.createElement("ul",null,u.map((function(e,n){return A.a.createElement("li",{key:e.groupId,className:I()("multi-card-wrapper",{animate:m===n})},e.error&&A.a.createElement(P.a,null),e.loading&&A.a.createElement(W.a,null),!e.error&&!e.loading&&A.a.createElement(Q,{data:e,logParams:t,disableDislike:v,onClickToDetail:function(){return a(e)},onDislike:function(t){return function(e,t,n){return L.apply(this,arguments)}(e,n,t)},onDislikeClick:function(){return o(e)}}))})))))}},"5616f33a71e39794ee3e":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a);n("ab64641ae399574b8de3");t.a=function(e){return r.a.createElement("div",{className:"feed-card-footer-cmp"},r.a.createElement("div",{className:"left-tools"},e.leftTools),r.a.createElement("div",{className:"right-tools"},e.rightTools))}},"583766baffb257cbf38f":function(e,t,n){"use strict";var a;function r(e){if("undefined"==typeof document)return 0;if(e||void 0===a){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=n.clientWidth),document.body.removeChild(n),a=o-i}return a}n.d(t,"a",(function(){return r}))},"5af737e6e697b88cdff1":function(e,t,n){"use strict";n.d(t,"a",(function(){return tn}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("efab296a6725bae1de8f"),h=n.n(b),_=n("cea817f8710b3702b0ef"),g=n.n(_),v=n("b28d054028530bf1d2eb"),y=n.n(v),w=n("346b28504d968a7cb889"),E=n.n(w),k=n("99cf401087dd36bc9dc3"),O=n.n(k),j=n("4ff4f3dbe18f70243983"),A=n.n(j),C=n("21d65a030ead917f710a"),I=n.n(C),x=n("4e507494782e8abbdabf"),T=n.n(x),S=n("a9246c0217fff905e000"),N=n.n(S),D=n("b06f790d9a3066f966b6"),R=n.n(D),L=n("69084d01d3449fc1bc27"),U=n.n(L),M=n("7ecc01cf6c85b1ef1c34"),P=n("c9cd1e0339c82648866e"),W=n("edc2b76b5d9ea09775b6"),B=n("8b900033d90a865fc913"),F=n("06b791a2d736e8935958"),V=(n("6927d89398ef9f1a4ef0"),U.a.createContext(null)),Q=n("7009f854fb449fc1b23d"),H=n("8da0d466807af5fb475a"),z=n("be6323750fae7868d676"),K=n("c3cdc631e8328a3bec0b"),q=n("6cf195ddfada1b0033e1"),G=n("10130cfc2ba27a09b7e5"),J=n("4e16ef1abe038022cfb8"),Y=n("733b0b7fc50b301159ca"),X=n("174811872339f1d02c40"),Z=n.n(X),$=(n("e8d9aa3b64f64ce1fd42"),n("5c3da803b3052385fdf2"),n("2fadeaed9bdb1dd22487")),ee=n.n($),te=n("b4d0aca2d3771c85657d"),ne=(n("f7f653759b9d8239bd8c"),n("229a5ee8951efd08f85c")),ae=n("617300dd2ee3a73fcfd5"),re=n("a79cb04363dcc4858702"),oe=n.n(re),ie=(n("01cd55cb795a1f0da523"),n("167789bd516d2baf7295")),ce=n("1e57c421e41f48e4643f"),le=function(e){var t=Object(L.useRef)(null),n=Object(L.useRef)(null),a=Object(L.useRef)(null),r=Object(L.useCallback)((function(){var e;if(t.current&&t.current.paused)return null===(e=t.current.play())||void 0===e?void 0:e.catch((function(){Object(q.a)("home_banner_video_error")}))}),[]),o=Object(L.useCallback)((function(){var e;null===(e=t.current)||void 0===e||e.pause()}),[]),i=Object(L.useCallback)((function(){t.current&&("visible"===document.visibilityState&&t.current.paused?r():"hidden"===document.visibilityState&&o())}),[r,o]),c=Object(L.useCallback)((function(){t.current&&(a.current=new IntersectionObserver((function(e){e[0].isIntersecting?r():o()}),{threshold:0}),a.current.observe(t.current))}),[r,o]),l=Object(L.useMemo)((function(){return Object(z.u)((function(){if(t.current){var e=t.current.getBoundingClientRect(),n=window.innerHeight,a=e.top-n;a<0&&a>-(e.height+n)?r():o()}}),300)}),[r,o]),u=Object(L.useCallback)((function(){window.IntersectionObserver?c():window.addEventListener("scroll",l),window.addEventListener("visibilitychange",i)}),[c,l,i]),s=Object(L.useCallback)((function(){var e;null===(e=a.current)||void 0===e||e.disconnect(),window.removeEventListener("scroll",l),window.removeEventListener("visibilitychange",i)}),[l,i]);return Object(L.useEffect)((function(){return u(),function(){s()}}),[u,s]),U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"video-poster",style:{backgroundImage:"url(".concat(e.poster,")")},ref:n}),U.a.createElement("video",{src:e.video,muted:!0,loop:!0,playsInline:!0,preload:"auto",ref:t,onCanPlay:function(){var e;null===(e=r())||void 0===e||e.then((function(){n.current&&(n.current.style.display="none")}))}}))};n("0d214310f816f0979a43");var ue=function(e){var t=e.title,n=e.detailUrl,a=e.description,r=e.blur,o=void 0===r?100:r,i=e.categoryName,c=Object(L.useState)(!1),l=ee()(c,2),u=l[0],s=l[1];function f(){/^http(s)?:\/\/so\.toutiao\.com/.test(n)&&Object(q.a)("search_start",{position:"list",tab_type:"top_bar",category_name:i,enter_from:"__all__"===i?"click_headline":"click_category",query_type:"background",query:t,is_init_enter:0})}function d(e){Object(q.a)("feed_background_info_click",{pic_name:t,category_name:i,action_type:e})}var m,p={WebkitBackdropFilter:"blur(".concat(o,"px)"),backdropFilter:"blur(".concat(o,"px)")};return U.a.createElement("div",{className:"home-banner-headline",onMouseEnter:function(){s(!0)},onMouseLeave:function(){s(!1)}},U.a.createElement("a",{className:Z()("headline",{"padding-right-4":(m=t,/[\uff01\uff5e\uff08\uff09\u300c\u300d\u3010\u3011\uff5c\uff1a\u300a\u300b\u3009\u3008\uff1f\u3002\uff0c\uff1b]$/.test(m))}),href:n,rel:"nofollow noreferrer",target:"_blank",style:p,onMouseEnter:function(){Object(q.a)("feed_background_info_show",{pic_name:t,category_name:i})},onClick:function(){d("pic_title"),f()}},U.a.createElement("i",{className:"icon-eye"},U.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U.a.createElement("g",{clipPath:"url(#clip0_9738_273630)"},U.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 9C15.3138 13.125 12.3138 15.1875 9.00012 15.1875C5.68641 15.1875 2.68641 13.125 0.00012207 9C2.68641 4.875 5.68641 2.8125 9.00012 2.8125C12.3138 2.8125 15.3138 4.875 18.0001 9ZM8.99991 12.9579C11.1859 12.9579 12.9579 11.1859 12.9579 8.9999C12.9579 6.81394 11.1859 5.04187 8.99991 5.04187C6.81396 5.04187 5.04189 6.81394 5.04189 8.9999C5.04189 11.1859 6.81396 12.9579 8.99991 12.9579Z",fill:"white"}),U.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1324 8.87267C10.9076 9.01553 10.6409 9.09828 10.3548 9.09828C9.55309 9.09828 8.90317 8.44835 8.90317 7.64663C8.90317 7.35906 8.98679 7.09101 9.13104 6.86549C9.08756 6.86285 9.04373 6.86151 8.99959 6.86151C7.81967 6.86151 6.86316 7.81802 6.86316 8.99794C6.86316 10.1779 7.81967 11.1344 8.99959 11.1344C10.1795 11.1344 11.136 10.1779 11.136 8.99794C11.136 8.95589 11.1348 8.91412 11.1324 8.87267Z",fill:"white"})),U.a.createElement("defs",null,U.a.createElement("clipPath",{id:"clip0_9738_273630"},U.a.createElement("rect",{width:"18",height:"18",fill:"white",transform:"translate(0.00012207)"}))))),U.a.createElement("h1",null,t)),U.a.createElement("div",{className:"desc-popup",style:{display:u?"block":"none"}},U.a.createElement("a",{className:"desc-popup-inner",href:n,target:"_blank",rel:"nofollow",style:p},U.a.createElement("div",{className:"title",onClick:function(){d("pic_name"),f()}},t),U.a.createElement("div",{className:"content-wrapper",onClick:function(){d("pic_info"),f()}},U.a.createElement("div",{className:"content"},a)))))};var se,fe=Object(ie.c)(),de=function(e){var t=e.data,n=e.categoryName,a=Object(L.useRef)(null),r=Object(L.useRef)(null),o=Object(L.useRef)(!1),i=Object(L.useState)(""),c=ee()(i,2),l=c[0],u=c[1],s=Object(L.useCallback)((function(){o.current||(o.current=!0,oe()((function(){if(a.current){var e=Object(ce.b)()?Object(z.b)(a.current).top:0,t=a.current.getBoundingClientRect(),n=t.top-e,i=t.height||a.current.clientHeight;if(n<=0&&n>-i){var c=.75*n;r.current&&(r.current.style.transform=fe?"translateY(".concat(-c,"px)"):"translate3d(0, ".concat(-c,"px, 0)"))}o.current=!1}})))}),[]);return Object(L.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[s]),Object(L.useEffect)((function(){fe&&u("ie"),Object(q.a)("feed_background_show",{pic_name:t.title,is_origin_pic:t.is_default?1:0,category_name:n})}),[]),U.a.createElement("div",{className:Z()("home-banner-wrapper",l),ref:a},U.a.createElement("div",{className:"home-banner",ref:r},"video"===t.type&&t.video_url?U.a.createElement(le,{video:t.video_url,poster:t.image_url}):U.a.createElement("div",{className:"static-img",style:{backgroundImage:"url(".concat(t.image_url,")")}})),t.title&&U.a.createElement(ue,{title:t.title,description:t.description,detailUrl:t.detail_url,blur:t.tag_blur,categoryName:n}))};!function(e){e.EXPAND="expand",e.PUSH="push"}(se||(se={}));var me=function(){var e=Object(L.useRef)(null),t=Object(L.useState)(!1),n=ee()(t,2),a=n[0],r=n[1],o=Object(L.useRef)(se.EXPAND),i={page_name:"home",action_type:o.current,show_rank:o.current===se.PUSH?Object(ae.b)():void 0},c=Object(ne.a)({logParams:i}),l=c.PWAInstallable,u=c.addToDesktop,s=Object(ae.a)(l),f=Object(L.useCallback)((function(){r(!0)}),[]),d=Object(L.useCallback)((function(){r(!1),Object(q.a)("pwa_push_close",{page_name:"home",action_type:o.current,show_rank:o.current===se.PUSH?Object(ae.b)():void 0,close_type:"auto_close"})}),[]);var m=Object(L.useCallback)((function(t){var n;(null===(n=e.current)||void 0===n?void 0:n.contains(t.target))||d()}),[d]),p=Object(L.useMemo)((function(){return Object(z.u)((function(){var e=function(){if(!ie.b)return 360;var e=window.innerWidth/3.8;return Math.max(280,Math.min(420,e))}();Object(K.c)()>=e&&(d(),window.removeEventListener("scroll",p))}),300)}),[d]);return Object(L.useEffect)((function(){if(s)return o.current=se.PUSH,f(),window.addEventListener("click",m),window.addEventListener("scroll",p),function(){window.removeEventListener("click",m),window.removeEventListener("scroll",p)}}),[s,f,m,p]),Object(L.useEffect)((function(){a||(o.current=se.EXPAND)}),[a]),Object(L.useEffect)((function(){l&&Object(q.a)("top_bar_show",{icon_type:"pwa"})}),[l]),Object(L.useEffect)((function(){a&&(o.current===se.EXPAND&&Object(q.a)("top_bar_click",{icon_type:"pwa",action_type:"expand"}),Object(q.a)("pwa_push_show",i))}),[a]),l?U.a.createElement("div",{className:"add-to-desktop-wrapper",ref:e,onMouseEnter:f,onMouseLeave:d},U.a.createElement("a",{rel:"nofollow",role:"button",tabIndex:0,onKeyDown:function(e){return function(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),t())}(e,f)}},"\u6dfb\u52a0\u5230\u684c\u9762"),U.a.createElement(te.a,{visible:a,transformOrigin:"center top"},U.a.createElement("div",{className:"add-panel"},U.a.createElement("i",null),U.a.createElement("div",{className:"title"},"\u6dfb\u52a0\u5934\u6761\u5230\u7535\u8111\u684c\u9762"),U.a.createElement("div",{className:"tips"},"\u5b89\u88c5\u540e\u53ef\u4ee5\u5728\u684c\u9762\u5feb\u6377\u8bbf\u95ee"),U.a.createElement("button",{className:"add-btn",type:"button",onClick:u},"\u7acb\u5373\u6dfb\u52a0")))):null},pe=function(e){var t=e.abtestInfo,n=e.onFeedbackClick,a=function(e){Object(q.a)("top_bar_click",{icon_type:e,action_type:"click"})},r=function(){a("feedback"),n()};return U.a.createElement("div",{className:"header-left"},U.a.createElement("a",{href:"//app.toutiao.com/news_article/",onClick:function(){return a("download")},target:"_blank",rel:"noopener nofollow"},"\u4e0b\u8f7d\u5934\u6761APP"),U.a.createElement(me,{abtestInfo:t}),U.a.createElement("a",{href:"/about/",onClick:function(){return a("about_toutiao")},target:"_blank",rel:"noopener nofollow"},"\u5173\u4e8e\u5934\u6761"),U.a.createElement("a",{rel:"nofollow",role:"button",tabIndex:0,onClick:r,onKeyDown:function(e){var t=e.keyCode;13!==t&&32!==t||(e.preventDefault(),e.stopPropagation(),r())}},"\u53cd\u9988"),U.a.createElement("a",{href:"/complain/",onClick:function(){return a("report")},target:"_blank",rel:"noopener nofollow"},"\u4fb5\u6743\u6295\u8bc9"),U.a.createElement("a",{rel:"nofollow",onClick:function(){return a("accessible")},id:"cniil_wza",clickhide:"false"},"\u65e0\u969c\u788d"))},be=n("d5c06b6cf3948fb34e9d"),he=(n("2ff48fdeecc4055b71ec"),n("272790d62ccc592f0603")),_e=n.n(he),ge=n("c738d84fb2ca4e899e30"),ve=n.n(ge),ye=n("2422758950d9f66b7423"),we=n("663529bce6ee6d8996f5");n("f6d81d931d85d12ba722");function Ee(e){return[{title:"\u4eca\u5929(".concat(Object(z.o)(e.current_time),")"),condition:e.current_condition,iconClass:"weather-icon-".concat(e.weather_icon_id),lowTemp:e.low_temperature,highTemp:e.high_temperature},{title:"\u660e\u5929(".concat(Object(z.o)(e.current_time,1),")"),condition:e.tomorrow_condition,iconClass:"weather-icon-".concat(e.tomorrow_weather_icon_id),lowTemp:e.tomorrow_low_temperature,highTemp:e.tomorrow_high_temperature},{title:"\u540e\u5929(".concat(Object(z.o)(e.current_time,2),")"),condition:e.dat_condition,iconClass:"weather-icon-".concat(e.dat_weather_icon_id),lowTemp:e.dat_low_temperature,highTemp:e.dat_high_temperature}]}n("0d13cfc104591c0e9914");var ke=n("3fdae7134aece5b1a8e9"),Oe=n("a37ac43bf3b2879b42e3"),je=new(n("05ba5bc0c7218abdc1d1").a),Ae=function(e){var t=e.cityName,n=e.onCancel,a=e.onChange,r=Object(Oe.a)(),o=ee()(r,2),i=o[0],c=o[1];return Object(L.useEffect)((function(){c()}),[c]),Object(L.useEffect)((function(){return i&&Object(q.a)("location_switch_click",{location1_now:Object(Oe.b)(t,i),location2_now:t,switch_position:"top_bar"}),function(){i&&je.exec(t,Object(Oe.b)(t,i))}}),[i]),U.a.createElement("div",{className:"city-select"},U.a.createElement(ke.c,{city:t,cities:i,logParams:{switch_position:"top_bar"},onCancel:function(){n()},onSubmit:function(e,t){if(i){var n=i[e][t];a(n)}}}))};function Ce(e){var t=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=R()(e);if(t){var r=R()(this).constructor;n=h()(a,arguments,r)}else n=a.apply(this,arguments);return N()(this,n)}}var Ie=function(e){T()(r,e);var t,n,a=Ce(r);function r(){var e;return A()(this,r),(e=a.apply(this,arguments)).state={weatherInfo:e.props.weatherInfo,weatherList:[],showWeather:!0,showPopup:!1},e.switchCityBtnEl=null,e.expandLogLock=!1,e.onOutsideClick=function(t){var n,a,r,o,i,c,l;(null===(n=t.target)||void 0===n||null===(a=n.className)||void 0===a?void 0:a.indexOf("weather-change-button"))>-1||(!(null===(r=e.weatherRef)||void 0===r?void 0:r.contains(t.target))||(null===(o=t.target)||void 0===o||null===(i=o.className)||void 0===i?void 0:i.indexOf("weather-ok-btn"))>-1||(null===(c=t.target)||void 0===c||null===(l=c.className)||void 0===l?void 0:l.indexOf("weather-cancel-btn"))>-1)&&(je.push((function(e,t){Object(q.a)("location_switch_cancel",{location1_now:t,location2_now:e,switch_position:"top_bar"})})),e.closeCitySelector(),window.removeEventListener("click",e.onOutsideClick))},e.handleCityChange=function(t){t.name!==e.props.localCity.name?e.props.onChangeLocalCity(t):e.closeCitySelector()},e.closeCitySelector=function(){e.setState({showPopup:!1}),setTimeout((function(){e.setState({showWeather:!0})}),400)},e.handleWrapperKeyDown=function(t){var n=t.keyCode;t.target===t.currentTarget&&(13!==n&&32!==n||(t.preventDefault(),e.setState((function(e){return{showPopup:!e.showPopup}}),(function(){var t;e.state.showPopup&&(null===(t=e.switchCityBtnEl)||void 0===t||t.focus())}))))},e}return I()(r,[{key:"componentDidMount",value:(n=E()(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.localCity,(a=t.weatherInfo)?this.setState({weatherList:Ee(a)}):this.handleSubmit(n);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onOutsideClick)}},{key:"componentDidUpdate",value:function(e){e.localCity.name!==this.props.localCity.name&&this.handleSubmit(this.props.localCity)}},{key:"handleSubmit",value:(t=E()(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.weather.getWeatherData(t.name);case 3:n=e.sent,a=n.data.data||{},(r=a.weather)&&(this.setState({weatherInfo:r,weatherList:Ee(r)}),this.closeCitySelector()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return t.apply(this,arguments)})},{key:"handleShowWeather",value:function(e){this.setState({showWeather:e}),window.addEventListener("click",this.onOutsideClick)}},{key:"handleMouseEnter",value:function(){this.setState({showPopup:!0}),this.expandLogLock||(Object(q.a)("top_bar_click",{icon_type:"weather",action_type:"expand"}),this.expandLogLock=!0)}},{key:"handleMouseLeave",value:function(){this.state.showWeather&&this.setState({showPopup:!1}),this.expandLogLock=!1}},{key:"renderWeatherBox",value:function(){var e=this,t=this.state,n=t.weatherInfo,a=t.weatherList;return U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"w-header"},U.a.createElement("i",{className:"header-bg"}),U.a.createElement("button",{type:"button",className:"change weather-change-button",ref:function(t){e.switchCityBtnEl=t},onClick:function(){return e.handleShowWeather(!1)}},"\u5207\u6362"),U.a.createElement("span",{className:"time"},n&&Object(z.g)(1e3*n.current_time,"MM\u6708dd\u65e5"))),U.a.createElement("ul",{className:"days-weather"},a.map((function(e){return U.a.createElement("li",{className:"day",key:e.title},U.a.createElement("span",{className:"title"},e.title),U.a.createElement("i",{title:e.condition,className:Z()("weather-icon",e.iconClass)}),U.a.createElement("span",{className:"temperature"},U.a.createElement("em",null,e.lowTemp,"\u2103")," ~ ",e.highTemp,"\u2103"))}))))}},{key:"renderSelectBox",value:function(){var e=this.props.localCity;return e?U.a.createElement(Ae,{cityName:e.name,onChange:this.handleCityChange,onCancel:this.closeCitySelector}):null}},{key:"render",value:function(){var e=this,t=this.props.localCity,n=this.state,a=n.showWeather,r=n.showPopup,o=n.weatherInfo;return U.a.createElement("div",{role:"button",tabIndex:0,className:"weather-wrapper",ref:function(t){return e.weatherRef=t},onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()},onKeyDown:this.handleWrapperKeyDown},o&&U.a.createElement("div",{className:"weather-abstract"},U.a.createElement("span",null,null==t?void 0:t.name),U.a.createElement("i",{"aria-hidden":!0,title:o.current_condition,className:Z()("weather-icon","weather-icon-white-".concat(o.weather_icon_id))}),U.a.createElement("span",{className:"city_state"},o.current_condition),U.a.createElement("span",{className:"city_temperature"},o.current_temperature,"\u2103"),U.a.createElement("span",{className:"air"},o.quality_level)),U.a.createElement(te.a,{visible:r,transformOrigin:"center top",transform:"translateX(-50%)"},U.a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":"\u5929\u6c14",className:Z()("weather-hover")},a&&this.renderWeatherBox(),!a&&this.renderSelectBox())))}}]),r}(U.a.Component),xe=n("36091a6286193bdd62ec");function Te(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):Te(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var Ne=function(e){var t=e.userInfo,n=e.isStick,a=void 0!==n&&n,r=e.pageType,o=Object(L.useState)(!1),i=ee()(o,2),c=i[0],l=i[1],u=Object(L.useRef)(!1);function s(){Object(q.a)("top_bar_click",{icon_type:"publish",action_type:"click"}),window.open("https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc")}function f(e,t){t.stopPropagation(),Object(q.a)("publish_icon_click",{section:"top_bar",publish_type:e.position,position:r}),window.open(e.url)}return U.a.createElement(be.a,{onOpen:function(){(null==t?void 0:t.userId)&&(l(!0),u.current||(Object(q.a)("top_bar_click",{icon_type:"publish",action_type:"expand"}),u.current=!0))},onClose:function(){l(!1),u.current=!1}},U.a.createElement(be.a.MenuButton,{onKeyDown:function(e){if(!(null==t?void 0:t.userId)){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),s())}}},U.a.createElement("div",{"aria-label":"\u53d1\u5e03\u4f5c\u54c1",className:Z()("publisher-icon",{red:!!a}),onClick:s},U.a.createElement("img",{src:a?ve.a:_e.a,alt:""}),U.a.createElement("a",{rel:"nofollow"},"\u53d1\u5e03\u4f5c\u54c1"),(null==t?void 0:t.userId)&&U.a.createElement(te.a,{visible:c,transformOrigin:"24px top"},U.a.createElement("div",{className:Z()("publish-list","hover-list")},U.a.createElement(be.a.MenuList,null,U.a.createElement("div",null,ye.f.map((function(e){return U.a.createElement(be.a.MenuItem,{key:e.text,onKeyDown:function(t){return function(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),f(t,e))}(t,e)}},U.a.createElement("a",{onClick:function(t){return f(e,t)}},e.text))})))))))))},De=function(e){var t=e.userInfo,n=e.isStick,a=void 0!==n&&n,r=e.pageType,o=e.hasName,i=void 0===o||o,c=e.logParams,l=Object(L.useState)(!1),u=ee()(l,2),s=u[0],f=u[1],d=Object(L.useRef)(!1),m=[{href:"//www.toutiao.com/c/user/token/".concat(null==t?void 0:t.userId,"/?source=").concat(r),text:"\u4e2a\u4eba\u4e3b\u9875",position:"home_page",section:"top_bar_homepage"},{href:"//mp.toutiao.com",text:"\u521b\u4f5c\u5e73\u53f0",position:"creator"},{href:"//www.toutiao.com/c/user/token/".concat(null==t?void 0:t.userId,"/?tab=fav?source=").concat(r),text:"\u6211\u7684\u6536\u85cf",position:"my_favorite",section:"top_bar_favorite"},{href:"//sso.toutiao.com/logout/",text:"\u9000\u51fa\u767b\u5f55",target:"_self",position:"un_login"}];var p=U.a.createElement("a",{className:"login-button",rel:"nofollow",onClick:function(){W.a.show({logParams:{enter_method:"login"}})}},"\u767b\u5f55"),b=U.a.createElement(be.a,{onOpen:function(){f(!0),d.current||(Object(q.a)("top_bar_click",{icon_type:"avatar",action_type:"expand"}),d.current=!0)},onClose:function(){f(!1),d.current=!1}},U.a.createElement("div",{className:Z()("user-icon",{red:!!a})},U.a.createElement(be.a.MenuButton,null,U.a.createElement("a",{href:"//www.toutiao.com/c/user/token/".concat(null==t?void 0:t.userId,"/?source=").concat(r),target:"_blank",rel:"noopener",onClick:function(e){var n;e.preventDefault();var a=(null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("href"))||"//www.toutiao.com/c/user/token/".concat(null==t?void 0:t.userId,"/?source=").concat(r);Object(q.a)("top_bar_click",{icon_type:"avatar",action_type:"click"});var o=Object(xe.b)(a,Se(Se({},c),{},{section:"top_bar_homepage"}));window.open(o)}},U.a.createElement("img",{src:null==t?void 0:t.avatarUrl,alt:null==t?void 0:t.name}),i&&U.a.createElement("span",null,null==t?void 0:t.name))),U.a.createElement(te.a,{visible:s,transformOrigin:"center top"},U.a.createElement("div",{className:Z()("user-list","hover-list")},U.a.createElement(be.a.MenuList,null,U.a.createElement("div",null,m.map((function(e){return U.a.createElement(be.a.MenuItem,{key:e.href},U.a.createElement("a",{href:e.href,target:e.target||"_blank",rel:"noopener",onClick:function(t){return function(e,t){t.preventDefault(),Object(q.a)("card_click",{page_type:r,from_position:e.position,card_name:"author"});var n=e.href;n.includes("/c/user/token")&&(n=Object(xe.b)(n,Se(Se({},c),{},{section:e.section}))),n.includes("logout")?W.a.logout():e.target?window.location.href=n:window.open(n)}(e,t)}},e.text))}))))))));return(null==t?void 0:t.userId)?b:p},Re=function(e){var t=e.userInfo,n=e.webId,a=e.pageType,r=e.logParams,o=e.localCity,i=e.weatherInfo,c=e.onChangeLocalCity;return U.a.createElement("div",{className:"header-right common-component-wrapper"},U.a.createElement(Ie,{pageType:a,localCity:o,weatherInfo:i,onChangeLocalCity:c}),U.a.createElement("div",{className:"notification-container"},U.a.createElement(F.a,{userId:null==t?void 0:t.userId,webId:n,logParams:r,theme:"dark"})),U.a.createElement(Ne,{userInfo:t,pageType:a}),U.a.createElement(De,{userInfo:t,pageType:a,logParams:r}))},Le=function(e){var t=e.userInfo,n=e.logId,a=e.pageType,r=e.theme,o=e.logParams,i=e.localCity,c=e.weatherInfo,l=e.abtestInfo,u=e.webId,s=e.onChangeLocalCity,f=e.onFeedbackClick;return Object(L.useEffect)((function(){["download","about_toutiao","feedback","report","accessible","weather","publish","avatar"].forEach((function(e){Object(q.a)("top_bar_show",{icon_type:e})}))}),[]),U.a.createElement("div",{role:"banner","aria-label":"\u5934\u90e8",className:Z()("toutiao-header",{"login-btn-light-c":"light_color"===r.login_btn})},U.a.createElement(pe,{userId:null==t?void 0:t.userId,logId:n,abtestInfo:l,onFeedbackClick:f}),U.a.createElement(Re,{userInfo:t,pageType:a,logParams:o,localCity:i,weatherInfo:c,webId:u,onChangeLocalCity:s}))},Ue=n("4905f80144af6010629a"),Me=n.n(Ue),Pe=n("626346d0a60969063da7"),We=n.n(Pe),Be=(n("b13aa71a6b6a787b661a"),n("b201cefb7d33145ac7ad")),Fe=n("4d09ad27fd704dfe94be"),Ve=n("ab60a9863343fb39500d"),Qe=n.n(Ve),He=n("2fb346eb9d0bf63cb593");function ze(e){return(null==e?void 0:e.icon)||Qe.a}var Ke=function(e){var t=e.toSearch,n=e.onMouseDown,a=e.theme,r=Object(L.useState)([]),o=ee()(r,2),i=o[0],c=o[1],l=Object(L.useRef)(null);function u(){return s.apply(this,arguments)}function s(){return(s=E()(g.a.mark((function e(){var t,n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.search.getHotWord();case 3:if("success"!==(null==(n=e.sent)||null===(t=n.data)||void 0===t?void 0:t.message)){e.next=8;break}c(null===(a=n.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.slice(0,3)),e.next=9;break;case 8:throw new Error(n.data.message);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Object(L.useEffect)((function(){u();var e=setInterval((function(){Object(z.p)(l.current)&&u()}),6e4);return function(){clearInterval(e)}}),[]);var f=function(e,n,a){Object(q.a)("trending_words_click",{group_id:e.query_id_string,words_source:"trending_words",words_position:n}),t(e.query,"trending_card",a)};return i.length?U.a.createElement(He.a,{inViewHandler:function(){Object(q.a)("trending_show",{words_num:3,trending_position:"trending_words"})}},U.a.createElement("div",{role:"region","aria-label":"\u70ed\u641c",ref:l,className:Z()("hot-word")},U.a.createElement("img",{src:ze(a),alt:""}),U.a.createElement("span",{className:"hot"},"\u70ed\u641c\uff1a"),i.map((function(e,t){return U.a.createElement(He.a,{inViewHandler:function(){return function(e,t){Object(q.a)("trending_words_show",{group_id:e,words_source:"trending_words",words_position:t})}(e.query_id_string,t)},key:e.query_id_string},U.a.createElement("span",{tabIndex:0,role:"link",className:"words",onClick:function(n){return f(e,t,n)},onMouseDown:n,onKeyDown:function(n){return function(e,t,n){var a=e.keyCode;32!==a&&13!==a||(e.preventDefault(),f(t,n,e))}(n,e,t)}},e.query))})))):null};function qe(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):qe(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var Je={focusStart:0,pressDown:0},Ye=function(e){var t=e.isRed,n=e.hasHotword,a=e.hotWordTheme,r=e.className,o=e.logParams,i=e.userId,c=e.value,l=e.autoFocus,u=void 0!==l&&l,s=e.onKwChange,f=Object(L.useRef)(null),d=Object(L.useRef)(null),m=Object(L.useRef)(!1),p=Object(L.useRef)(!0),b=Object(L.useState)(""),h=ee()(b,2),_=h[0],v=h[1],w=Object(L.useState)(!1),k=ee()(w,2),O=k[0],j=k[1],A=Object(L.useState)([]),C=ee()(A,2),I=C[0],x=C[1],T=Object(L.useState)(-1),S=ee()(T,2),N=S[0],D=S[1],R=Object(L.useRef)(_);R.current=_;var M=Object(L.useMemo)((function(){return!O||N>-1?function(){}:Object(z.u)(E()(g.a.mark((function e(){var t,n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!R.current){e.next=9;break}return null===Be.cancelRequest||void 0===Be.cancelRequest||Object(Be.cancelRequest)(),e.next=5,we.a.search.getSearchSug(R.current);case 5:"success"===(null==(n=e.sent)||null===(t=n.data)||void 0===t?void 0:t.message)&&x(null==n||null===(a=n.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.slice(0,8)),e.next=11;break;case 9:x([]),D(-1);case 11:e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(0),!Object(Be.isCancel)(e.t0)){e.next=17;break}return e.abrupt("return");case 17:x([]),D(-1);case 19:case"end":return e.stop()}}),e,null,[[0,13]])}))),300)}),[O,N]);Object(L.useEffect)(M,[_,O]),Object(L.useEffect)((function(){_!==c&&void 0!==c&&v(c)}),[_,c]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.current,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e.trim()){Object(q.a)("search_click_toutiao_pc",Ge({if_login:i?1:0,page_name:"feed",from_position:"trending_card"===t?"hot_word":"search"},"trending_card"===t?{search_hot_word:e}:{})),Object(q.a)("search_start",Ge(Ge({},o),{},{query_type:"trending_card"===t?"search_bar_outer":t,query:e,is_init_enter:p.current?1:0}));var a="//so.toutiao.com/search?dvpf=pc&source=".concat(t,"&keyword=").concat(encodeURIComponent(e)),r={query_input_time:Me()()-Je.focusStart,search_press_duration:Me()()-Je.pressDown,search_viewport_x:(null==n?void 0:n.clientX)||-1,search_viewport_y:(null==n?void 0:n.clientY)||-1};We.a.set("tt_search_log",Object(Fe.b)(y()(r)),{domain:".toutiao.com"}),window.open(a)}},W=Object(L.useCallback)((function(e){v(e),null==s||s(e)}),[]),B=Object(L.useCallback)((function(e){D(-1),W(e.target.value)}),[]),F=Object(L.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Je.focusStart=Me()(),j(!0),Object(q.a)("search_tab_enter",Ge(Ge({},o),{},{is_init_enter:e?1:0}))}),[]),V=Object(L.useCallback)((function(){p.current=!1,setTimeout((function(){var e;null===(e=d.current)||void 0===e||e.blur(),j(!1),D(-1)}),250)}),[]),Q=Object(L.useCallback)((function(e){var t=e.which||e.keyCode||e.charCode,n=-1;40===t?(e.preventDefault(),n=(N+1)%I.length):38===t?(e.preventDefault(),n=(I.length+N-1)%I.length):13===t&&(Je.pressDown=Me()()),n>-1&&(D(n),W(I[n].keyword))}),[N,I]),H=Object(L.useCallback)((function(e){if(m.current)m.current=!1;else if(13===(e.which||e.keyCode||e.charCode)){var t=N>-1?I[N].keyword:void 0;P(t,N>-1?"sug":"input")}}),[N,I]),K=Object(L.useCallback)((function(){Je.pressDown=Me()()}),[]),G=Object(L.useCallback)((function(){m.current=!0}),[]),J=Object(L.useCallback)((function(e,t){W(e),P(e,"sug",t)}),[]);Object(L.useEffect)((function(){u&&F(!0)}),[]),Object(L.useEffect)((function(){var e=Object(z.u)((function(){var e;d.current&&O&&((null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect().bottom)<0&&V())}),300);return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[O]);var X=Object(L.useCallback)((function(){Object(Y.d)("web_page_title"),Object(q.a)("header_logo_click",Ge(Ge({},o),{},{from_position:"logo"}))}),[o]);return U.a.createElement("div",{ref:f,className:Z()("search-wrapper",[r],[t?"red":"white"])},!t&&U.a.createElement("a",{className:"logo","aria-label":"\u4eca\u65e5\u5934\u6761",href:"/",rel:"nofollow",onClick:X}),U.a.createElement("div",{className:"search"},U.a.createElement("input",{type:"text",placeholder:"","aria-label":"\u641c\u7d22",value:_,ref:d,autoFocus:u,onChange:B,onFocus:function(){return F(!1)},onBlur:V,onKeyDown:Q,onKeyUp:H,onCompositionEnd:G}),U.a.createElement("button",{type:"button","aria-label":"\u641c\u7d22",onClick:function(e){return P(_,N>-1?"sug":"input",e)},onMouseDown:K},U.a.createElement("i",null),U.a.createElement("span",null,"\u641c\u7d22")),O&&!!I.length&&U.a.createElement("div",{className:"sug"},I.map((function(e,t){var n=e.keyword.indexOf(_),a=e.keyword;return n>-1&&(a=U.a.createElement(U.a.Fragment,null,e.keyword.slice(0,n),U.a.createElement("em",null,_),e.keyword.slice(n+_.length))),U.a.createElement("div",{className:Z()("sug-item",{current:t===N}),onClick:function(t){return J(e.keyword,t)},onMouseDown:K,key:e.keyword},a)})))),n&&U.a.createElement(Ke,{theme:a,toSearch:P,onMouseDown:K}))},Xe=n("d4ae72f15196e9f5ecd3"),Ze=n.n(Xe),$e=n("ed0e645fb10944a4fb8f"),et=n("54b2d6dda1f17486c719"),tt=n("fb622297466e7a637f99"),nt=n("f9e7ab430b1eaeaf2713"),at=n("076852677af4160d32f2"),rt=n("076bf3210b3d303da0b6"),ot=(n("7437cef5de9adf1c1fde"),n("73f40e49daf0622f890e"));function it(e){if(!e){var t=Object(ot.a)("__enter_follow_channel_time")||0;if(!Object(z.q)(Number(t)))return!0}return!1}var ct=function(e){var t=e.children,n=e.activeKey,a=e.userInfo,r=Object(L.useState)(!1),o=ee()(r,2),i=o[0],c=o[1];Object(L.useEffect)((function(){var e=it(a);c(e)}),[]);var l=Object(L.useCallback)((function(e){c(i||e)}),[i]);return Object(L.useEffect)((function(){if(a)return et.a.on.changePointStatus(l),function(){et.a.off.changePointStatus(l)}}),[a,l]),Object(L.useEffect)((function(){"follow"===n&&(Object(ot.b)("__enter_follow_channel_time",Me()().toString()),c(!1))}),[n]),U.a.createElement("div",{className:Z()({"red-point":"follow"!==n&&i})},t)};function lt(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):lt(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function st(e){var t=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=R()(e);if(t){var r=R()(this).constructor;n=h()(a,arguments,r)}else n=a.apply(this,arguments);return N()(this,n)}}var ft=function(e){var t=e.channel;return t.url?U.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener nofollow",tabIndex:-1,"aria-hidden":!0},t.name):U.a.createElement(U.a.Fragment,null,t.name)},dt=Object(at.a)(G.e),mt={left:{transform:"",transformOrigin:"342px top"},center:{transform:"translateX(-50%)",transformOrigin:"center top"}},pt=function(e){T()(n,e);var t=st(n);function n(e){var a;A()(this,n),(a=t.call(this,e)).state={config:{default:[],more:[]},activeKey:a.props.defaultKey,morePanelVisible:!1},a.navEl=null,a.moreBtnEl=null,a.moreNavShow=!1,a.handleClickDefault=function(e){var t,n;if(!e.url){var r=a.state,o=r.config,i=r.activeKey,c=Object(G.f)(o,i),l=G.a.get();null===(t=(n=a.props).onChange)||void 0===t||t.call(n,e,ut(ut({},l[i]),{},{rank:c,inMore:0})),a.setState({activeKey:e.key})}},a.handleClickMore=function(e){var t,n;if(!e.url){var r=a.state,o=r.config,i=r.activeKey,c=Object(G.f)(o,i),l=G.a.get(),u=Object(G.b)(e.key,o,a.props.localCityInfo);null===(t=(n=a.props).onChange)||void 0===t||t.call(n,e,ut(ut({},l[i]),{},{rank:c,inMore:1})),a.props.onChangeOutChannel(e),a.setState({config:u,activeKey:e.key,morePanelVisible:!1})}},a.handleChangeChannel=function(e,t){"default"===e?a.handleClickDefault(t):a.handleClickMore(t)},a.emitClickEvent=function(e,t){var n,r,o=G.a.get();null===(n=(r=a.props).onCurrentNavChange)||void 0===n||n.call(r,t,o[a.state.activeKey]),et.a.emit.changeChannel(e,t),Object(tt.b)({category_rank:t.rank||0,category_name:t.category,from_category_name:o[a.state.activeKey].category,is_in_category_more:t.inMore||0,position:"list",category_name_cn:t.name,channel_id:t.channelId}),setTimeout((function(){a.setFocusChannel(t)}))},a.handleKeyDown=function(e,t,n){e.stopPropagation();var r=e.keyCode;13!==r&&32!==r||(e.preventDefault(),a.emitClickEvent(n,t),t.url&&window.open(t.url))},a.handleMoreBtnScroll=Object(z.u)((function(){a.moreBtnEl&&a.state.morePanelVisible&&(a.moreBtnEl.getBoundingClientRect().top<-36&&a.closeMorePanel())}),300),a.openMorePanel=function(){a.setState({morePanelVisible:!0}),a.moreNavShow||(a.state.config.more.forEach((function(e){a.navVisible(e)})),a.moreNavShow=!0)},a.closeMorePanel=function(){a.setState({morePanelVisible:!1})},a.setFocusChannel=function(e){var t,n=null===(t=a.navEl)||void 0===t?void 0:t.querySelector("[aria-label*=".concat(e.name,"]"));null==n||n.focus()},a.navVisible=function(e){Object(tt.u)({category_rank:e.rank||0,category_name:e.category,is_in_category_more:e.inMore||0,position:"list",category_name_cn:e.name,channel_id:e.channelId})},a.handleLocalCityChange=function(e,t){var n,r;if(e.name!==a.props.localCityInfo.name){a.props.onChangeLocalCity(e);var o=ut(ut({},t),{},{name:e.name,channelId:e.channelId}),i=G.a.get();null===(n=(r=a.props).onCurrentNavChange)||void 0===n||n.call(r,o,i[a.state.activeKey]),et.a.emit.changeChannel("default",o),setTimeout((function(){a.setFocusChannel(o)}))}},a.renderDefaultNav=function(e){var t=a.props,n=t.localCityInfo,r=t.userInfo,o=a.state.activeKey,i=G.a.get();return e.key===i.follow.key?U.a.createElement(ct,{activeKey:o,userInfo:r},e.name):e.key===i.local.key?U.a.createElement(rt.a,{offsetY:-5,cityInfo:n,logParams:{switch_position:"category"},onChange:function(t){return a.handleLocalCityChange(t,e)}}):U.a.createElement(ft,{channel:e})};var r=e.forceInsertedChannel;return r&&G.a.addChannel(r.key,{key:r.key,category:r.category,channelId:r.channelId,name:r.name,url:r.url}),a}return I()(n,[{key:"componentDidMount",value:function(){et.a.on.changeChannel(this.handleChangeChannel),window.addEventListener("scroll",this.handleMoreBtnScroll)}},{key:"componentWillUnmount",value:function(){et.a.off.changeChannel(this.handleChangeChannel),window.removeEventListener("scroll",this.handleMoreBtnScroll)}},{key:"render",value:function(){var e=this,t=this.state,n=t.config,a=t.activeKey,r=t.morePanelVisible,o=this.props.direction,i=void 0===o?"center":o,c=mt[i],l=c.transform,u=c.transformOrigin;return U.a.createElement("div",{className:"feed-m-nav",ref:function(t){return e.navEl=t}},U.a.createElement("ul",{className:"feed-default-nav"},n.default.map((function(t){return U.a.createElement("li",{key:t.key,tabIndex:0,role:"button","aria-label":"".concat(t.name,"\u9891\u9053"),"aria-pressed":t.key===a,onKeyDown:function(n){return e.handleKeyDown(n,t,"default")}},U.a.createElement(He.a,{inViewHandler:function(){return e.navVisible(t)}},U.a.createElement("div",{className:Z()("feed-default-nav-item",{active:t.key===a,local:"local"===t.key}),onClick:function(){return e.emitClickEvent("default",t)}},e.renderDefaultNav(t))))})),U.a.createElement(be.a,{onOpen:this.openMorePanel,onClose:this.closeMorePanel},U.a.createElement(be.a.MenuButton,null,U.a.createElement("li",{"aria-label":"\u66f4\u591a\u9891\u9053",className:"more-btn-wrapper"},U.a.createElement("div",{className:Z()("more-btn",{hover:r}),ref:function(t){return e.moreBtnEl=t}},"\u66f4\u591a"),U.a.createElement(te.a,{visible:r,transform:l,transformOrigin:u},U.a.createElement("div",{className:Z()("feed-more-nav-wrapper",{center:"center"===i,left:"left"===i})},U.a.createElement(be.a.MenuList,null,U.a.createElement("ul",{className:"feed-more-nav"},n.more.map((function(t){return U.a.createElement(be.a.MenuItem,{key:t.key,onKeyDown:function(n){return e.handleKeyDown(n,t,"more")}},U.a.createElement("li",{"aria-label":"".concat(t.name,"\u9891\u9053")},U.a.createElement("div",{className:"feed-more-nav-item",onClick:function(){return e.emitClickEvent("more",t)}},U.a.createElement(ft,{channel:t}))))})))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e){return{config:dt(e.defaultChannelOrder,e.localCityInfo,e.outChannelKey)}}}]),n}(U.a.Component),bt=n("7d92094057582d9db023"),ht=n("b185499127a129210d8e"),_t=(n("a104eca09489abd9d005"),n("2851b3b5ef18f4eb994b"));function gt(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):gt(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var yt=function(e){return"__follow_channel_feed_".concat(e)};function wt(e){if(!e)return[];var t=Object(ot.a)(yt(e.userId));return t&&Object(z.t)(t)||[]}var Et=function(e){var t=e.followCount,n=e.refresh,a=e.loading,r=e.hasMore,o=e.list,i=e.logParams,c=e.onSubscribe,l=e.onDislike,u=e.onRefresh,s=e.onLikeChange,f=e.onItemClick,d=e.onCurrentNavChange,m=Object(L.useContext)(Q.a);function p(){var e=G.a.get();null==d||d(e.all,e.follow),At.changeChannel("default",e.all)}return Object(L.useEffect)((function(){m&&0!==o.length&&Object(ot.b)(yt(m.userId),y()(o.slice(0,8)))}),[o,m]),m?t||0!==o.length?U.a.createElement("div",{className:"follow-channel-feed"},U.a.createElement(ht.a,{list:o,logParams:i,onSubscribe:c,onDislike:function(e){l(vt(vt({},e),{},{isBlockAnthor:e.dislikeType===_t.a.BLOCK}))},onRefresh:u,onLikeChange:s,onItemClick:f}),!(n||a||r)&&U.a.createElement("button",{className:"no-more",type:"button",onClick:p},"\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\uff0c\u53bb\u63a8\u8350\u9891\u9053\u770b\u770b")):U.a.createElement("div",{className:"follow-channel-nofollow"},U.a.createElement("i",null),U.a.createElement("div",{className:"follow-channel-nodata-title"},"\u6682\u65e0\u5173\u6ce8"),U.a.createElement("div",{className:"follow-channel-nodata-tips"},"\u5173\u6ce8\u4e4b\u540e\uff0c\u8fd9\u91cc\u624d\u4f1a\u6709\u5185\u5bb9\u54e6"),U.a.createElement("button",{type:"button",onClick:p},"\u53bb\u63a8\u8350\u9891\u9053\u770b\u770b")):U.a.createElement("div",{className:"follow-channel-unlogin"},U.a.createElement("i",null),U.a.createElement("div",{className:"follow-channel-nodata-title"},"\u6682\u672a\u767b\u5f55"),U.a.createElement("div",{className:"follow-channel-nodata-tips"},"\u767b\u5f55\u4ee5\u540e\uff0c\u53ef\u4ee5\u67e5\u770b\u4f60\u5173\u6ce8\u4f5c\u8005\u7684\u7cbe\u5f69\u5185\u5bb9"))};function kt(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):kt(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function jt(e){var t=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=R()(e);if(t){var r=R()(this).constructor;n=h()(a,arguments,r)}else n=a.apply(this,arguments);return N()(this,n)}}var At=function(e){T()(n,e);var t=jt(n);function n(){var e,a,r,o,i,c,l,u,s;return A()(this,n),(s=t.apply(this,arguments)).state={defaultChannelKey:(null===(e=s.props.initialChannel)||void 0===e?void 0:e.key)||"",currentChannelKey:(null===(a=s.props.initialChannel)||void 0===a?void 0:a.key)||"",loading:!1,refresh:!("follow"===(null===(r=s.props.initialChannel)||void 0===r?void 0:r.key)&&!s.context)&&!(null===(o=s.props.initialList)||void 0===o?void 0:o.length),increasedCount:-1,refreshErrTips:null,refreshSuccTips:null,hasMore:!0,list:(null===(i=s.props.initialList)||void 0===i?void 0:i.length)?Object($e.m)(s.props.initialList||[],[],(null===(c=s.props.initialChannel)||void 0===c?void 0:c.channelId)||0,"before"):[]},s.refreshCount=(null===(l=s.props.initialList)||void 0===l?void 0:l.length)?2:1,s.channelId=(null===(u=s.props.initialChannel)||void 0===u?void 0:u.channelId)||G.a.get().all.channelId,s.enterChannelTime=0,s.realStayTime=0,s.visibleStartTime=0,s.feedEl=null,s.prevChannel=null,s.playCount=0,s.timer=0,s.followMinBehotTime=Object(z.n)(),s.redPointStatus=!1,s.loadNoDataCount=0,s._handleVisibilitychange=function(){"hidden"===document.visibilityState?s.realStayTime+=Me()()-s.visibleStartTime:"visible"===document.visibilityState&&(s.visibleStartTime=Me()())},s.handleChannelChange=function(e,t){var n=s.state.list.length?s.state.list[0].behot_time:0;s.channelId=e.channelId;var a,r,o,i=G.a.get(),c=e.key===i.local.key,l=e.key===i.follow.key;if(e.channelId!==t.channelId||c&&e.name!==t.name)n=0,Object(tt.v)(Ot(Ot({},s.props.logParams),{},{category_rank:t.rank||0,category_name:t.category,from_category_name:(null===(a=s.prevChannel)||void 0===a?void 0:a.category)||"",is_in_category_more:t.inMore||0,play_cnt:s.playCount,stay_time:Me()()-s.enterChannelTime,stay_time_page:s.realStayTime+Me()()-s.visibleStartTime,category_name_cn:t.name,channel_id:t.channelId,is_has_following:s.props.followCount?1:0})),Object(tt.h)(Ot(Ot({},s.props.logParams),{},{category_rank:e.rank||0,category_name:e.category,from_category_name:t.category,is_in_category_more:e.inMore||0,category_name_cn:e.name,channel_id:e.channelId,is_has_following:s.props.followCount?1:0},l?{is_red_dot:s.redPointStatus?1:0}:{})),s.setState({hasMore:!0}),c&&G.a.updateChannel(e.key,{name:e.name,channelId:e.channelId}),"follow"===e.key&&(s.redPointStatus=!1),s.enterChannelTime=Me()(),s.prevChannel=t,s.realStayTime=0,s.visibleStartTime=Me()(),s.playCount=0,null===(r=(o=s.props).onChannelChange)||void 0===r||r.call(o,e,t);else if(s.state.loading||s.state.refresh)return;s.refreshFeed(e.channelId,n,"click_tab")},s.fetchData=function(e){return(e.min_behot_time||0===e.min_behot_time)&&(s.refreshCount=0===e.min_behot_time?1:s.refreshCount,e.refresh_count=s.refreshCount),we.a.feed.getFeedApiData(e)},s.refreshFeed=function(){var e=E()(g.a.mark((function e(t,n,a){var r,o,i,c,l,u,f,d,m,p,b,h,_;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t===G.a.get().follow.channelId,o=Object(G.c)(t),!r||s.context){e.next=5;break}return s.setState({list:[],currentChannelKey:o.key,hasMore:!1}),e.abrupt("return");case 5:return s.setState({refresh:!0}),i={refresh_type:a,category_name:o.category,position:"list",enter_from:s.props.logParams.enter_from,section:"feed",reload_type:"refresh"},e.prev=7,c={channel_id:t,min_behot_time:n},e.next=11,s.fetchData(c);case 11:if("success"!==(l=e.sent).data.message){e.next=30;break}if(t===s.channelId){e.next=16;break}return s.setState({refresh:!1}),e.abrupt("return");case 16:u=l.data.data||[],f=0===n?[]:s.state.list,d=l.data.has_more?"before":"prepend",m=Object($e.m)(u,f,t,d),r&&0===m.length&&(m=wt(s.context)),p=u.length,(b=r?"\u6682\u65e0\u66f4\u65b0\uff0c\u53bb\u63a8\u8350\u9891\u9053\u770b\u770b\u5427":null)&&p&&(b="\u4f60\u5173\u6ce8\u7684\u4eba\u6709 ".concat(p," \u6761\u66f4\u65b0")),r&&(s.followMinBehotTime=(null===(h=m[0])||void 0===h?void 0:h.behot_time)||s.followMinBehotTime),s.setState({increasedCount:p,refreshErrTips:null,refreshSuccTips:b,list:m,currentChannelKey:o.key},(function(){setTimeout((function(){s.setState({refresh:!1,increasedCount:-1,refreshSuccTips:null})}),1500)})),Object(tt.a)(Ot(Ot({},i),{},{is_null:u.length?0:1})),s.refreshCount++,e.next=31;break;case 30:throw new Error(l.data.message);case 31:e.next=39;break;case 33:e.prev=33,e.t0=e.catch(7),_=null===e.t0||void 0===e.t0?void 0:e.t0.message,s.setState((function(e){return{list:0===n?[]:e.list,refreshErrTips:"Network Error"===_||_.indexOf("timeout")>-1?bt.a.NETWORK_ERR:bt.a.SERVICE_ERR}}),(function(){setTimeout((function(){s.setState({refresh:!1,refreshErrTips:null})}),1500)})),Object(tt.a)(Ot(Ot({},i),{},{is_null:1}));case 39:case"end":return e.stop()}}),e,null,[[7,33]])})));return function(t,n,a){return e.apply(this,arguments)}}(),s.loadMore=E()(g.a.mark((function e(){var t,n,a,r,o,i,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.loading&&!s.state.refresh){e.next=2;break}return e.abrupt("return");case 2:return s.setState({loading:!0}),t={position:"list",enter_from:s.props.logParams.enter_from,section:"feed",reload_type:"loadmore"},e.prev=4,n=Ze()(s),a=n.channelId,r={channel_id:a,max_behot_time:s.state.list.length?s.state.list[s.state.list.length-1].behot_time:0},e.next=9,s.fetchData(r);case 9:if("success"!==(o=e.sent).data.message){e.next=22;break}if(a===s.channelId){e.next=14;break}return s.setState({loading:!1}),e.abrupt("return");case 14:i=o.data.data,(c=Object($e.l)(i,s.state.list,a)).length!==s.state.list.length?s.loadNoDataCount=0:s.loadNoDataCount++,l=!(s.loadNoDataCount>3)&&o.data.has_more,s.setState({list:c,hasMore:l},(function(){s.setState({loading:!1})})),Object(tt.a)(Ot(Ot({},t),{},{category_name:Object(G.c)(a).category,is_null:i.length?0:1})),e.next=23;break;case 22:throw new Error(o.data.message);case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(4),s.setState({loading:!1}),Object(tt.a)(Ot(Ot({},t),{},{category_name:Object(G.c)(s.channelId).category,is_null:1}));case 30:case"end":return e.stop()}}),e,null,[[4,25]])}))),s.startCheckRefresh=function(){s.timer=window.setInterval(E()(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.feed.getRefreshTips(s.followMinBehotTime);case 3:"success"===(t=e.sent).data.message&&(et.a.emit.changePointStatus(!!t.data.data.count),s.redPointStatus=s.redPointStatus||!!t.data.data.count),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),12e5)},s.handleRefresh=function(e){var t=s.state.list.length?s.state.list[0].behot_time:0;s.refreshFeed(s.channelId,t,e||"click_anchor")},s.handleSubscribe=function(e,t){s.setState((function(n){return{list:Object($e.n)(e,t,n.list)}}))},s.handleDislike=function(e,t){var n=document.activeElement,a=Object(z.l)(s.feedEl);s.setState((function(n){return{list:Object($e.d)(n.list,e,t)}})),t||Object(z.f)(n,a)},s.handleLikeChange=function(e,t){s.setState((function(n){return{list:Object($e.o)(e,t,n.list)}}))},s.handleItemClick=function(){s.playCount++},s}return I()(n,[{key:"componentDidMount",value:function(){var e,t,n=this,a=this.props.initialChannel||Object(G.d)(),r=Object(G.g)(this.props.defaultChannelOrder,this.props.outChannelKey);this.channelId=a.channelId,(null===(e=this.props.initialList)||void 0===e?void 0:e.length)||this.refreshFeed(this.channelId,0,"click_tab"),this.props.initialChannel||this.setState({defaultChannelKey:a.key,currentChannelKey:a.key}),setTimeout((function(){var e,t;null===(e=(t=n.props).onChannelChange)||void 0===e||e.call(t,a,null)}),300),this.enterChannelTime=Me()(),this.visibleStartTime=Me()(),this.redPointStatus=it(this.context),Object(tt.h)(Ot(Ot({},this.props.logParams),{},{page_name:Object(z.m)("source")||"",category_rank:r.default.indexOf(a.key)+1||0,category_name:a.category,from_category_name:"",is_in_category_more:0,category_name_cn:a.name,channel_id:a.channelId,is_has_following:this.props.followCount?1:0},"follow"===a.key?{is_red_dot:this.redPointStatus?1:0}:{})),et.a.on.refresh(this.handleRefresh),"list"===(null===(t=this.props.logParams)||void 0===t?void 0:t.position)&&window.addEventListener("visibilitychange",this._handleVisibilitychange),this.context&&this.startCheckRefresh()}},{key:"componentWillUnmount",value:function(){et.a.off.refresh(this.handleRefresh),window.removeEventListener("visibilitychange",this._handleVisibilitychange),clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.localCityInfo,a=t.followCount,r=t.abtestInfo,o=t.forceInsertedChannel,i=t.onChangeLocalCity,c=t.onCurrentNavChange,l=t.onChangeOutChannel,u=this.state,s=u.defaultChannelKey,f=u.currentChannelKey,d=u.refresh,m=u.increasedCount,p=u.refreshErrTips,b=u.refreshSuccTips,h=u.loading,_=u.hasMore,g=u.list,v=f===G.a.get().follow.key;return U.a.createElement(nt.a,{refresh:d,loading:h,hasMore:_,onLoadMore:this.loadMore,onScrollToTop:this.props.onScrollToTop},U.a.createElement("div",{className:"ttp-feed-module",ref:function(t){e.feedEl=t}},U.a.createElement("div",{className:"main-nav-wrapper",style:{marginBottom:8}},s&&U.a.createElement(pt,{defaultKey:s,outChannelKey:this.props.outChannelKey,localCityInfo:n,defaultChannelOrder:this.props.defaultChannelOrder,forceInsertedChannel:o,userInfo:this.context,direction:"left",abtestInfo:r,onChange:this.handleChannelChange,onChangeLocalCity:i,onChangeOutChannel:l})),d&&U.a.createElement(bt.b,{count:m,errorTips:p,successTips:b}),v?U.a.createElement(Et,{list:g,logParams:Ot(Ot({},this.props.logParams),{},{page_name:"feed"}),followCount:a,refresh:d,loading:h,hasMore:_,onSubscribe:this.handleSubscribe,onDislike:this.handleDislike,onRefresh:z.c,onLikeChange:this.handleLikeChange,onItemClick:this.handleItemClick,onCurrentNavChange:c}):U.a.createElement("div",null,U.a.createElement(ht.a,{list:g,logParams:Ot(Ot({},this.props.logParams),{},{page_name:"feed"}),activeKey:f,onSubscribe:this.handleSubscribe,onDislike:this.handleDislike,onRefresh:this.handleRefresh,onLikeChange:this.handleLikeChange,onItemClick:this.handleItemClick}))))}}]),n}(U.a.Component);At.contextType=Q.a,At.refresh=function(){et.a.emit.refresh()},At.scrollToTop=function(){et.a.emit.scrollToTop()},At.changeChannel=function(e,t){et.a.emit.changeChannel(e,t)};var Ct=n("d1168368cb87a97d8ea2"),It=n("83a311389b32f14cef31"),xt=n("9ff8b349516e807d509d"),Tt=n("5261bf3449e88fd34744");n("fa09bb24a4679550444c");function St(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):St(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var Dt=function(e){var t=e.userInfo,n=e.logParams,a=e.onFollowCount,r=Object(L.useState)({fans:"0",following:"0",digg:"0"}),o=ee()(r,2),i=o[0],c=i.fans,l=i.following,u=i.digg,s=o[1],f=t||{},d=f.userId,m=f.name,p=f.avatarUrl,b=[{num:u,word:"\u83b7\u8d5e",url:"/c/user/token/".concat(d,"/?source=feed"),position:"like_num"},{num:c,word:"\u7c89\u4e1d",url:"/c/user/token/relation/".concat(d,"/?tab=followed&source=feed"),position:"fans"},{num:l,word:"\u5173\u6ce8",url:"/c/user/token/relation/".concat(d,"/?tab=following&source=feed"),position:"followed_list"}],h=function(){var e=E()(g.a.mark((function e(){var t,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.relation.getFansStat(d);case 3:"success"===(null==(n=e.sent)||null===(t=n.data)||void 0===t?void 0:t.message)&&(o=(null==n||null===(r=n.data)||void 0===r?void 0:r.data)||{},s({fans:(null==o?void 0:o.fans)||"0",following:(null==o?void 0:o.following)||"0",digg:(null==o?void 0:o.digg_count)||"0"}),a(+(null==o?void 0:o.following))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function _(e){Object(q.a)("publish_icon_click",{section:"author_card",publish_type:e,position:"list"})}return Object(L.useEffect)((function(){h()}),[]),U.a.createElement(U.a.Fragment,null,U.a.createElement("a",{className:"user-info",href:"/c/user/token/".concat(d,"/?source=feed"),target:"_blank",rel:"noopener nofollow",onClick:function(e){var t;e.preventDefault();var a=(null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("href"))||"/c/user/token/".concat(d,"/?source=feed"),r=Object(xe.b)(a,Nt(Nt({},n),{},{section:"author_card"}));window.open(r)}},U.a.createElement("img",{className:"picture",src:p,onClick:function(){return _("author_profile")},alt:""}),U.a.createElement("div",null,U.a.createElement("span",{className:"name",onClick:function(){return _("author_name")}},m),U.a.createElement("i",{className:"icon-arrow"}))),U.a.createElement("div",{className:"relate-num"},b.map((function(e){var t=e.num,a=t,r="";return(t.includes("\u4e07")||t.includes("\u4ebf"))&&(a=t.slice(0,t.length-1),r=t.slice(t.length-1)),U.a.createElement("a",{href:e.url,onClick:function(t){return function(e,t){t.preventDefault(),_(e.position);var a=Object(xe.b)(e.url,Nt(Nt({},n),{},{section:"author_card"}));window.open(a)}(e,t)},key:e.url,target:"_blank",rel:"noopener nofollow"},U.a.createElement("p",{className:Z()("num",{"long-num":t.length>6})},U.a.createElement("span",null,a),r&&U.a.createElement("span",null,r)),U.a.createElement("p",{className:"word"},e.word))}))),U.a.createElement("div",{className:"publisher"},ye.f.map((function(e){return U.a.createElement("a",{className:"publish-item",href:e.url,onClick:function(){return _(e.position)},key:e.url,target:"_blank",rel:"noopener nofollow"},U.a.createElement("img",{src:e.icon,alt:""}),U.a.createElement("p",null,e.text))}))))},Rt=function(){var e=Object(L.useCallback)((function(){W.a.show()}),[]);return U.a.createElement(U.a.Fragment,null,U.a.createElement("p",{className:"login-info"},"\u767b\u5f55\u540e\uff0c\u5934\u6761\u66f4\u61c2\u4f60",U.a.createElement("br",null),"\u5185\u5bb9\u66f4\u6709\u8da3"),U.a.createElement("a",{className:"login-button",rel:"nofollow",onClick:e},"\u7acb\u5373\u767b\u5f55"))},Lt=Object(P.b)((function(e){var t=e.userInfo,n=e.logParams,a=e.onFollowCount;return U.a.createElement("div",{role:"region","aria-label":"\u767b\u5f55\u4fe1\u606f",className:"user-card ".concat((null==t?void 0:t.userId)?"logged":"login")},U.a.createElement(He.a,{inViewHandler:function(){Object(q.a)("author_card_show",{if_login:(null==t?void 0:t.userId)?1:0})}},(null==t?void 0:t.userId)?U.a.createElement(Dt,{userInfo:t,logParams:n,onFollowCount:a}):U.a.createElement(Rt,null)))})),Ut=n("b9e2ac6f626cdcc37066"),Mt=(n("bd2fde4974422a1bea97"),n("6d28fddc554cfed6e598")),Pt=function(){var e=Object(L.useState)(!1),t=ee()(e,2),n=t[0],a=t[1];return Object(L.useEffect)((function(){window.SVGAnimateElement&&a(!0)}),[]),U.a.createElement(Mt.a,{animate:n,viewBox:"0 0 318 480",uniqueKey:"hot-list-loading"},U.a.createElement("circle",{cx:"12",cy:"24",r:"8"}),U.a.createElement("rect",{x:"30",y:"19",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"72",r:"8"}),U.a.createElement("rect",{x:"30",y:"67",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"120",r:"8"}),U.a.createElement("rect",{x:"30",y:"115",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"168",r:"8"}),U.a.createElement("rect",{x:"30",y:"163",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"216",r:"8"}),U.a.createElement("rect",{x:"30",y:"211",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"264",r:"8"}),U.a.createElement("rect",{x:"30",y:"259",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"312",r:"8"}),U.a.createElement("rect",{x:"30",y:"307",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"360",r:"8"}),U.a.createElement("rect",{x:"30",y:"355",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"408",r:"8"}),U.a.createElement("rect",{x:"30",y:"403",rx:"5",ry:"5",width:"256",height:"10"}),U.a.createElement("circle",{cx:"12",cy:"456",r:"8"}),U.a.createElement("rect",{x:"30",y:"451",rx:"5",ry:"5",width:"256",height:"10"}))},Wt=function(e){var t=e.onParentRef,n=e.onChildRef,a=e.logParams,r=Object(L.useRef)(null),o=Object(L.useRef)(null),i=Object(L.useState)(!0),c=ee()(i,2),l=c[0],u=c[1],s=Object(L.useState)(611),f=ee()(s,2),d=f[0],m=f[1];return Object(L.useEffect)((function(){null==n||n(o.current)}),[]),Object(L.useImperativeHandle)(t,(function(){return{refresh:function(){var e;null===(e=r.current)||void 0===e||e.refresh()}}})),U.a.createElement("div",{className:"home-hotboard",style:{height:d}},U.a.createElement("div",{ref:o},U.a.createElement(Ut.a,{ref:r,logParams:a,onSuccess:function(){setTimeout((function(){var e,t,n=null===(e=r.current)||void 0===e||null===(t=e.dom)||void 0===t?void 0:t.clientHeight;n&&m(n)}))},onEnd:function(){u(!1)}}),l&&U.a.createElement(Pt,null)))},Bt=n("4948fbe5c6d0ea899cb0"),Ft=(n("d85d79ca97cea7f3b987"),n("1d7fcef557f69e9ba680")),Vt=n("ba5c9f6f094cd420b97f"),Qt=n("8400655226bf61906365"),Ht=n("e763df33e8176fe29b0e");function zt(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):zt(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var qt=function(e){var t=e.onRef,n=e.onChildRef,a=e.logParams,r=Object(L.useRef)(null),o=Object(L.useRef)(null),i=Object(L.useRef)(!1),c=Object(L.useState)(0),l=ee()(c,2),u=l[0],s=l[1],f=Object(L.useState)([]),d=ee()(f,2),m=d[0],p=d[1],b=Object(L.useState)([]),h=ee()(b,2),_=h[0],v=h[1],y=Object(L.useState)(0),w=ee()(y,2),k=w[0],O=w[1];function j(e){Object(q.a)("category_refresh",Kt(Kt({},a),{},{section:"hot_video",reload_type:"change",is_null:e}))}function A(e,t){return C.apply(this,arguments)}function C(){return(C=E()(g.a.mark((function e(t,n){var a,r,o,c,l,f,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.current){e.next=2;break}return e.abrupt("return");case 2:return i.current=!0,e.prev=3,a=k,r=u>=30?0:u,void 0!==t&&(a=t,r=t),e.next=9,we.a.feed.getHotVideoData(a);case 9:if(o=e.sent,c=o.data||{},l=c.message,f=c.data,d=c.offset,"success"!==l){e.next=20;break}m=(0===a?[]:_).concat(Object(Ft.a)(f)),v(m),O(d>=30?0:d),p(m.slice(r,r+5)),s(r+5),"change"===n&&j(0),e.next=21;break;case 20:throw new Error(o.data.message);case 21:i.current=!1,e.next=29;break;case 24:e.prev=24,e.t0=e.catch(3),i.current=!1,"change"===n&&j(1);case 29:case"end":return e.stop()}}),e,null,[[3,24]])})))).apply(this,arguments)}return Object(L.useEffect)((function(){setTimeout((function(){A()})),null==n||n(o.current)}),[]),Object(L.useImperativeHandle)(t,(function(){return{refresh:function(){A(0)}}})),U.a.createElement("div",{role:"complementary","aria-label":"\u70ed\u95e8\u89c6\u9891",className:"hot-video",ref:r},U.a.createElement("div",{ref:o},U.a.createElement(Vt.a,{type:"hotVideo",onClick:function(){u+5>_.length?A(void 0,"change"):(p(_.slice(u,u+5)),s(u+5),j(0))}}),U.a.createElement("div",{className:"video-list hot-video-list"},m.map((function(e){return U.a.createElement(Bt.a,{onVisible:function(t){return t&&function(e){var t;Object(q.a)("client_show",Kt(Kt({},a),{},{show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,is_top_content:"0",article_type:"video",is_following:(null===(t=e.userInfo)||void 0===t?void 0:t.follow)?"1":"0",key_name:"tt_pc_feed"}))}(e)},once:!0,key:e.gid},U.a.createElement("div",{className:"video-item",onClick:function(){return function(e){Object(q.a)("content_click",Kt(Kt({},a),{},{show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,is_top_content:"0",article_type:"video"}))}(e)}},U.a.createElement(Ht.a,{tabIndex:-1,"aria-hidden":!0,className:"left-img",href:e.sourceUrl,logInfo:Object(Ft.b)(e,a)},U.a.createElement("img",{className:"pic",src:Object(z.i)(e.imgUrl),alt:"\u5c01\u9762",loading:"lazy"}),U.a.createElement("p",{className:"number ".concat(e.rank<4?"num".concat(e.rank):"num-other")},e.rank),U.a.createElement("p",{className:"duration"},e.duration)),U.a.createElement("div",{className:"right-content"},U.a.createElement(Ht.a,{className:"title",href:e.sourceUrl,title:e.title,logInfo:Object(Ft.b)(e,a)},e.title),e.tag&&U.a.createElement("p",{className:"like"},e.tag),U.a.createElement("p",{className:"desc"},U.a.createElement("span",null,e.watchCount,"\u6b21\u89c2\u770b"),U.a.createElement(Qt.a,{href:e.profileUrl,title:e.name,logInfo:{position:"list",section:"hot_video"}},e.name)))))})))))},Gt=n("5401f94f5b54273d68ed"),Jt=(n("0edd1c2e1c839e1de69f"),[{url:"https://job.bytedance.com",title:"\u52a0\u5165\u5934\u6761",rel:"nofollow"},{url:"/user_agreement/",title:"\u7528\u6237\u534f\u8bae",target:"_self",rel:"nofollow"},{url:"/privacy_protection/",title:"\u9690\u79c1\u653f\u7b56",target:"_self",rel:"nofollow"},{url:"/media_partners/",title:"\u5a92\u4f53\u5408\u4f5c",target:"_self",rel:"nofollow"},{url:"https://www.oceanengine.com/resource/toutiao?source=toutiao-pc-footer",title:"\u5e7f\u544a\u5408\u4f5c",rel:"nofollow"},{url:"/friend_link/",title:"\u53cb\u60c5\u94fe\u63a5",target:"_self",rel:""}]),Yt=[{url:"/report/",title:"\u5a92\u4f53\u62a5\u9053",target:"_self"},{url:"/cooperation/",title:"\u4ea7\u54c1\u5408\u4f5c",target:"_self"},{url:"/mcn_publicity/",title:"\u5934\u6761MCN",target:"_self"},{url:"/contact/",title:"\u8054\u7cfb\u6211\u4eec",target:"_self"},{url:"/corrupt_report/",title:"\u5ec9\u6d01\u4e3e\u62a5",target:"_self"},{url:"https://renzheng.toutiao.com/guide?platform=%27PC%27&source=%27www.toutiao.com%27",title:"\u4f01\u4e1a\u8ba4\u8bc1"},{url:"https://hys.people-health.cn/m/#/pages/ncovSuff/index",title:"\u80ba\u708e\u6c42\u52a9"},{url:"http://www.piyao.org.cn/2020yqpy",title:"\u8f9f\u8c23\u4e13\u533a"},{url:"https://www.toutiao.com/search_disclaimer/",title:"\u514d\u8d23\u58f0\u660e"}],Xt=function(e){var t=e.onRef,n=Object(L.useRef)(null),a=Object(L.useState)(!1),r=ee()(a,2),o=r[0],i=r[1];function c(e,t){Object(q.a)("bottom_bar_click",{from_position:e,action_type:t||"click",page_name:"feed"})}return Object(L.useEffect)((function(){null==t||t(n.current)}),[]),U.a.createElement("div",{role:"contentinfo","aria-label":"\u534f\u8bae\u6c47\u603b",className:"footer-wrapper",ref:n},U.a.createElement("div",null,U.a.createElement("div",null,Jt.map((function(e){return U.a.createElement("a",{href:e.url,rel:e.rel,target:e.target||"_blank",key:e.url,onClick:function(){return c(e.title)}},e.title)})),U.a.createElement(be.a,{onOpen:function(){i(!0)},onClose:function(){i(!1)}},U.a.createElement(be.a.MenuButton,{onMouseEnter:function(){return c("\u66f4\u591a","hover")}},U.a.createElement("span",{className:"more"},"\u66f4\u591a",U.a.createElement(be.a.MenuList,null,U.a.createElement("div",{className:"more-link",style:{display:o?"block":"none"}},Yt.map((function(e){return U.a.createElement(be.a.MenuItem,{key:e.url},U.a.createElement("a",{href:e.url,rel:"nofollow",target:e.target||"_blank",onClick:function(){return c(e.title)}},e.title))})))))))),U.a.createElement("div",null,U.a.createElement("span",null,"\u5317\u4eac\u6296\u97f3\u4fe1\u606f\u670d\u52a1\u6709\u9650\u516c\u53f8"),U.a.createElement("span",null,"\u8fdd\u6cd5\u548c\u4e0d\u826f\u4fe1\u606f\u4e3e\u62a5\uff1a400-140-2108"),U.a.createElement("span",null,"\u4e3e\u62a5\u90ae\u7bb1\uff1ajubao@toutiao.com"))))};function Zt(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):l.a?i()(e,l()(n)):Zt(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function en(e){var t=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=R()(e);if(t){var r=R()(this).constructor;n=h()(a,arguments,r)}else n=a.apply(this,arguments);return N()(this,n)}}var tn=function(e){T()(n,e);var t=en(n);function n(){var e,a,r,o,i,c,l,u,s;return A()(this,n),(s=t.apply(this,arguments)).state={categoryName:null===(e=s.props.data)||void 0===e||null===(a=e.initialChannel)||void 0===a?void 0:a.category,keyword:"",initialChannel:null===(r=s.props.data)||void 0===r?void 0:r.initialChannel,channel:null===(o=s.props.data)||void 0===o?void 0:o.initialChannel,outChannelKey:null===(i=s.props.data)||void 0===i?void 0:i.outChannelKey,followCount:null===(c=s.props.data)||void 0===c||null===(l=c.userInfo)||void 0===l?void 0:l.followingCount,localCityInfo:null===(u=s.props.data)||void 0===u?void 0:u.localCityInfo,showFeedback:!1},s.animating=!1,s.refresh=!1,s.handleScroll=function(){s.animating||(s.animating=!0,window.requestAnimationFrame((function(){var e,t,n=null===(e=s.bannerEL)||void 0===e?void 0:e.getBoundingClientRect().bottom,a=null===(t=s.rightEL)||void 0===t?void 0:t.getBoundingClientRect(),r=a.left,o=a.bottom,i=-Object(K.b)(),c=n;if(s.refresh&&(c=n-64),c>0)s.fixHeaderEL.style.display="none",s.fixHeaderEL.style.transform="translate(0px, 0px)";else if(s.refresh&&n>1)s.fixHeaderEL.style.display="none",s.fixHeaderEL.style.transform="translate(0px, 0px)",setTimeout((function(){s.refresh=!1}),100);else if(s.refresh&&n+64<=0)s.refresh=!1;else{var l=Math.min(-c,64);s.fixHeaderEL.style.display="block",s.fixHeaderEL.style.transform="translate(".concat(i,"px, ").concat(l,"px)")}s.footerEL.style.transform="translateX(".concat(i,"px)"),o<64&&s.hotListEL?(s.hotListEL.style.position="fixed",s.hotListEL.style.left="".concat(r,"px"),s.hotListEL.style.top="".concat(88,"px")):s.hotListEL&&(s.hotListEL.style.position="static"),s.animating=!1})))},s.handleResize=Object(z.u)((function(){var e;if(s.hotListEL&&"fixed"===s.hotListEL.style.position)if(window.innerWidth>=1280){var t,n,a=null===(t=s.rightEL)||void 0===t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.left;s.hotListEL.style.left="".concat(a,"px")}else clearTimeout(e),e=setTimeout((function(){var e,t,n=null===(e=s.rightEL)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.left;s.hotListEL.style.left="".concat(n,"px")}),400)}),200),s.handleChangeNav=function(){s.scrollToTop()},s.handleOutChannelChange=function(e){s.setState({outChannelKey:e.key})},s.sendLog=function(){Object(Y.d)("web_page_title"),Object(q.a)("header_logo_click",{page_name:"home",category_name:s.state.categoryName,from_position:"logo"})},s.handleLocalCityChange=function(e){s.setState({localCityInfo:e})},s.handleWeatherCityChange=function(e){var t;s.handleLocalCityChange(e);var n=G.a.get();(null===(t=s.state.channel)||void 0===t?void 0:t.key)===n.local.key?At.changeChannel("default",$t($t({},n.local),{},{name:e.name,channelId:e.channelId})):G.a.updateChannel(G.a.get().local.key,{name:e.name,channelId:e.channelId})},s}return I()(n,[{key:"componentDidMount",value:function(){var e=this.props.data||{},t=e.identity,n=e.abtestInfo,a=e.initialChannel;if(Object(J.a)(t),Object(q.b)(t,n),Object(Y.b)("home"),Object(Y.c)(),Object(Ct.b)(),!a){var r=Object(G.d)();this.setState({initialChannel:r,channel:r})}if("random_toolbar"===Object(z.m)("source")){var o,i=(null===(o=this.bannerEL)||void 0===o?void 0:o.getBoundingClientRect().bottom)||0;Object(K.a)(i)}window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)}},{key:"scrollToTop",value:function(){var e;(null===(e=this.fixHeaderEL)||void 0===e?void 0:e.getBoundingClientRect().bottom)>=64&&(this.refresh=!0,At.scrollToTop())}},{key:"handleRefresh",value:function(){var e,t;At.refresh(),this.scrollToTop(),null===(e=this.hlEL)||void 0===e||e.refresh(),null===(t=this.hvEL)||void 0===t||t.refresh()}},{key:"onScrollToTop",value:function(){this.refresh=!0}},{key:"onChannelChange",value:function(e){var t,n;this.setState({categoryName:e.category,channel:e}),null===(t=this.hlEL)||void 0===t||t.refresh(),null===(n=this.hvEL)||void 0===n||n.refresh()}},{key:"handleChangeKw",value:function(e){this.setState({keyword:e})}},{key:"setFollowCount",value:function(e){this.setState({followCount:e})}},{key:"contentShow",value:function(e){var t=this.state,n=t.channel,a=t.followCount,r=t.categoryName;Object(q.a)("content_section_show",$t({position:"list",category_name:r,channel_id:(null==n?void 0:n.channelId)||0,enter_from:"__all__"===r?"click_headline":"click_category",section:e,is_has_following:a?1:0},"random_toolbar"===Object(z.m)("source")?{is_auto_draw:1}:{}))}},{key:"handleFeedbackPanel",value:function(e){this.setState({showFeedback:e})}},{key:"render",value:function(){var e,t,n=this,a=(null===(e=this.props)||void 0===e?void 0:e.data)||{},r=a.logId,o=a.userInfo,i=a.homeBackgroundConf,c=a.initialFeedList,l=void 0===c?[]:c,u=a.defaultChannelOrder,s=a.insertedChannel,f=a.showResearch,d=a.abtestInfo,m=a.identity,p=a.weatherInfo,b=a.blockVisibility,h=this.state,_=h.keyword,g=h.initialChannel,v=h.channel,y=h.outChannelKey,w=h.followCount,E=h.localCityInfo,k=h.showFeedback,O={page_name:"home",category_name:null==v?void 0:v.category,position:"list",enter_from:"__all__"===(null==v?void 0:v.category)?"click_headline":"click_category",channel_id:null==v?void 0:v.channelId};return U.a.createElement(V.Provider,{value:null===(t=this.props)||void 0===t?void 0:t.data},U.a.createElement("div",{className:"home-container"},U.a.createElement("div",{ref:function(e){n.fixHeaderEL=e},className:"fix-header common-component-wrapper"},U.a.createElement(M.a,null,U.a.createElement("div",null,U.a.createElement("a",{className:"logo","aria-label":"\u4eca\u65e5\u5934\u6761\u5fbd\u6807",href:"/",rel:"nofollow",onClick:this.sendLog}),g&&U.a.createElement(pt,{defaultKey:g.key,outChannelKey:y,defaultChannelOrder:u,forceInsertedChannel:s,localCityInfo:E,userInfo:o,abtestInfo:d,onCurrentNavChange:this.handleChangeNav.bind(this),onChangeLocalCity:this.handleLocalCityChange,onChangeOutChannel:this.handleOutChannelChange}),U.a.createElement("div",{style:{flex:1,minWidth:40}}),U.a.createElement(Ye,{isRed:!0,hasHotword:!1,hotWordTheme:{icon:i.hotword_icon},logParams:$t($t({},O),{},{tab_type:"category_bar"}),userId:null==o?void 0:o.userId,value:_,onKwChange:this.handleChangeKw.bind(this)}),U.a.createElement("div",{className:"header-notification-wrapper"},U.a.createElement(F.a,{listening:!0,userId:null==o?void 0:o.userId,webId:null==m?void 0:m.web_id,logParams:O})),U.a.createElement("div",{className:"header-publisher-wrapper"},U.a.createElement(B.a,{logParams:{page_type:"feed"},isLogin:!!(null==o?void 0:o.userId)})),U.a.createElement(De,{isStick:!0,userInfo:o,hasName:!1,pageType:"feed",logParams:O})))),U.a.createElement("div",{role:"banner","aria-label":"\u80cc\u666f\u5927\u56fe",ref:function(e){n.bannerEL=e}},U.a.createElement(de,{data:i,categoryName:O.category_name||""})),U.a.createElement(Le,{theme:{login_btn:i.login_btn_theme},logId:r,userInfo:o,pageType:"list",logParams:O,localCity:E,weatherInfo:p,abtestInfo:d,webId:null==m?void 0:m.web_id,onChangeLocalCity:this.handleWeatherCityChange,onFeedbackClick:function(){return n.handleFeedbackPanel(!0)}}),U.a.createElement("div",{role:"search",className:"search-container"},U.a.createElement(Ye,{className:"main-search",isRed:!1,hasHotword:!0,hotWordTheme:{icon:i.hotword_icon},logParams:$t($t({},O),{},{tab_type:"top_bar"}),userId:null==o?void 0:o.userId,value:_,autoFocus:!0,onKwChange:this.handleChangeKw.bind(this)})),U.a.createElement("div",{className:"main-content"},U.a.createElement("div",{role:"main",className:"left-container"},U.a.createElement(P.a,null,U.a.createElement(Q.a.Provider,{value:o},U.a.createElement(H.a.Provider,{value:{webid:(null==m?void 0:m.web_id)||"",abtestInfo:d}},U.a.createElement(He.a,{inViewHandler:function(){return n.contentShow("feed")}},U.a.createElement(At,{initialChannel:g,outChannelKey:y,defaultChannelOrder:u,forceInsertedChannel:s,initialList:l,localCityInfo:E,abtestInfo:d,followCount:w,logParams:$t($t({},O),{},{section:"feed"}),onChannelChange:this.onChannelChange.bind(this),onScrollToTop:this.onScrollToTop.bind(this),onChangeLocalCity:this.handleLocalCityChange,onCurrentNavChange:this.handleChangeNav.bind(this),onChangeOutChannel:this.handleOutChannelChange})))))),U.a.createElement("div",{className:"right-container",ref:function(e){n.rightEL=e}},U.a.createElement(Lt,{userInfo:o,logParams:O,onFollowCount:this.setFollowCount.bind(this)}),f&&U.a.createElement("div",{style:{marginTop:-12,marginBottom:36}},U.a.createElement(It.a,{url:"https://wj.toutiao.com/q/127867/H54dhL82/6a5e/#/"})),(null==b?void 0:b.hotBoard)&&U.a.createElement(He.a,{inViewHandler:function(){return n.contentShow("hot_spot")}},U.a.createElement(Wt,{onParentRef:function(e){n.hlEL=e},onChildRef:function(e){n.hotListEL=e},abtestInfo:d,logParams:O})),(null==b?void 0:b.hotVideo)&&U.a.createElement(He.a,{inViewHandler:function(){return n.contentShow("hot_video")}},U.a.createElement(qt,{onRef:function(e){return n.hvEL=e},onChildRef:function(e){return n.hotVideoEL=e},logParams:O})),U.a.createElement(Gt.a,null),U.a.createElement("div",{className:"a11y-logo"}))),U.a.createElement(Xt,{onRef:function(e){return n.footerEL=e}}),U.a.createElement(Ct.a,{showRefresh:!0,logParams:O,isFeedbackShow:k,refresh:this.handleRefresh.bind(this),onFeedbackClick:function(){return n.handleFeedbackPanel(!0)}}),U.a.createElement(W.a,{logParams:{page_name:O.page_name}}),U.a.createElement(Tt.a,{extraOptions:{userId:null==o?void 0:o.userId,webId:null==m?void 0:m.web_id,logId:r},visible:k,onClose:function(){return n.handleFeedbackPanel(!1)}}),U.a.createElement(xt.a,{pageName:"home",showPWAPanel:!1,abtestInfo:d})))}}]),n}(U.a.Component);tn.getDerivedHeadElement=function(){var e=E()(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null==n||null===(a=n.data)||void 0===a?void 0:a.homeBackgroundConf,r=t?t.image_url:"",e.abrupt("return",{head:U.a.createElement(U.a.Fragment,null,!1,U.a.createElement("title",null,"\u4eca\u65e5\u5934\u6761"),r&&U.a.createElement("link",{rel:"preload",href:r,as:"image"}),U.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:y()({"@context":"https://schema.org","@type":"WebSite",url:"https://www.toutiao.com",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:"https://so.toutiao.com/search?dvpf=pc&source=input&keyword={search_term_string}"},"query-input":"required name=search_term_string"}})}})),position:"after"});case 2:case"end":return e.stop()}var t}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"5c3da803b3052385fdf2":function(e,t,n){},"5f490fd0667aa88b93fb":function(e,t,n){},"5f50dd5472034bc9ced6":function(e,t,n){"use strict";n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("8820a3764a10a8c7e743"),n("573c5686f1fb233d5b7d"),n("571991951e321151cc70"),n("b6cb1367ef90a55df96a");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o),c=(n("dbfda9872bd1c8d94329"),n("98ad94a9d064c7351e07")),l=(n("078450aa17a5c8b07ba0"),n("2810e53ad7174f3c046d"),n("cee282056923df468c92"),n("abbf799a026c91d8612e")),u=n("1996c46f3c8a49327c94"),s=(n("2a9af8857f6d9a7fa24d"),n("d5c06b6cf3948fb34e9d")),f=r.a.forwardRef((function(e,t){var n=e.className,o=e.children,c=e.iconType,l=e.ariaLabel,u=e.onClick,f=e.onFocus,d=e.onBlur,m=Object(a.useRef)(null);function p(){null==u||u()}return Object(a.useImperativeHandle)(t,(function(){return{dom:m.current}})),r.a.createElement(s.a.MenuItem,{onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),p())},onFocus:f,onBlur:d},r.a.createElement("div",{ref:m,"aria-label":l,className:i()("ttp-interact-item",n,"icon-".concat(c)),onClick:p},o))})),d=n("fc44cefe38e5ec0c2fd4"),m=n("ea597a565c1eb87a3414");function p(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){p(o,a,r,i,c,"next",e)}function c(e){p(o,a,r,i,c,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=function(e){var t=e.data;return r.a.createElement("div",{className:"origin-content"},t.cover&&r.a.createElement("img",{className:"cover",src:t.cover,alt:""}),r.a.createElement("div",{className:"detail"},t.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"user-name",href:"/c/user/token/".concat(t.user.uid),rel:"nofollow",target:"_blank"},"@",t.user.name),"\uff1a"),r.a.createElement("div",{className:"rich-content",dangerouslySetInnerHTML:{__html:Object(m.a)(t.content)}})))},v=function(e){var t=e.origin,n=e.onSubmit,o=h(Object(a.useState)(""),2),c=o[0],l=o[1];function u(){return(u=b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=c.trim()).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,null==n?void 0:n(t);case 5:e.sent&&l("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"ttp-wtt-repost-panel"},r.a.createElement("div",{className:"input-area"},r.a.createElement("textarea",{className:"first-focus-el",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",rows:3,maxLength:2e3,value:c,onChange:function(e){var t=e.target.value;l(t)}}),r.a.createElement("div",{className:"input-meta"},r.a.createElement("span",{className:"words-count"},r.a.createElement("span",{className:"count"},c.length),"/2000"))),t&&r.a.createElement(g,{data:t}),r.a.createElement("div",{className:"publish-action"},r.a.createElement("button",{className:i()("submit-btn",{disable:!c.trim().length}),onClick:function(){return u.apply(this,arguments)}},"\u786e\u5b9a")))},y=n("7f9308912c4b86f89747");function w(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){w(o,a,r,i,c,"next",e)}function c(e){w(o,a,r,i,c,"throw",e)}i(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var j=function(e){var t=e||{},n=t.origin,o=t.repostParams,i=t.loginUserInfo,c=t.onModalClose,s=t.onModalOpen,m=t.onSubmit,p=k(Object(a.useState)(!1),2),b=p[0],h=p[1],_=Object(a.useRef)(!1);function g(e){return Object.assign({content:e,cover_image_url:null==n?void 0:n.cover},o)}function w(){return(w=E(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=2;break}return e.abrupt("return",!1);case 2:return _.current=!0,null==m||m(),e.prev=4,n=g(t),e.next=8,l.a.ugc.repostContent(n);case 8:if("success"!==(a=e.sent).data.message){e.next=15;break}return y.a.info("\u8f6c\u53d1\u6210\u529f"),_.current=!1,h(!1),null==c||c(),e.abrupt("return",!0);case 15:throw new Error(a.data.message);case 18:return e.prev=18,e.t0=e.catch(4),_.current=!1,y.a.info("\u8f6c\u53d1\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{iconType:"wtt",className:"wtt",onClick:function(){Object(u.a)(i)&&(h(!0),null==s||s())}},"\u8f6c\u53d1\u5230\u5934\u6761"),r.a.createElement(d.a,{className:"ttp-wtt-repost-modal",title:"\u8f6c\u53d1",visible:b,maskClosable:!1,onClose:function(){h(!1),null==c||c()},footer:null},r.a.createElement(v,{origin:n,onSubmit:function(e){return w.apply(this,arguments)}})))};n("685783877eda1ba3ad5f");function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t=e.shareConfig,o=e.onShare,i=Object(a.useRef)(null),c=Object(a.useRef)(null),l=A(Object(a.useState)(!1),2),u=l[0],s=l[1],d=Object(a.useRef)(-1),m=Object(a.useRef)(!1),p=Object(a.useRef)(!1);function b(){clearTimeout(d.current),m.current||p.current||(m.current=!0,n.e(15).then(n.bind(null,"a70cdde4c3fc135fbac1")).then((function(e){new e.default(c.current||"_qrcode",{width:t.width||80,height:t.height||80}).makeCode(t.url),m.current=!1,p.current=!0})).catch((function(){m.current=!1}))),s(!0),null==o||o()}function h(){clearTimeout(d.current),d.current=window.setTimeout((function(){s(!1)}),100)}return r.a.createElement("div",{className:"ttp-interact-wx-wrapper",ref:i,onMouseEnter:b,onMouseLeave:h},r.a.createElement(f,{ariaLabel:"\u5fae\u4fe1\u626b\u7801\u5206\u4eab",iconType:"wx",className:"wx",onFocus:b,onBlur:h},"\u5fae\u4fe1"),r.a.createElement("div",{className:"qrcode-panel",style:{display:u?"block":"none"}},r.a.createElement("div",{id:"_qrcode",ref:c}),r.a.createElement("span",null,"\u5fae\u4fe1\u626b\u7801\u5206\u4eab")))},x=(n("3563c6d1faece9f4f9e5"),n("71096cf209b72c63e10e"),{qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}&pics={{IMAGE}}",weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}"});function T(e,t){return x[e].replace(/\{\{(\w*)\}\}/g,(function(e,n){var a=n.toLowerCase();return encodeURIComponent(t[a]?t[a]:"")}))}var S,N=function(e){return r.a.createElement(f,{iconType:"weibo",className:"weibo",onClick:function(){var t,n,a;n=e.shareConfig,a=T("weibo",Object.assign({},n)),window.open(a),null===(t=e.onShare)||void 0===t||t.call(e)}},"\u65b0\u6d6a\u5fae\u535a")},D=(n("acc155cddbd190919d07"),function(e){return r.a.createElement(f,{iconType:"qzone",className:"qzone",onClick:function(){var t,n,a;n=e.shareConfig,a=T("qzone",Object.assign({},n)),window.open(a),null===(t=e.onShare)||void 0===t||t.call(e)}},"QQ\u7a7a\u95f4")}),R=n("428fcc3216b28ebf1917"),L=n.n(R),U=(n("655f399c98758d086897"),function(e){var t=e.shareConfig,n=e.show,o=e.onShare,i=Object(a.useRef)(null),c=Object(a.useRef)(!1),l=Object(a.useRef)(o);l.current=o;var u=Object(a.useCallback)((function(){var e;if(!c.current){var n=null===(e=i.current)||void 0===e?void 0:e.dom;if(n)new L.a(n,{text:function(){return t.url}}).on("success",(function(){var e;y.a.info(t.tips||"\u5df2\u590d\u5236\u6587\u7ae0\u94fe\u63a5\n\u53bb\u5206\u4eab\u5427"),null===(e=l.current)||void 0===e||e.call(l)})),c.current=!0}}),[t.tips,t.url]);return Object(a.useEffect)((function(){n&&u()}),[n,u]),r.a.createElement(f,{iconType:"copy",className:"copy",ref:i},"\u590d\u5236\u94fe\u63a5")});function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.WTT="wtt",e.COPY="copy",e.WX="wx",e.WEIBO="weibo",e.QZONE="qzone"}(S||(S={}));var W=[{type:S.WTT},{type:S.COPY},{type:S.WX},{type:S.WEIBO},{type:S.QZONE}];t.a=function(e){var t=e.options,n=void 0===t?W:t,o=e.shareConfig,l=e.wtt,u=e.qzone,f=e.weibo,d=e.copy,m=e.openType,p=void 0===m?"hover":m,b=e.direction,h=void 0===b?"right":b,_=e.closeTimeout,g=e.children,v=e.onShare,y=e.onShareAction,w=e.onWttSubmit,E=M(Object(a.useState)(!1),2),k=E[0],O=E[1],A=Object(a.useRef)(!1),C=M(Object(a.useState)(!1),2),x=C[0],T=C[1],R=Object(a.useRef)(null);function L(){var e;if(!A.current){if("right"===h){var t=(null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect())||{},n=t.top,a=void 0===n?1/0:n,r=t.height,o=a+(void 0===r?0:r)/2<window.innerHeight/2;T(o)}O(!0)}}function P(){O(!1)}function B(e){null==v||v(e)}function F(){A.current=!0,B("toutiao"),P()}function V(){A.current=!1}function Q(){B("copy"),P(),setTimeout((function(){var e,t;null===(t=null===(e=R.current)||void 0===e?void 0:e.childNodes[0])||void 0===t||t.focus()}),2500)}function H(e){var t;(null===(t=R.current)||void 0===t?void 0:t.contains(e.target))||P()}function z(e){B(e),P()}function K(){null==y||y("click"),L()}Object(a.useEffect)((function(){k&&Object(c.a)("interaction_bar_action",{action_type:"click",from_position:"share"})}),[k]),Object(a.useEffect)((function(){if("click"===p)return k?(window.addEventListener("click",H),window.addEventListener("keydown",H)):(window.removeEventListener("click",H),window.removeEventListener("keydown",H)),function(){window.removeEventListener("click",H),window.removeEventListener("keydown",H)}}),[k]);return r.a.createElement(s.a,{closeTimeout:_,onOpen:function(){"click"!==p&&L()},onClose:function(){"click"!==p&&P()},getListItems:function(e){return Array.prototype.slice.call((null==e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];return t.className.indexOf("wx")>-1?t.childNodes[0]:t})).filter(Boolean)}},r.a.createElement("div",{className:"ttp-interact-share",ref:R},r.a.createElement(s.a.MenuButton,{onMouseEnter:function(){return null==y?void 0:y("hover")}},g?r.a.cloneElement(g,{onClick:K}):r.a.createElement("div",{className:"share-btn",onClick:K},"\u5206\u4eab")),r.a.createElement(s.a.MenuList,null,r.a.createElement("ul",{className:i()("share-tools",{"panel-right":"right"===h,"panel-right-top":!x&&"right"===h,"panel-right-bottom":x&&"right"===h,"panel-top":"top"===h,"panel-bottom":"bottom"===h,"pop-anime":k})},n.map((function(e){switch(e.type){case S.WTT:return l||e.config?r.a.createElement("li",{key:S.WTT},r.a.createElement(j,Object.assign({},l,e.config,{onModalOpen:F,onModalClose:V,onSubmit:w}))):null;case S.COPY:return r.a.createElement("li",{key:S.COPY},r.a.createElement(U,{shareConfig:Object.assign(Object.assign({url:o.url},d),e.config),show:k,onShare:Q}));case S.WX:return r.a.createElement("li",{key:S.WX},r.a.createElement(I,{shareConfig:Object.assign({url:o.url},e.config),onShare:function(){return B("wechat")}}));case S.WEIBO:return r.a.createElement("li",{key:S.WEIBO},r.a.createElement(N,{shareConfig:Object.assign(Object.assign({title:o.title,url:o.url,image:o.cover},f),e.config),onShare:function(){return z("weibo")}}));case S.QZONE:return r.a.createElement("li",{key:S.QZONE},r.a.createElement(D,{shareConfig:Object.assign(Object.assign({title:o.title,url:o.url,image:o.cover},u),e.config),onShare:function(){return z("qzone")}}));default:return null}}))))))}},"600ef62ec3ad32ec1243":function(e,t,n){},"60ea5d854a4999bbf092":function(e,t,n){},"617300dd2ee3a73fcfd5":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var a=n("4905f80144af6010629a"),r=n.n(a),o=n("2fadeaed9bdb1dd22487"),i=n.n(o),c=n("69084d01d3449fc1bc27"),l=n("73f40e49daf0622f890e");function u(){return Number(Object(l.a)("__pwa_push_show_count"))}function s(e){var t=Object(c.useState)(!1),n=i()(t,2),a=n[0],o=n[1];return Object(c.useEffect)((function(){if(e){var t=u(),n=r()()-Number(Object(l.a)("__pwa_push_show_time"))>864e5;t<3&&n&&setTimeout((function(){o(!0),Object(l.b)("__pwa_push_show_count",String(t+1)),Object(l.b)("__pwa_push_show_time",String(r()()))}),1e3)}}),[e]),a}},"62ea6c1add15eea97123":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("949e90892ef33ac1c1ae"),n("42eee083f5c47e0e1e4f"),n("509dfa66ded6e9f07cba"),n("6a44db37054cf3d0f845");function a(e,t){if(!e||!t)return{};var n={},a=Object.keys(e);return a.forEach((function(e){n[e]=t.style[e]})),a.forEach((function(n){t.style[n]=e[n]})),n}},"641fd1e48a712db13213":function(e,t,n){},"655f399c98758d086897":function(e,t,n){},"663529bce6ee6d8996f5":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"getProfileTabs",(function(){return D})),n.d(a,"getRecentList",(function(){return R})),n.d(a,"getFeedData",(function(){return L})),n.d(a,"getFavData",(function(){return U})),n.d(a,"getFollowData",(function(){return M})),n.d(a,"getFeedList",(function(){return P})),n.d(a,"getHotNews",(function(){return W})),n.d(a,"getHotList",(function(){return B})),n.d(a,"getRelatedList",(function(){return F})),n.d(a,"getFeedApiData",(function(){return V})),n.d(a,"getDetailRelatedList",(function(){return Q})),n.d(a,"getDetailFeedList",(function(){return H})),n.d(a,"getDetailHotList",(function(){return z})),n.d(a,"getRefreshTips",(function(){return K})),n.d(a,"getHotVideoData",(function(){return q})),n.d(a,"getVideoData",(function(){return G})),n.d(a,"getShortVideoData",(function(){return J}));var r={};n.r(r),n.d(r,"getWeatherCity",(function(){return Z})),n.d(r,"getWeatherData",(function(){return $}));var o={};n.r(o),n.d(o,"getFansStat",(function(){return ne})),n.d(o,"followUser",(function(){return ae})),n.d(o,"unfollowUser",(function(){return re})),n.d(o,"getFansList",(function(){return oe})),n.d(o,"getFollowingList",(function(){return ie}));var i={};n.r(i),n.d(i,"followUsers",(function(){return fe})),n.d(i,"submitFeedback",(function(){return de})),n.d(i,"likeArticle",(function(){return me})),n.d(i,"dislikeArticle",(function(){return pe})),n.d(i,"deleteUgcVideo",(function(){return be})),n.d(i,"deleteUgcContent",(function(){return he})),n.d(i,"dislikeFeed",(function(){return _e})),n.d(i,"feedbackContent",(function(){return ge})),n.d(i,"repostContent",(function(){return ve})),n.d(i,"diggArticle",(function(){return ye}));var c={};n.r(c),n.d(c,"getCSRFToken",(function(){return we})),n.d(c,"getTTAntiToken",(function(){return Ee}));var l={};n.r(l),n.d(l,"getReplyList",(function(){return Ce})),n.d(l,"getTabComments",(function(){return Ie})),n.d(l,"submitComment",(function(){return xe})),n.d(l,"submitReply",(function(){return Te})),n.d(l,"commentAction",(function(){return Se})),n.d(l,"diggReply",(function(){return Ne})),n.d(l,"reportUser",(function(){return De}));var u={};n.r(u),n.d(u,"getWritingsList",(function(){return Ue})),n.d(u,"getSearchList",(function(){return Me})),n.d(u,"toTopItem",(function(){return Pe})),n.d(u,"cancelTopItem",(function(){return We})),n.d(u,"getPopularWorks",(function(){return Be}));var s={};n.r(s),n.d(s,"getTccConfig",(function(){return Fe}));var f=n("a58942195da9f667c6db"),d=n.n(f),m=n("1f8b48cdafa9b9697aa7"),p=n.n(m),b=n("070b74083ae0e56df3bd"),h=n.n(b),_=n("90c5586bb50fc596673a"),g=n.n(_),v=n("8782ba00facdf23abb6a"),y=n.n(v),w=n("f9652c99cb787d02d72d"),E=n.n(w),k=n("99cf401087dd36bc9dc3"),O=n.n(k),j=n("b28d054028530bf1d2eb"),A=n.n(j),C=n("a99d8596674b8a971a00"),I=n("a52ab4297c6c7cd8920c"),x=n.n(I),T=n("10130cfc2ba27a09b7e5");function S(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):S(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function D(e){var t=x.a.stringify({token:e});return C.a.post("/api/pc/user/tabs_info",t)}function R(e,t){return C.a.get("/api/pc/media_hot/",{params:{media_id:t,user_token:e}})}function L(e,t,n){return"profile_collection"===e?C.a.get("/api/pc/list/feed",{params:{category:e,token:t,max_behot_time:n}}):C.a.get("/api/pc/feed/",{params:{category:e,utm_source:"toutiao",visit_user_token:t,max_behot_time:n}})}function U(e,t){return C.a.get("/c/user/favourite/",{params:{page_type:2,user_token:e,max_behot_time:0,count:20,max_repin_time:t}})}function M(e,t,n){var a="following"===e?"/c/user/following/":"/c/user/followed/";return C.a.get(a,{params:{user_token:t,cursor:n,count:20}})}function P(e,t){return C.a.get(e,{params:t})}function W(){return C.a.get("/api/pc/realtime_news/")}function B(){return C.a.get("/hot-event/hot-board/?origin=toutiao_pc")}function F(e){return C.a.get("/api/article/related/",{params:{group_id:e}})}function V(e){var t=function(e){var t=T.a.get();switch(e){case t.all.channelId:return"pc_profile_recommend";case t.wenda.channelId:return t.wenda.category;default:return"pc_profile_channel"}}(e.channel_id),n={},a=T.a.get();return e.channel_id===a.follow.channelId?n.disable_raw_data=!0:e.channel_id!==a.all.channelId&&(n.client_extra_params=A()({short_video_item:"filter"})),C.a.get("/api/pc/list/feed",{params:N(N({},e),{},{category:t},n)})}function Q(e){return C.a.get("/api/pc/list/feed",{params:{channel_id:94349561185,category:"pc_profile_channel",gid_need_related:e.gid}})}function H(e){return C.a.get("/api/pc/list/feed",{params:N({channel_id:0,category:"pc_profile_recommend",need_top:!1},e)})}function z(e){return C.a.get("/api/pc/list/feed",{params:{min_behot_time:0,category:"pc_profile_article",author_token:e.userId}})}function K(e){return C.a.get("/2/article/v88/refresh_tip/",{params:{category:"\u5173\u6ce8",refresh_tag:0,min_behot_time:e,count:20}})}function q(e){return C.a.get("/api/pc/list/feed",{params:{offset:e,channel_id:94349549395,max_behot_time:0,category:"pc_profile_channel",disable_raw_data:!0}})}function G(){return C.a.get("/api/pc/list/feed",{params:{channel_id:3431225546,min_behot_time:0,max_behot_time:0,category:"pc_profile_dislike",disable_raw_data:!0}})}function J(e){var t={channel_id:79953622879,tt_from:"card_draw",list_entrance:"more_shortvideo_category",client_extra_params:A()({short_video_card:"left_slip"})};return e===T.a.get().all.channelId&&(t.channel_id=79953622879,t.list_entrance="more_shortvideo"),C.a.get("/api/pc/list/feed",{params:N({min_behot_time:0,max_behot_time:0,category:"pc_profile_dislike",disable_raw_data:!0},t)})}function Y(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):Y(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function Z(){return C.a.get("/stream/widget/local_weather/city/")}function $(e){return C.a.get("/stream/widget/local_weather/data/",{params:X({},e?{city:e}:{})})}function ee(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):ee(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function ne(e){var t=x.a.stringify({token:e});return C.a.post("/api/pc/user/fans_stat",t)}function ae(e,t){var n=e?"user_token":"user_id",a=e?null:{user_id:t};return C.a.post("/api/pc/user/follow",O()({},n,e||t),{params:a})}function re(e,t){var n=e?"user_token":"user_id",a=e?null:{user_id:t};return C.a.post("/c/user/unfollow/",x.a.stringify(O()({},n,e||t)),{params:a})}function oe(e){return C.a.get("/api/pc/user/followed",{params:te(te({},e),{},{count:20})})}function ie(e){return C.a.get("/api/pc/user/following",{params:te(te({},e),{},{count:e.count||20})})}var ce=n("2422758950d9f66b7423"),le=n("be6323750fae7868d676");function ue(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):ue(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function fe(e,t){return C.a.get("/c/user/".concat(e,"/"),{params:{user_token:t}})}function de(e,t,n){var a=x.a.stringify({aid:13,appkey:"web",app_name:ce.k,contact:e,content:"[".concat(window.location.host,"]").concat(t),extra_persistent_params:A()(n)});return C.a.post("/feedback/2/post_message/",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function me(e,t){return C.a.post("/group/repin/",x.a.stringify({group_id:e,item_id:t}))}function pe(e,t){return C.a.post("/group/unrepin/",null,{params:{group_id:e,item_id:t}})}function be(e){return C.a.post("/api/pc/user/delete",null,{params:{item_id:e}})}function he(e){return C.a.post("/c/ugc/content/delete/",x.a.stringify(e))}function _e(e,t,n){return C.a.post("/user_data/batch_action/?aid=24",{actions:[se({action:"dislike",aggr_type:1,id:t,item_id:e,ad_extra:{},type:1,timestamp:Object(le.n)()},n?{filter_words:[n]}:{})]})}function ge(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ce.g.ARTICLE,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=x.a.stringify({group_id:e,report_from:o||"web_detail_page",report_from2:o||"web_detail_page",platform:null,description:t,source:a,report_types:n,app_key:"toutiao-web"}),c={app_name:"toutiao-web",app_key:"toutiao-web",aid:ce.j,webid:r};return C.a.post("/api/feedback/v1/report_content/",i,{params:c})}function ve(e){return C.a.post("/c/ugc/content/repost/",x.a.stringify(se({},e)))}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.c.WTT;return C.a.post("/api/pc/user/fans_digg",null,{params:{gid:e,op:t,type:n}})}function we(){return C.a.get("/api/pc/info")}function Ee(){return C.a.get("/tt-anti-token")}var ke=n("626346d0a60969063da7"),Oe=n.n(ke);function je(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):je(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return C.a.get("/2/comment/v2/reply_list/",{params:{aid:ce.j,app_name:ce.k,id:e,offset:t,count:n,repost:a}})}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return C.a.get("/article/v2/tab_comments/",{params:{aid:ce.j,app_name:ce.k,offset:n,count:a,group_id:e,item_id:t}})}function xe(e,t,n){return C.a.post("/browser/2/data/v5/post_message/",x.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:ce.j,app_name:ce.k}})}function Te(e,t,n,a){var r={id:e,content:t};return(n||a)&&(r.reply_user_id=n,r.reply_comment_id=a),C.a.post("/api/pc/2/comment/v3/create_reply/",x.a.stringify(r),{params:{aid:ce.j,app_name:ce.k}})}function Se(e,t,n){return C.a.post("/api/pc/2/data/comment_action/",x.a.stringify({comment_id:e,group_id:t,item_id:n,action:"digg"}),{params:{aid:ce.j,app_name:ce.k}})}function Ne(e,t){return C.a.get("/api/pc/2/comment/v1/digg_reply/",{params:{aid:ce.j,app_name:ce.k,id:e,reply_id:t,action:"digg"}})}function De(e){return C.a.post("/api/pc/feedback/2/report_user_comment/",x.a.stringify(Ae(Ae({},e),{},{report_source:0,source:1,aid:ce.j})),{params:{aid:ce.j,app_name:"toutiao-web",app_key:"toutiao-web",webid:Oe.a.get("tt_webid")}})}function Re(e,t){var n=E()(e);if(y.a){var a=y()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):h.a?p()(e,h()(n)):Re(Object(n)).forEach((function(t){d()(e,t,g()(n,t))}))}return e}function Ue(e){return C.a.get("/api/pc/list/user/feed",{params:Le({},e)})}function Me(e){return C.a.get("/api/pc/list/feed",{params:Le(Le({},e),{},{category:"profile_search"})})}function Pe(e){return C.a.post("/api/pc/user/stick",null,{params:{item_id:e}})}function We(e){return C.a.post("/api/pc/user/unstick",null,{params:{item_id:e}})}function Be(e){return C.a.get("/api/pc/list/feed",{params:{category:"pc_user_hot",token:e}})}function Fe(){return C.a.get("https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-toutiao.fe.toutiao_web_pc-common")}var Ve={feed:a,weather:r,relation:o,user:i,csrf:c,comment:l,search:n("b201cefb7d33145ac7ad"),profile:u,tcc:s};t.a=Ve},"6740510cbb0e5ccf88eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("be6323750fae7868d676"),r=n("acff6c447f863638e55f");function o(e){var t,n,a=[];return(null===(t=e.large_image_list)||void 0===t?void 0:t.length)?a=e.large_image_list:(null===(n=e.image_list)||void 0===n?void 0:n.length)?a=e.image_list:e.middle_image&&(a=[].concat(e.middle_image)),a.map((function(e){return e.url.replace(/^http:/,"")}))}function i(e){var t=e.commentType,n=e.originGroup,i=e.originThread,c=e.originUgcVideo,l=e.originCommonContent,u=null;return n?u=function(e){var t=e.user_info,n=Object(a.t)((null==t?void 0:t.user_auth_info)||"{}");return{groupId:e.group_id_str,itemId:e.item_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.title,coverUrls:o(e),articleUrl:Object(r.b)(r.a.ARTICLE,e.group_id_str),videoDuration:e.video_duration,hasVideo:e.has_video,showOrigin:e.show_origin,showTips:e.show_tips}}(n):i?u=function(e){var t=e.user,n=Object(a.t)((null==t?void 0:t.user_auth_info)||"{}");return{groupId:e.thread_id_str,itemId:e.thread_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.content,coverUrls:o(e),articleUrl:Object(r.b)(r.a.WTT,e.thread_id_str),showOrigin:e.show_origin,showTips:e.show_tips}}(i):c?u=function(e){var t,n=e.raw_data,o=null===(t=n.user)||void 0===t?void 0:t.info,i=Object(a.t)((null==o?void 0:o.user_auth_info)||"{}"),c=n.group_id_str||n.group_id;return{groupId:c,itemId:n.item_id_str||n.item_id,userInfo:o&&{uid:o.user_id,name:o.name,avatarUrl:o.avatar_url,authType:i.auth_type,authInfo:i.auth_info},content:n.title,coverUrls:(n.thumb_image_list||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:Object(r.b)(r.a.SELF_VIDEO,c),videoDuration:n.video.duration,showOrigin:e.show_origin,showTips:e.show_tips}}(c):l&&(u=function(e,t){var n,r,o,i=null===(n=e.user)||void 0===n?void 0:n.info,c=Object(a.t)((null==i?void 0:i.user_auth_info)||"{}"),l="";return 215===t&&(l=Object(a.m)("url",null===(o=e.schema)||void 0===o?void 0:o.split("?")[1])),{groupId:e.group_id_str,itemId:e.group_id_str,userInfo:i&&{uid:i.user_id,name:i.name,avatarUrl:i.avatar_url,authType:c.auth_type,authInfo:c.auth_info},content:e.title,coverUrls:((null===(r=e.cover_image)||void 0===r?void 0:r.url_list)||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:l,showOrigin:e.show_origin,showTips:e.show_tips}}(l,t)),u}},"685783877eda1ba3ad5f":function(e,t,n){},"6927d89398ef9f1a4ef0":function(e,t,n){},"6b996a83bd1cc594b231":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getServerSideInitialProps",(function(){return m}));var a=n("cea817f8710b3702b0ef"),r=n.n(a),o=n("346b28504d968a7cb889"),i=n.n(o),c=(n("6ebc429a21c1841afaf9"),n("150fc7282b1f8ece2655")),l=n("3a714220fffd07ce0f25"),u=(n("8f733a24568c21239759"),n("5af737e6e697b88cdff1")),s=n("4c4ea2a98c1c93e67edd"),f=n("ecc80ba510baa97c03b0"),d=n("1e57c421e41f48e4643f");"undefined"!=typeof window&&window.history&&(window.history.scrollRestoration="manual"),Object(c.hot)(e)(u.a),Object(s.a)(),Object(f.a)(),Object(d.a)(),Object(l.a)(u.a),t.default=u.a;var m=function(){var e=i()(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:null===(n=t.ctx)||void 0===n?void 0:n.initialData});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}.call(this,n("f3ff06f6d0664ae8e4e9")(e))},"6cf195ddfada1b0033e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("08172d9560ad9ddbd809"),g=n("be6323750fae7868d676");function v(e){if(!e)return e;if(window.URL)try{return new URL(e).host}catch(n){return e}var t=document.createElement("a");return t.href=e,t.host}function y(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):y(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function E(e,t){window.collectEvent&&window.collectEvent(e,t||{})}function k(e,t){var n,a,r,o,i,c,l=window.sessionStorage.getItem("__ac_referer")||(window.byted_acrawler?null===(i=(c=window.byted_acrawler).getReferer)||void 0===i?void 0:i.call(c):document.referrer);null===(n=(a=window).collectEvent)||void 0===n||n.call(a,"config",w(w({},e),{},{user_unique_id:e.web_id,ab_sdk_version:(null==t?void 0:t.version_name)||"",user_agent:window.navigator.userAgent,referrer:l,referrer_host:v(l),is_pwa:"1"===Object(g.m)("from_pwa")||Object(_.c)()?"1":"0"})),null===(r=(o=window).collectEvent)||void 0===r||r.call(o,"start")}},"6ebc429a21c1841afaf9":function(e,t,n){n("078450aa17a5c8b07ba0"),n("509dfa66ded6e9f07cba"),n("8820a3764a10a8c7e743"),n("236d6e8545dd7845d835"),n("f263cece83a74483b981"),n("ba0be06bc0559e96d63c"),n("d173254e5e29035bda4d"),n("dd0e5f966abf743f1c55"),n("c2339f0861e7f7305a13"),Object.assign=n("31a4c8eb333c5536aeaa"),n("c10cd887a298788c3540"),n("5c2d60be70ce6d5088d7"),n("6d3ab19b422cf8f366b1"),n("e24fa82a1bef8c41c458"),"undefined"==typeof Promise&&(n("0d4ee9ff5eecd3f6c263").enable(),window.Promise=n("f231c94d51b6058e28c6"))},"6f7c19fbb5122ede4b67":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("69084d01d3449fc1bc27");function r(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)((function(){n.current?n.current=!1:e()}),t)}},"7009f854fb449fc1b23d":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a).a.createContext(null);t.a=r},"733b0b7fc50b301159ca":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n("167789bd516d2baf7295"),r=n("6cf195ddfada1b0033e1");function o(e){Object(r.a)("web_page_enter",{page_name:e,is_ipad:a.d?1:0})}function i(e){window.sessionStorage.setItem("log_refresh_type",e)}function c(){var e=window.location.pathname;if(window.sessionStorage.getItem(e)){var t=window.sessionStorage.getItem("log_refresh_type");t&&window.sessionStorage.removeItem("log_refresh_type"),Object(r.a)("web_page_refresh",{action_type:t||"browser"})}else window.sessionStorage.setItem(e,"1")}function l(e){return e.video_group?"video_group":e.long_video_info?"long_video_info":e.video_info?"video_info":e.video_link_card_info?"video_link_card_info":void 0}},"73f40e49daf0622f890e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("167789bd516d2baf7295");function r(e){return a.b?window.localStorage.getItem(e):null}function o(e,t){a.b&&window.localStorage.setItem(e,t)}},"7437cef5de9adf1c1fde":function(e,t,n){},"7801182153876d8ab215":function(e,t,n){},"78e411ccf7a9a0caceb3":function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var a=n("2fadeaed9bdb1dd22487"),r=n.n(a),o=n("69084d01d3449fc1bc27"),i=n.n(o),c=n("174811872339f1d02c40"),l=n.n(c),u=(n("60ea5d854a4999bbf092"),n("2422758950d9f66b7423")),s=n("fb622297466e7a637f99"),f=n("546ca7f10f62589ab9f4"),d=n("d4449abe3d2ba6591a15"),m=n("53955f9dab771af04369"),p=n("41e81a6b6b2e87160a0d");function b(e){var t,n,a;return{impr_id:null===(t=e.log_pb)||void 0===t?void 0:t.impr_id,impr_type:Object(s.l)(e),group_type:Object(s.k)(null===(n=e.coverUrls||e.cover)||void 0===n?void 0:n.length),category_name:Object(s.i)(e),enter_from:Object(s.j)(e),channel_id:e.__channel_id,section:e.__log_section||"feed",is_following:(null===(a=e.user_info)||void 0===a?void 0:a.follow)?"1":"0",is_top_content:"0",show_rank:e.__log_show_rank}}t.a=function(e){var t,n=e.data,a=e.logParams,c=e.onDislike,s=e.onClickToDetail,h=e.onDislikeClick,_=e.onShare,g=e.onLikeChange,v=e.onShareAction,y=e.onWttSubmit,w=Object(o.useState)(!1),E=r()(w,2),k=E[0],O=E[1],j=b(n);function A(){O(!0),s()}return i.a.createElement(p.a,{cell:n},i.a.createElement("div",null,i.a.createElement(m.a,{className:l()("feed-card-article-follow",{visited:k}),data:n,logInfo:j,logParams:a,onDislike:c,onClickToDetail:A,onDislikeClick:h,media:i.a.createElement(d.a,{userInfo:n.userInfo,source:n.source,sourceAvatar:n.sourceAvatar,timestamp:n.timestamp,logInfo:a}),leftTools:[i.a.createElement(f.e,{key:"share",data:n,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211,fw_user_id:(null===(t=n.mediaInfo)||void 0===t?void 0:t.userId)||""},onSuccess:_,onShareAction:v,onWttSubmit:y}),i.a.createElement(f.b,{key:"comment",styleType:"2",commentCount:n.commentCount,articleUrl:n.articleUrl,logInfo:j,onClickToDetail:A}),i.a.createElement(f.d,{key:"like",groupId:n.groupId,likeCount:n.likeCount,isLiked:!!n.userDigg,diggType:u.c.ARTICLE,onLikeChange:g})]})))}},"7c04e1c6a9d8a4a067f5":function(e,t,n){},"7c4288154d94f45c1e67":function(e,t,n){},"7ca4db6440f85a7a6df5":function(e,t,n){},"7d92094057582d9db023":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o),c=(n("302e7cd491a3c75c7a06"),{NETWORK_ERR:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",SERVICE_ERR:"\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});t.b=function(e){var t=e.count,n=e.errorTips,a=e.successTips;return r.a.createElement("div",{className:i()("feed-m-top-refresh",{"fade-out":t>=0||n})},r.a.createElement("div",{className:i()("refresh-loading",{show:t<0&&!n&&!a})},r.a.createElement("i",null)),r.a.createElement("p",{className:i()("refresh-increase-count",{show:t>=0||n||a,error:n})},n||a||"\u4eca\u65e5\u5934\u6761\u63a8\u8350\u5f15\u64ce\u6709 ".concat(t," \u6761\u66f4\u65b0")))}},"7e3762687fac88650839":function(e,t,n){},"7f9308912c4b86f89747":function(e,t,n){"use strict";n("8820a3764a10a8c7e743");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("2e0796c118320b51c6e6"),i=n.n(o),c=(n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("9e2b00f39951034d6dad"),n("7b6d7603f1e7e154d3b7"),n("174811872339f1d02c40")),l=n.n(c);n("c0148195f357fac179f5");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,a,o=m(i);function i(){var e;return s(this,i),(e=o.apply(this,arguments)).state={fade:!1},e.toastEl=null,e}return t=i,(n=[{key:"componentDidMount",value:function(){var e,t=this,n=document.activeElement;null===(e=this.toastEl)||void 0===e||e.focus(),this.timer=setTimeout((function(){var e;t.setState({fade:!0}),null===(e=n)||void 0===e||e.focus()}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.fade,n=this.props.msg;return r.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":n,ref:function(t){e.toastEl=t},className:l()("ttp-toast",{fade:t})},n)}}])&&f(t.prototype,n),a&&f(t,a),i}(r.a.PureComponent);function _(e){var t,n=document.createElement("div");document.body.appendChild(n),t=Object.assign({},e),i.a.render(r.a.createElement(h,Object.assign({},t)),n),setTimeout((function(){i.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}),3e3)}h.info=function(e){return _({msg:e})};t.a=h},"7ff40e675dfee032084a":function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("2fadeaed9bdb1dd22487"),g=n.n(_),v=n("69084d01d3449fc1bc27"),y=n.n(v),w=n("174811872339f1d02c40"),E=n.n(w),k=(n("9551a6727f53aa482a36"),n("2422758950d9f66b7423")),O=n("ed0e645fb10944a4fb8f"),j=n("78e411ccf7a9a0caceb3"),A=n("41e81a6b6b2e87160a0d"),C=n("5616f33a71e39794ee3e"),I=n("546ca7f10f62589ab9f4"),x=n("38c58096afa111fcdfd2"),T=n("b65c96faf0c123cf88e4");function S(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):S(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n=e.data,a=e.className,r=e.logParams,o=e.media,i=e.footer,c=e.leftTools,l=e.isShortVideo,u=e.disableDislike,s=void 0!==u&&u,f=e.onDislike,d=e.onClickToDetail,m=e.onDislikeClick,p=Object(v.useState)(!1),b=g()(p,2),h=b[0],_=b[1],w=Object(O.h)(null===(t=n.__channel_info)||void 0===t?void 0:t.key,n.tabKey),S=e.logInfo||N(N({},Object(j.b)(n)),{},{group_type:n.__group_type});var D=function(){d(),_(!0)};return y.a.createElement(A.a,{cell:n},y.a.createElement("div",{className:E()("feed-card-video-single",a,{visited:h})},y.a.createElement("div",{className:"r-content"},y.a.createElement("div",{className:"feed-video-item"},l&&y.a.createElement("i",{style:{background:"url(".concat(n.cover,") center/cover no-repeat")}}),y.a.createElement(T.a,{cover:n.cover,articleUrl:n.detailUrl,duration:n.duration,desc:n.title,logInfo:S,jumpQuery:w?{from_scene:w}:void 0,onClickToDetail:D}))),y.a.createElement("div",{className:"l-content"},o,y.a.createElement(x.a,{className:"title",href:n.detailUrl,target:"_blank",rel:"noopener nofollow",jumpQuery:w?{from_scene:w}:void 0,logInfo:S,onClick:D},n.title),y.a.createElement("div",{className:"footer"},i||y.a.createElement(C.a,{leftTools:c||[y.a.createElement(I.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:r}),y.a.createElement(I.b,{key:"comment",commentCount:n.commentCount,articleUrl:n.detailUrl,inside:!1,jumpQuery:w?{from_scene:w}:void 0,logInfo:S,onClickToDetail:D}),y.a.createElement(I.g,{key:"time",timestamp:n.timestamp})],rightTools:[!s&&y.a.createElement(I.c,{key:"dislike",data:{groupId:n.groupId,itemId:n.itemId,filterWords:n.filterWords,source:k.g.VIDEO},onDislike:function(e){f({dislikeType:e})},onDislikeClick:m})]})))))}},"80163d0657a0dbb02e68":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var a="undefined"!=typeof window,r=a&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin)),o=a&&/boe-gateway.byted.org/.test(location.host)},"82028901f8980c14ba42":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var a,r=64,o={RECOMMEND:{key:"recommend",name:"\u63a8\u8350\u89c6\u9891"},FOLLOW:{key:"follow",name:"\u5173\u6ce8\u52a8\u6001"},PROFILE:{key:"profile",name:"Ta\u7684\u89c6\u9891"}};!function(e){e.MIXED_INTERNAL_FLOW="mixed_internal_flow",e.RELEVANT_RECOMMENDATIONS="relevant_recommendations"}(a||(a={}))},"83a311389b32f14cef31":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o);n("4d42c6b0aecacf3b7489");t.a=function(e){var t=e.url||"https://wj.toutiao.com/q/127962/n05C39LD/e1eb/#/";return r.a.createElement("a",{className:i()("user-research",{"size-mini":"mini"===e.size}),"aria-label":"\u4eca\u65e5\u5934\u6761\u6709\u5956\u8c03\u7814",target:"_blank",href:t,rel:"noreferrer noopener nofollow"})}},"8400655226bf61906365":function(e,t,n){"use strict";var a=n("56c1dc570fb02868cb13"),r=n.n(a),o=n("0ea997c98daa26e2c67d"),i=n.n(o),c=n("69084d01d3449fc1bc27"),l=n.n(c),u=n("36091a6286193bdd62ec"),s=["className","href","title","children","logInfo","onClick"];t.a=function(e){var t=e.className,n=e.href,a=e.title,o=e.children,c=e.logInfo,f=e.onClick,d=i()(e,s);return l.a.createElement("a",r()({},d,{className:t,title:a,href:n,target:"_blank",rel:"noopener nofollow",onClick:function(e){var t;e.preventDefault(),e.stopPropagation(),null==f||f();var a=Object(u.b)(n,{position:c.position,enter_from:(null===(t=Object(u.a)())||void 0===t?void 0:t.enter_from)||"",section:c.section});window.open(a)}}),o)}},"85bedbb2b0d842c78b07":function(e,t,n){},"89b38c63c8b1758f68ac":function(e,t,n){},"8ab6ea49a6f2b512915c":function(e,t,n){},"8b900033d90a865fc913":function(e,t,n){"use strict";n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("571991951e321151cc70");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o),c=(n("e485e9e29daf75cab9e8"),n("98ad94a9d064c7351e07")),l=[{text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}],u=n("d5c06b6cf3948fb34e9d"),s=n("b4d0aca2d3771c85657d");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=e.isLogin,n=e.logParams,o=e.theme,d=f(Object(a.useState)(!1),2),m=d[0],p=d[1],b=Object(a.useRef)(!1);function h(){Object(c.a)("top_bar_click",{icon_type:"publish",action_type:"click",section:n.section,page_name:n.page_type}),window.open("https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc")}function _(e,t){t.stopPropagation(),Object(c.a)("publish_icon_click",{publish_type:e.position,position:n.page_type,section:n.section,page_name:n.page_type}),window.open(e.url)}return r.a.createElement(u.a,{onOpen:function(){t&&(p(!0),b.current||(Object(c.a)("top_bar_click",{icon_type:"publish",action_type:"expand",section:n.section,page_name:n.page_type}),b.current=!0))},onClose:function(){p(!1),b.current=!1}},r.a.createElement(u.a.MenuButton,{onKeyDown:function(e){if(t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),h())}}},r.a.createElement("div",{"aria-label":"\u53d1\u5e03\u4f5c\u54c1",className:i()("ttp-header-publisher",{dark:"dark"===o,black:"black"===o}),onClick:h},r.a.createElement("a",{className:"publisher-icon",rel:"nofollow"},"\u53d1\u5e03"),t&&r.a.createElement(s.a,{visible:m,transformOrigin:"24px top"},r.a.createElement("div",{className:"publish-list"},r.a.createElement(u.a.MenuList,null,r.a.createElement("div",null,l.map((function(e){return r.a.createElement(u.a.MenuItem,{key:e.text,onKeyDown:function(t){return function(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),_(t,e))}(t,e)}},r.a.createElement("a",{onClick:function(t){return _(e,t)}},e.text))})))))))))}},"8da0d466807af5fb475a":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a).a.createContext(null);t.a=r},"8f733a24568c21239759":function(e,t,n){},"91ccd34fe1d322fa1c32":function(e,t,n){"use strict";n.d(t,"b",(function(){return G}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("56c1dc570fb02868cb13"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("69084d01d3449fc1bc27"),y=n.n(v),w=(n("f916861225cf3448ecd3"),n("fb622297466e7a637f99")),E=n("be6323750fae7868d676"),k=n("10130cfc2ba27a09b7e5"),O=n("ed0e645fb10944a4fb8f"),j=n("7009f854fb449fc1b23d"),A=n("acff6c447f863638e55f"),C=n("55545edfe9557f8e9717"),I=n("7ff40e675dfee032084a"),x=n("174811872339f1d02c40"),T=n.n(x),S=(n("8ab6ea49a6f2b512915c"),n("2422758950d9f66b7423")),N=n("1114286b3a839994fd62"),D=n("78e411ccf7a9a0caceb3"),R=n("546ca7f10f62589ab9f4"),L=n("d4449abe3d2ba6591a15");function U(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):U(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var P=function(e){var t=e.data,n=e.logParams,a=e.className,r=e.onDislike,o=e.onDislikeClick,i=e.onShare,c=e.onLikeChange,l=e.onShareAction,u=e.onWttSubmit,s=M(M({},Object(D.b)(t)),{},{group_type:t.__group_type});function f(){var t;Object(N.e)(),null===(t=e.onClickToDetail)||void 0===t||t.call(e)}return y.a.createElement(I.a,{className:T()("feed-card-video-follow",a),data:t,logParams:n,logInfo:s,onDislike:r,onClickToDetail:f,onDislikeClick:o,media:y.a.createElement(L.a,{userInfo:t.userInfo,timestamp:t.timestamp,logInfo:n}),leftTools:[y.a.createElement(R.e,{key:"share",data:t,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211},onSuccess:i,onShareAction:l,onWttSubmit:u}),y.a.createElement(R.b,{key:"comment",styleType:"2",commentCount:t.commentCount,articleUrl:t.detailUrl,jumpQuery:{from_scene:"follow"},logInfo:s,onClickToDetail:f}),y.a.createElement(R.d,{key:"like",groupId:t.groupId,likeCount:t.likeCount,isLiked:t.userDigg,diggType:S.c.VIDEO,onLikeChange:c})]})},W=n("0ea997c98daa26e2c67d"),B=n.n(W),F=n("41e81a6b6b2e87160a0d"),V=n("1e93314aaf7aabdbfbff"),Q=n("9a261fd8feb2690e8f07"),H=["data","onDislike"],z=function(e){var t=e.data,n=e.onDislike,a=B()(e,H);return t.error?y.a.createElement(V.a,null):t.loading?y.a.createElement(Q.a,null):y.a.createElement(F.a,{cell:t},y.a.createElement("div",null,y.a.createElement(C.a,h()({data:t,onDislike:function(e){n({dislikeType:e})}},a))))};function K(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):K(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function G(e){var t,n,a=(null===(t=e.large_image_list)||void 0===t?void 0:t[0])||e.middle_image||(null===(n=e.video_detail_info)||void 0===n?void 0:n.detail_video_large_image);return a&&a.url?a.url.replace(/^http:/,""):""}function J(e,t){var n,a;return(null===(n=t.log_pb)||void 0===n?void 0:n.impr_id)?t.log_pb:q(q({},t.log_pb),{},{impr_id:null===(a=e.log_pb)||void 0===a?void 0:a.impr_id})}var Y=function(e){return e.data.__channel_id===k.a.get().follow.channelId?y.a.createElement(P,h()({},e)):e.data.__channel_id===k.a.get().video.channelId?y.a.createElement(z,h()({},e)):y.a.createElement(I.a,h()({},e))};t.a=function(e){var t=e.cell,n=e.logParams,a=e.disableDislike,r=e.onDislike,o=e.onItemClick,i=e.onLikeChange,c=Object(v.useContext)(j.a),l={__channel_id:t.__channel_id,__channel_info:t.__channel_info,__type:t.__type,__log_enter_from:t.__log_enter_from,__log_impr_type:t.__log_impr_type,__log_category_name:t.__log_category_name,__log_show_rank:t.__log_show_rank,__log_section:t.__log_section,__group_type:t.__group_type},u=function(e){return 0===e.cell_type?[e]:e.data||[]}(t).map((function(e){var n;return q({title:e.title,cover:G(e),duration:e.video_duration,videoId:e.video_id,groupId:e.group_id,itemId:e.item_id,bizId:e.biz_id,detailUrl:Object(A.b)(A.a.SELF_VIDEO,e.group_id),userInfo:Object(O.k)(e),source:e.source,commentCount:e.comment_count,userDigg:t.user_digg,likeCount:t.digg_count,timestamp:e.publish_time,filterWords:null===(n=e.filter_words)||void 0===n?void 0:n.filter_words,loading:t.loading,error:t.error,log_pb:J(t,e),group_id:e.group_id,group_source:e.group_source,cell_type:t.cell_type},l)})),s={position:n.position,article_type:"video"},f=u.length;function d(e){r(e)}function m(e){var n,a=e.target,r=e.dislikeType,o=void 0===r?"":r;if(a){var i=document.activeElement,c=Object(E.l)(document.querySelector(".ttp-feed-module"));Object(E.f)(i,c)}else d(q(q({},t),{},{dislikeType:o}));var l=a||u[0];Object(w.n)(l,q(q({},s),{},{is_following:(null===(n=l.userInfo)||void 0===n?void 0:n.follow)?"1":"0",dislike_type:o,content_type:"single"}))}function p(e){null==o||o();var t=e||u[0];Object(w.e)(t,s)}function b(e){var t,a=e||u[0];Object(w.g)(a,{is_following:(null===(t=a.userInfo)||void 0===t?void 0:t.follow)?"1":"0",article_type:"video",position:n.position})}return f?y.a.createElement("div",{className:"feed-card-wrapper feed-card-video-wrapper"},f>1?y.a.createElement(C.b,{data:u,logParams:n,formattedParams:l,onClickToDetail:p,onDislike:m,onDislikeClick:b,onHideCell:function(){return d(t)}}):y.a.createElement(Y,{data:u[0],logParams:n,disableDislike:a,onDislike:m,onClickToDetail:p,onDislikeClick:b,onLikeChange:function(e){i(t,e),1===e?Object(w.p)(t,c,s):Object(w.s)(t,c,s)},onShare:function(e){Object(w.q)(t,c,q(q({},s),{},{share_platform:e}))},onShareAction:function(e){Object(w.t)(t,q(q({},s),{},{action_type:e}))},onWttSubmit:function(){Object(w.w)(t,s)}})):null}},"93fd3eb7060d3a0ca436":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("71096cf209b72c63e10e"),n("d75c6880d6992eb5ccc6");var a={"[\u5fae\u7b11]":{index:1,name:"[\u5fae\u7b11]",image:"emoji_1_smile@3x.png",key:"emoji_1_smile@3x.png",width:96,height:96},"[\u7231\u6155]":{index:2,name:"[\u7231\u6155]",image:"emoji_2_kiss@3x.png",key:"emoji_2_kiss@3x.png",width:96,height:96},"[\u60ca\u5446]":{index:3,name:"[\u60ca\u5446]",image:"emoji_3_daze@3x.png",key:"emoji_3_daze@3x.png",width:96,height:96},"[\u9177\u62fd]":{index:4,name:"[\u9177\u62fd]",image:"emoji_4_cool@3x.png",key:"emoji_4_cool@3x.png",width:96,height:96},"[\u62a0\u9f3b]":{index:5,name:"[\u62a0\u9f3b]",image:"emoji_5_pick_nose@3x.png",key:"emoji_5_pick_nose@3x.png",width:96,height:96},"[\u6d41\u6cea]":{index:6,name:"[\u6d41\u6cea]",image:"emoji_6_cry@3x.png",key:"emoji_6_cry@3x.png",width:96,height:96},"[\u53d1\u6012]":{index:7,name:"[\u53d1\u6012]",image:"emoji_7_anger@3x.png",key:"emoji_7_anger@3x.png",width:96,height:96},"[\u5472\u7259]":{index:8,name:"[\u5472\u7259]",image:"emoji_8_laugh@3x.png",key:"emoji_8_laugh@3x.png",width:96,height:96},"[\u9f3e\u7761]":{index:9,name:"[\u9f3e\u7761]",image:"emoji_9_sleep@3x.png",key:"emoji_9_sleep@3x.png",width:96,height:96},"[\u5bb3\u7f9e]":{index:10,name:"[\u5bb3\u7f9e]",image:"emoji_10_shy@3x.png",key:"emoji_10_shy@3x.png",width:96,height:96},"[\u53ef\u7231]":{index:11,name:"[\u53ef\u7231]",image:"emoji_11_naughty@3x.png",key:"emoji_11_naughty@3x.png",width:102,height:96},"[\u6655]":{index:12,name:"[\u6655]",image:"emoji_12_dizzy@3x.png",key:"emoji_12_dizzy@3x.png",width:96,height:96},"[\u8870]":{index:13,name:"[\u8870]",image:"emoji_13_stunned@3x.png",key:"emoji_13_stunned@3x.png",width:96,height:96},"[\u95ed\u5634]":{index:14,name:"[\u95ed\u5634]",image:"emoji_14_shut_up@3x.png",key:"emoji_14_shut_up@3x.png",width:96,height:96},"[\u673a\u667a]":{index:15,name:"[\u673a\u667a]",image:"emoji_15_wit@3x.png",key:"emoji_15_wit@3x.png",width:96,height:96},"[\u7075\u5149\u4e00\u95ea]":{index:17,name:"[\u7075\u5149\u4e00\u95ea]",image:"emoji_17_hand_sample@3x.png",key:"emoji_17_hand_sample@3x.png",width:102,height:96},"[\u8036]":{index:18,name:"[\u8036]",image:"emoji_18_ye@3x.png",key:"emoji_18_ye@3x.png",width:99,height:96},"[\u6342\u8138]":{index:19,name:"[\u6342\u8138]",image:"emoji_19_distress_situation@3x.png",key:"emoji_19_distress_situation@3x.png",width:96,height:96},"[\u6253\u8138]":{index:20,name:"[\u6253\u8138]",image:"emoji_20_play_face@3x.png",key:"emoji_20_play_face@3x.png",width:102,height:96},"[\u5927\u7b11]":{index:21,name:"[\u5927\u7b11]",image:"emoji_21_smile@3x.png",key:"emoji_21_smile@3x.png",width:96,height:96},"[\u54c8\u6b20]":{index:22,name:"[\u54c8\u6b20]",image:"emoji_22_yawn@3x.png",key:"emoji_22_yawn@3x.png",width:96,height:96},"[\u9707\u60ca]":{index:23,name:"[\u9707\u60ca]",image:"emoji_23_surprise@3x.png",key:"emoji_23_surprise@3x.png",width:96,height:96},"[\u9001\u5fc3]":{index:24,name:"[\u9001\u5fc3]",image:"emoji_24_take_heart@3x.png",key:"emoji_24_take_heart@3x.png",width:96,height:96},"[\u56f0]":{index:25,name:"[\u56f0]",image:"emoji_25_sleepy@3x.png",key:"emoji_25_sleepy@3x.png",width:96,height:96},"[what]":{index:26,name:"[what]",image:"emoji_26_what@3x.png",key:"emoji_26_what@3x.png",width:105,height:96},"[\u6ce3\u4e0d\u6210\u58f0]":{index:27,name:"[\u6ce3\u4e0d\u6210\u58f0]",image:"emoji_27_sobbing@3x.png",key:"emoji_27_sobbing@3x.png",width:96,height:96},"[\u5c0f\u9f13\u638c]":{index:28,name:"[\u5c0f\u9f13\u638c]",image:"emoji_28_handclap@3x.png",key:"emoji_28_handclap@3x.png",width:96,height:96},"[\u9177]":{index:29,name:"[\u9177]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5927\u91d1\u7259]":{index:29,name:"[\u5927\u91d1\u7259]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5077\u7b11]":{index:30,name:"[\u5077\u7b11]",image:"emoji_30_titter@3x.png",key:"emoji_30_titter@3x.png",width:96,height:96},"[\u77f3\u5316]":{index:31,name:"[\u77f3\u5316]",image:"emoji_31_lightning_strike@3x.png",key:"emoji_31_lightning_strike@3x.png",width:96,height:96},"[\u601d\u8003]":{index:32,name:"[\u601d\u8003]",image:"emoji_32_meditation@3x.png",key:"emoji_32_meditation@3x.png",width:96,height:96},"[\u5410\u8840]":{index:33,name:"[\u5410\u8840]",image:"emoji_33_vomiting_blood@3x.png",key:"emoji_33_vomiting_blood@3x.png",width:96,height:96},"[\u53ef\u601c]":{index:34,name:"[\u53ef\u601c]",image:"emoji_34_acting_cute@3x.png",key:"emoji_34_acting_cute@3x.png",width:96,height:96},"[\u5618]":{index:35,name:"[\u5618]",image:"emoji_35_quietly@3x.png",key:"emoji_35_quietly@3x.png",width:96,height:96},"[\u6487\u5634]":{index:36,name:"[\u6487\u5634]",image:"emoji_36_hum@3x.png",key:"emoji_36_hum@3x.png",width:96,height:96},"[\u9ed1\u7ebf]":{index:37,name:"[\u9ed1\u7ebf]",image:"emoji_37_khan@3x.png",key:"emoji_37_khan@3x.png",width:96,height:96},"[\u7b11\u54ed]":{index:38,name:"[\u7b11\u54ed]",image:"emoji_38_forced_smile@3x.png",key:"emoji_38_forced_smile@3x.png",width:111,height:96},"[\u96fe\u973e]":{index:39,name:"[\u96fe\u973e]",image:"emoji_39_haze@3x.png",key:"emoji_39_haze@3x.png",width:96,height:96},"[\u5978\u7b11]":{index:40,name:"[\u5978\u7b11]",image:"emoji_40_smirk@3x.png",key:"emoji_40_smirk@3x.png",width:96,height:96},"[\u5f97\u610f]":{index:41,name:"[\u5f97\u610f]",image:"emoji_41_cool@3x.png",key:"emoji_41_cool@3x.png",width:96,height:96},"[\u61a8\u7b11]":{index:42,name:"[\u61a8\u7b11]",image:"emoji_42_bad_smile@3x.png",key:"emoji_42_bad_smile@3x.png",width:96,height:96},"[\u6293\u72c2]":{index:43,name:"[\u6293\u72c2]",image:"emoji_43_crazy@3x.png",key:"emoji_43_crazy@3x.png",width:96,height:96},"[\u6cea\u5954]":{index:44,name:"[\u6cea\u5954]",image:"emoji_44_tears@3x.png",key:"emoji_44_tears@3x.png",width:96,height:96},"[\u94b1]":{index:45,name:"[\u94b1]",image:"emoji_45_money@3x.png",key:"emoji_45_money@3x.png",width:96,height:96},"[\u543b]":{index:46,name:"[\u543b]",image:"emoji_46_kiss@3x.png",key:"emoji_46_kiss@3x.png",width:96,height:96},"[\u6050\u60e7]":{index:47,name:"[\u6050\u60e7]",image:"emoji_47_fear@3x.png",key:"emoji_47_fear@3x.png",width:96,height:96},"[\u7b11]":{index:48,name:"[\u7b11]",image:"emoji_48_smile@3x.png",key:"emoji_48_smile@3x.png",width:96,height:96},"[\u5feb\u54ed\u4e86]":{index:49,name:"[\u5feb\u54ed\u4e86]",image:"emoji_49_injustice@3x.png",key:"emoji_49_injustice@3x.png",width:96,height:96},"[\u7ffb\u767d\u773c]":{index:50,name:"[\u7ffb\u767d\u773c]",image:"emoji_50_their@3x.png",key:"emoji_50_their@3x.png",width:96,height:96},"[\u8d5e]":{index:52,name:"[\u8d5e]",image:"emoji_52_like@3x.png",key:"emoji_52_like@3x.png",width:96,height:96},"[\u9f13\u638c]":{index:53,name:"[\u9f13\u638c]",image:"emoji_53_handclap@3x.png",key:"emoji_53_handclap@3x.png",width:96,height:96},"[\u8c22\u8c22]":{index:54,name:"[\u8c22\u8c22]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[\u7948\u7977]":{index:54,name:"[\u7948\u7977]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[kiss]":{index:55,name:"[kiss]",image:"emoji_55_kiss@3x.png",key:"emoji_55_kiss@3x.png",width:96,height:96},"[\u53bb\u6c61\u7c89]":{index:56,name:"[\u53bb\u6c61\u7c89]",image:"emoji_56_household_cleanser@3x.png",key:"emoji_56_household_cleanser@3x.png",width:96,height:96},"[666]":{index:57,name:"[666]",image:"emoji_57_666@3x.png",key:"emoji_57_666@3x.png",width:96,height:96},"[\u73ab\u7470]":{index:58,name:"[\u73ab\u7470]",image:"emoji_58_rose@3x.png",key:"emoji_58_rose@3x.png",width:96,height:96},"[\u80e1\u74dc]":{index:59,name:"[\u80e1\u74dc]",image:"emoji_59_cucumber@3x.png",key:"emoji_59_cucumber@3x.png",width:96,height:96},"[\u5564\u9152]":{index:60,name:"[\u5564\u9152]",image:"emoji_60_beer@3x.png",key:"emoji_60_beer@3x.png",width:96,height:96},"[\u6211\u60f3\u9759\u9759]":{index:61,name:"[\u6211\u60f3\u9759\u9759]",image:"emoji_61_distress_situation@3x.png",key:"emoji_61_distress_situation@3x.png",width:105,height:96},"[\u59d4\u5c48]":{index:62,name:"[\u59d4\u5c48]",image:"emoji_62_injustice@3x.png",key:"emoji_62_injustice@3x.png",width:96,height:96},"[\u8214\u5c4f]":{index:63,name:"[\u8214\u5c4f]",image:"emoji_63_lick_screen@3x.png",key:"emoji_63_lick_screen@3x.png",width:96,height:96},"[\u9119\u89c6]":{index:64,name:"[\u9119\u89c6]",image:"emoji_64_despise@3x.png",key:"emoji_64_despise@3x.png",width:96,height:96},"[\u98de\u543b]":{index:65,name:"[\u98de\u543b]",image:"emoji_65_kiss@3x.png",key:"emoji_65_kiss@3x.png",width:96,height:96},"[\u518d\u89c1]":{index:66,name:"[\u518d\u89c1]",image:"emoji_66_bye@3x.png",key:"emoji_66_bye@3x.png",width:96,height:96},"[\u7d2b\u8587\u522b\u8d70]":{index:67,name:"[\u7d2b\u8587\u522b\u8d70]",image:"emoji_67_erkang@3x.png",key:"emoji_67_erkang@3x.png",width:108,height:96},"[\u6c42\u62b1\u62b1]":{index:68,name:"[\u6c42\u62b1\u62b1]",image:"emoji_68_hug@3x.png",key:"emoji_68_hug@3x.png",width:108,height:96},"[\u542c\u6b4c]":{index:69,name:"[\u542c\u6b4c]",image:"emoji_69_hitler@3x.png",key:"emoji_69_hitler@3x.png",width:96,height:96},"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]":{index:70,name:"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]",image:"emoji_70_zhoudongyu_gaze@3x.png",key:"emoji_70_zhoudongyu_gaze@3x.png",width:96,height:96},"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]":{index:71,name:"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]",image:"emoji_71_masichun_smile@3x.png",key:"emoji_71_masichun_smile@3x.png",width:96,height:96},"[\u5410\u820c]":{index:72,name:"[\u5410\u820c]",image:"emoji_72_dogo@3x.png",key:"emoji_72_dogo@3x.png",width:96,height:96},"[\u5446\u65e0\u8f9c]":{index:73,name:"[\u5446\u65e0\u8f9c]",image:"emoji_73_cat@3x.png",key:"emoji_73_cat@3x.png",width:96,height:96},"[\u770b]":{index:74,name:"[\u770b]",image:"emoji_74_2ha@3x.png",key:"emoji_74_2ha@3x.png",width:96,height:96},"[\u767d\u773c]":{index:75,name:"[\u767d\u773c]",image:"emoji_75_dogo@3x.png",key:"emoji_75_dogo@3x.png",width:96,height:96},"[\u718a\u5409]":{index:76,name:"[\u718a\u5409]",image:"emoji_76_bear@3x.png",key:"emoji_76_bear@3x.png",width:96,height:96},"[\u9ab7\u9ac5]":{index:77,name:"[\u9ab7\u9ac5]",image:"emoji_77_skeleton@3x.png",key:"emoji_77_skeleton@3x.png",width:96,height:96},"[\u9ed1\u8138]":{index:78,name:"[\u9ed1\u8138]",image:"emoji_78_black_face@3x.png",key:"emoji_78_black_face@3x.png",width:96,height:96},"[\u5403\u74dc\u7fa4\u4f17]":{index:79,name:"[\u5403\u74dc\u7fa4\u4f17]",image:"emoji_79_eat_melon@3x.png",key:"emoji_79_eat_melon@3x.png",width:96,height:96},"[\u7eff\u5e3d\u5b50]":{index:80,name:"[\u7eff\u5e3d\u5b50]",image:"emoji_80_newer_green_hat@3x.png",key:"emoji_80_newer_green_hat@3x.png",width:96,height:96},"[\u6c57]":{index:81,name:"[\u6c57]",image:"emoji_81_sweat@3x.png",key:"emoji_81_sweat@3x.png",width:96,height:96},"[\u6478\u5934]":{index:82,name:"[\u6478\u5934]",image:"emoji_82_lear_ropes@3x.png",key:"emoji_82_lear_ropes@3x.png",width:96,height:96},"[\u76b1\u7709]":{index:83,name:"[\u76b1\u7709]",image:"emoji_83_frown@3x.png",key:"emoji_83_frown@3x.png",width:96,height:96},"[\u64e6\u6c57]":{index:84,name:"[\u64e6\u6c57]",image:"emoji_84_wipe_sweat@3x.png",key:"emoji_84_wipe_sweat@3x.png",width:96,height:96},"[\u7ea2\u8138]":{index:85,name:"[\u7ea2\u8138]",image:"emoji_85_redface@3x.png",key:"emoji_85_redface@3x.png",width:96,height:96},"[\u5c2c\u7b11]":{index:86,name:"[\u5c2c\u7b11]",image:"emoji_86_orz@3x.png",key:"emoji_86_orz@3x.png",width:96,height:96},"[\u505a\u9b3c\u8138]":{index:87,name:"[\u505a\u9b3c\u8138]",image:"emoji_87_makeface@3x.png",key:"emoji_87_makeface@3x.png",width:96,height:96},"[\u5f3a]":{index:88,name:"[\u5f3a]",image:"emoji_88_intensity@3x.png",key:"emoji_88_intensity@3x.png",width:96,height:96},"[\u5982\u82b1]":{index:89,name:"[\u5982\u82b1]",image:"emoji_89_ruhua@3x.png",key:"emoji_89_ruhua@3x.png",width:96,height:96},"[\u5410]":{index:90,name:"[\u5410]",image:"emoji_90_spit@3x.png",key:"emoji_90_spit@3x.png",width:96,height:96},"[\u60ca\u559c]":{index:91,name:"[\u60ca\u559c]",image:"emoji_91_surprise@3x.png",key:"emoji_91_surprise@3x.png",width:96,height:96},"[\u6572\u6253]":{index:92,name:"[\u6572\u6253]",image:"emoji_92_knock@3x.png",key:"emoji_92_knock@3x.png",width:96,height:96},"[\u594b\u6597]":{index:93,name:"[\u594b\u6597]",image:"emoji_93_refuel@3x.png",key:"emoji_93_refuel@3x.png",width:96,height:96},"[\u5410\u5f69\u8679]":{index:94,name:"[\u5410\u5f69\u8679]",image:"emoji_94_rainbow@3x.png",key:"emoji_94_rainbow@3x.png",width:96,height:96},"[\u5927\u54ed]":{index:95,name:"[\u5927\u54ed]",image:"emoji_95_bigcry@3x.png",key:"emoji_95_bigcry@3x.png",width:96,height:96},"[\u6bd4\u5fc3]":{index:96,name:"[\u6bd4\u5fc3]",image:"emoji_96_fingerheart@3x.png",key:"emoji_96_fingerheart@3x.png",width:96,height:96},"[\u52a0\u6cb9]":{index:97,name:"[\u52a0\u6cb9]",image:"emoji_97_refuel@3x.png",key:"emoji_97_refuel@3x.png",width:96,height:96},"[\u78b0\u62f3]":{index:98,name:"[\u78b0\u62f3]",image:"emoji_98_fist@3x.png",key:"emoji_98_fist@3x.png",width:96,height:96},"[ok]":{index:99,name:"[ok]",image:"emoji_99_OK@3x.png",key:"emoji_99_OK@3x.png",width:96,height:96},"[\u51fb\u638c]":{index:100,name:"[\u51fb\u638c]",image:"emoji_100_highfive@3x.png",key:"emoji_100_highfive@3x.png",width:96,height:96},"[\u5de6\u4e0a]":{index:101,name:"[\u5de6\u4e0a]",image:"emoji_101_left@3x.png",key:"emoji_101_left@3x.png",width:96,height:96},"[\u63e1\u624b]":{index:102,name:"[\u63e1\u624b]",image:"emoji_102_shakehand@3x.png",key:"emoji_102_shakehand@3x.png",width:96,height:96},"[18\u7981]":{index:103,name:"[18\u7981]",image:"emoji_103_18@3x.png",key:"emoji_103_18@3x.png",width:96,height:96},"[\u5200]":{index:104,name:"[\u5200]",image:"emoji_104_knife@3x.png",key:"emoji_104_knife@3x.png",width:96,height:96},"[V5]":{index:105,name:"[V5]",image:"emoji_105_V5@3x.png",key:"emoji_105_V5@3x.png",width:96,height:96},"[\u7ed9\u529b]":{index:106,name:"[\u7ed9\u529b]",image:"emoji_106_awesome@3x.png",key:"emoji_106_awesome@3x.png",width:96,height:96},"[\u5fc3]":{index:107,name:"[\u5fc3]",image:"emoji_107_heart@3x.png",key:"emoji_107_heart@3x.png",width:96,height:96},"[\u4f24\u5fc3]":{index:108,name:"[\u4f24\u5fc3]",image:"emoji_108_broken_heart@3x.png",key:"emoji_108_broken_heart@3x.png",width:96,height:96},"[\u5c4e]":{index:109,name:"[\u5c4e]",image:"emoji_109_shit@3x.png",key:"emoji_109_shit@3x.png",width:96,height:96},"[\u793c\u7269]":{index:110,name:"[\u793c\u7269]",image:"emoji_110_gifts@3x.png",key:"emoji_110_gifts@3x.png",width:96,height:96},"[\u86cb\u7cd5]":{index:111,name:"[\u86cb\u7cd5]",image:"emoji_111_cake@3x.png",key:"emoji_111_cake@3x.png",width:96,height:96},"[\u6492\u82b1]":{index:112,name:"[\u6492\u82b1]",image:"emoji_112_flower@3x.png",key:"emoji_112_flower@3x.png",width:96,height:96},"[\u4e0d\u770b]":{index:113,name:"[\u4e0d\u770b]",image:"emoji_113_lookat@3x.png",key:"emoji_113_lookat@3x.png",width:96,height:96},"[\u70b8\u5f39]":{index:114,name:"[\u70b8\u5f39]",image:"emoji_114_bomb@3x.png",key:"emoji_114_bomb@3x.png",width:96,height:96}};function r(e){var t=/(\[[^\]]+[\]])+?/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,(function(e){var t=a[e];return t?'<i class="emoji" style="background-image: url(//lf3-cdn-tos.bytegoofy.com/goofy/toutiao/tt_tps/static/images/ttemoji_v2/'.concat(t.image,')"></i>'):e})):e}},"9551a6727f53aa482a36":function(e,t,n){},"96ef8f9d6deb54673902":function(e,t,n){},"9727aacc8b7964f6db1c":function(e,t,n){},"988714ff9eba2503d80f":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return C})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return x})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return S}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("be6323750fae7868d676"),g=n("acff6c447f863638e55f"),v=n("1b69c40e39893f89b5f5");function y(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):y(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var E={ARTICLE:"article",WTT:"wtt",VIDEO:"video",SHORT_VIDEO:"short_video",WENDA:"wenda",COLLECTION:"collection"},k={UGC:"ugc",COMMENT:"comment",WENDA_QUESTION:"wenda_question",WENDA_ANSWER:"wenda_answer"};function O(e){var t,n,a,r=[];return(null===(t=e.large_image_list)||void 0===t?void 0:t.length)?r=e.large_image_list:(null===(n=e.image_list)||void 0===n?void 0:n.length)?r=e.image_list:e.middle_image?r=[].concat(e.middle_image):(null===(a=e.thumb_image_list)||void 0===a?void 0:a.length)&&(r=e.thumb_image_list),r.map((function(e){return e.url.replace(/^http:/,"")}))}function j(e,t){return E.WTT===t?Object(g.b)(g.a.WTT,e.thread_id_str||e.id_str):E.COLLECTION===t?Object(g.b)(g.a.SELF_VIDEO,e.first_group_id):E.VIDEO===t||E.SHORT_VIDEO===t?Object(g.b)(g.a.SELF_VIDEO,e.group_id):Object(g.b)(g.a.ARTICLE,e.group_id)}function A(e){var t,n,a=e.user_info||e.user;56===e.cell_type&&(a=null===(t=e.comment_base)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.info);return a?{name:a.name,userSecToken:a.user_id,userAuthInfo:a.user_verified&&Object(_.t)(a.user_auth_info||"{}")}:null}function C(e,t){return function(e){return e.map((function(e){var t=e.group_id;return t||"string"!=typeof e.id||(t=e.id),t||(t=e.id_str||Math.random().toString(16).substr(2)),w(w({},e),{},{__uuid:t})}))}(e).map((function(e){var n,a,r=0===(a=(n=e).cell_type)?n.has_video?E.VIDEO:E.ARTICLE:[32,56].indexOf(a)>-1?E.WTT:48===a?E.VIDEO:[202,203].indexOf(a)>-1?E.WENDA:341===a?E.COLLECTION:49===a?E.SHORT_VIDEO:E.ARTICLE;return w(w({},e),{},{__type:r,__title:e.feed_title||e.title,__cover_urls:O(e),__detail_url:j(e,r),__user_info:A(e),__tab_key:t})}))}function I(e,t,n){if(!t)return n.map((function(e){return w(w({},e),{},{is_stick:t})}));var a=n.filter((function(t){return t.__uuid===e.__uuid}))[0];if(!a)return n;var r=n.map((function(e){return e.is_stick?w(w({},e),{},{is_stick:!1}):e.__uuid===a.__uuid?null:e})).filter(Boolean);return[w(w({},a),{},{is_stick:!0})].concat(r)}function x(e,t,n){return n.map((function(n){if(n.__uuid===e.__uuid){if(56===e.cell_type){var a,r=null===(a=e.comment_base)||void 0===a?void 0:a.action,o=n;return r&&(o.comment_base.action=w(w({},r),{},{digg_count:1===t?++r.digg_count:--r.digg_count,user_digg:t})),o}if(49===e.cell_type){var i=e.action;return w(w({},n),{},{action:w(w({},i),{},{digg_count:t?++i.digg_count:--i.digg_count,user_digg:t})})}return w(w({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function T(e,t){return t.filter((function(t){return t.__uuid!==e.__uuid}))}function S(e){return e===v.a.fav.key?"":e===v.a.video.key||e===v.a.short_video.key?e:v.a.all.key}},"98ad94a9d064c7351e07":function(e,t,n){"use strict";function a(e,t){window.collectEvent&&window.collectEvent(e,t||{})}n.d(t,"a",(function(){return a}))},"9a261fd8feb2690e8f07":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a);n("2e5f6a6d4be69858132d");t.a=function(){return r.a.createElement("div",{className:"multi-item-loading"},r.a.createElement("i",null))}},"9ab2f1ff086dee039972":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ESC:27,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40}},"9f6594acd74878e4062f":function(e,t,n){},"9ff8b349516e807d509d":function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("c9cd1e0339c82648866e"),i=n("2fadeaed9bdb1dd22487"),c=n.n(i),l=n("08172d9560ad9ddbd809");n("a779817f12e60e7441d7");var u,s=n("229a5ee8951efd08f85c"),f=n("617300dd2ee3a73fcfd5"),d=n("6cf195ddfada1b0033e1"),m=n("174811872339f1d02c40"),p=n.n(m),b=n("e2097d7c28f72f984fd6"),h=(n("cd614ef011545c6d16a0"),function(e){var t=e.visible,n=e.className,a=e.children,o=e.onClose,i=e.onMouseEnter,c=e.onMouseLeave;return r.a.createElement(b.a,{visible:t,className:p()("ttp-message-wrapper",n)},r.a.createElement("div",{className:"message-container",onMouseEnter:i,onMouseLeave:c},a,r.a.createElement("button",{className:"close-btn",type:"button",onClick:o})))}),_=function(e){var t=e.pageName,n=Object(s.a)({logParams:{page_name:t,action_type:"push"}}),o=n.PWAInstallable,i=n.addToDesktop,l=Object(f.a)(o),u=Object(a.useState)(!1),m=c()(u,2),p=m[0],b=m[1],_=Object(a.useCallback)((function(){b(!0)}),[]),g=Object(a.useCallback)((function(e){b(!1),Object(d.a)("pwa_push_close",{page_name:t,action_type:"push",show_rank:Object(f.b)(),close_type:e})}),[t]);return Object(a.useEffect)((function(){l&&_()}),[l,_,g]),Object(a.useEffect)((function(){p&&Object(d.a)("pwa_push_show",{page_name:t,action_type:"push",show_rank:Object(f.b)()})}),[p,t]),o?r.a.createElement(h,{visible:p,onClose:function(){return g("click")}},r.a.createElement("div",{className:"add-to-desktop-panel"},r.a.createElement("div",null,r.a.createElement("p",{className:"title"},"\u6dfb\u52a0\u4eca\u65e5\u5934\u6761\u5230\u7535\u8111\u684c\u9762"),r.a.createElement("p",{className:"tips"},"\u5b89\u88c5\u540e\u53ef\u4ee5\u5728\u684c\u9762\u5feb\u6377\u6253\u5f00\uff0c\u8f7b\u677e\u8bbf\u95ee\u6d77\u91cf\u70ed\u70b9\u8d44\u8baf")),r.a.createElement("button",{className:"add-btn",type:"button",onClick:i},"\u7acb\u5373\u6dfb\u52a0"))):null},g=n("be6323750fae7868d676");function v(e){var t=document.querySelectorAll("a");Array.prototype.slice.call(t).forEach((function(t){var n=t.getAttribute("target"),a=t.getAttribute("href"),r=t.getAttribute("origin-target");n&&!r&&function(e){return e.includes("toutiao.com")||/^\/(?!\/).*/.test(e)}(a)&&t.setAttribute("target",e)}))}var y=Object(o.b)((function(e){var t=e.inPWA;return Object(a.useEffect)((function(){u=window.open}),[]),Object(a.useEffect)((function(){var e;return function(e,t){window.open=e?function(e,n){for(var a=Object(g.r)(e,{from_pwa:1}),r=n||t?"_blank":"_self",o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return u.apply(void 0,[a,r].concat(i))}:function(e){for(var t="1"===Object(g.m)("from_pwa")?Object(g.r)(e,{from_pwa:1}):e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u.apply(void 0,[t].concat(a))}}(t,!0),t?e=function(){var e=document.querySelector("#root"),t=Object(g.u)((function(){v("_self")}),500);t();var n=new MutationObserver(t);return n.observe(e,{childList:!0,subtree:!0}),function(){return n.disconnect()}}():v("_blank"),function(){var t;null===(t=e)||void 0===t||t()}}),[t]),null}));t.a=Object(o.b)((function(e){var t=e.pageName,n=e.showPWAPanel,o=void 0===n||n,i=function(){var e=Object(a.useState)(!1),t=c()(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){r(Object(l.c)())}),[]),Object(a.useEffect)((function(){var e,t=Object(l.b)(),n=function(){r(Object(l.c)())};return null==t||null===(e=t.addEventListener)||void 0===e||e.call(t,"change",n),function(){var e;null==t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"change",n)}}),[]),n}();return Object(a.useEffect)((function(){if(i){var e=window.innerWidth,t=window.screen.availWidth;e<1300&&t>=1300&&window.resizeTo(1300,window.outerHeight)}}),[i]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(_,{pageName:t}):null,r.a.createElement(y,{inPWA:i}))}))},a104eca09489abd9d005:function(e,t,n){},a37ac43bf3b2879b42e3:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return k}));n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("078450aa17a5c8b07ba0"),n("8820a3764a10a8c7e743"),n("2810e53ad7174f3c046d"),n("949e90892ef33ac1c1ae"),n("42eee083f5c47e0e1e4f"),n("509dfa66ded6e9f07cba"),n("6a44db37054cf3d0f845");var a=n("69084d01d3449fc1bc27"),r=n("abbf799a026c91d8612e"),o=n("bd8ea4fd9e1bc4efca14"),i=null;function c(e){return new Promise((function(t){if(e){if(e.objectStoreNames.contains("cities")){var n=e.transaction("cities").objectStore("cities").get("1");return n.onsuccess=function(e){t(e.target.result)},void(n.onerror=function(){t(null)})}t(null)}else t(null)}))}function l(){return new Promise((function(e){if(window.indexedDB)if(i)c(i).then((function(t){return e(t)}));else{var t=window.indexedDB.open("news_local_ch_cities");t.onsuccess=function(t){i||(i=t.target.result),c(i).then((function(t){return e(t)}))},t.onupgradeneeded=function(t){i||(i=t.target.result),i.objectStoreNames.contains("cities")||i.createObjectStore("cities"),e(null)},t.onerror=function(t){e(null)}}else e(null)}))}function u(e){i&&c(i).then((function(t){var n,a;t?(n=i,a=e,new Promise((function(e){if(n)if(n.objectStoreNames.contains("cities")){var t=n.transaction("cities","readwrite").objectStore("cities").put(a,"1");t.onsuccess=function(){return e()},t.onerror=function(){return e()}}else e();else e()}))):function(e,t){new Promise((function(n){if(e)if(e.objectStoreNames.contains("cities")){var a=e.transaction("cities","readwrite").objectStore("cities").add(t,"1");a.onsuccess=function(){return n()},a.onerror=function(){return n()}}else n();else n()}))}(i,e)}))}var s=n("a9b386aa9e5908dda673");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){p(o,a,r,i,c,"next",e)}function c(e){p(o,a,r,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!t)return"";var n="";return Object.keys(t).some((function(a){return!!t[a][e]&&(n=a,!0)})),n}var _={cities:null};function g(){return v.apply(this,arguments)}function v(){return(v=b(regeneratorRuntime.mark((function e(){var t,n,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,r.a.weather.getCities();case 4:200===(i=e.sent).status&&(c=Object(o.e)(null===(n=null===(t=i.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.cities))&&(a=Object.keys(c).reduce((function(e,t){var n=c[t];return Object.assign(Object.assign({},e),f({},t,Object.keys(n).reduce((function(e,t){return Object.assign(Object.assign({},e),f({},t,{name:t,code:n[t][0],channelId:n[t][1]}))}),{})))}),{})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Object(s.a)("fetch-cities-error");case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var y=0;function w(){return E.apply(this,arguments)}function E(){return(E=b(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.cities){e.next=2;break}return e.abrupt("return",_.cities);case 2:return e.next=4,l();case 4:if(t=e.sent){e.next=14;break}return e.next=8,g();case 8:if(!(n=e.sent)){e.next=13;break}return u(n),_.cities=n,e.abrupt("return",n);case 13:return e.abrupt("return",null);case 14:if(!(y<1)){e.next=19;break}return e.next=17,g();case 17:(a=e.sent)&&(u(a),_.cities=a,y++);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=(e||{}).flush,n=d(Object(a.useState)(_.cities),2),r=n[0],o=n[1],i=Object(a.useRef)(b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));return Object(a.useEffect)((function(){t&&i.current()}),[]),[r,i.current]}},a5b25f8e99db71c1fcf2:function(e,t,n){"use strict";var a=n("edc2b76b5d9ea09775b6");t.a=function(e,t){return e?(t&&t(),!0):(a.a.show({title:"OTHER"}),!1)}},a779817f12e60e7441d7:function(e,t,n){},a99d8596674b8a971a00:function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("cea817f8710b3702b0ef"),h=n.n(b),_=n("346b28504d968a7cb889"),g=n.n(_),v=n("99cf401087dd36bc9dc3"),y=n.n(v),w=n("214eccfc06814c553a3c"),E=n.n(w),k=n("626346d0a60969063da7"),O=n.n(k),j=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"],A=["/api/pc/list/feed","/search/suggest/hot_words","/hot-event/hot-board/","/stream/widget/local_weather/","search/suggest/hot_words/","/api/pc/list/user/feed","/2/article/v88/refresh_tip/","/api/pc/user/follow","/video/app/pseries/","/ugc/video/v1/pseries","/ugc/video/v1/player_info","/action/api/v1/do_action/","/api/amos_items/","/wenda/v5/"],C=["/api/pc/list/feed","/api/pc/list/user/feed","/video/app/pseries/","/ugc/video/v1/pseries"];function I(e,t){var n,a,r="".concat(location.protocol,"//").concat(location.host);(function(e){return!A.some((function(t){return e.indexOf(t)>-1}))})(e)&&(r+="/toutiao");var o={url:r+e};return t.data&&(o.body=t.data),(null===(n=window.byted_acrawler)||void 0===n||null===(a=n.sign)||void 0===a?void 0:a.call(n,o))||""}var x=n("887f627c90428b8d508b"),T=n.n(x),S=n("4ff4f3dbe18f70243983"),N=n.n(S),D=n("21d65a030ead917f710a"),R=n.n(D),L=n("2422758950d9f66b7423");var U=new(function(){function e(){N()(this,e),this.show=!1,this.success=!1,this.waitVerify=null}return R()(e,[{key:"verify",value:function(e){var t=this;return this.waitVerify=new T.a((function(n){var a;t.show=!0,a={verifyData:e,successCb:function(){t.show=!1,t.success=!0,n()},closeCb:function(){t.show=!1,t.success=!1,n()}},window.TTGCaptcha&&window.TTGCaptcha.render({verify_data:a.verifyData,captchaOptions:{app_name:L.k,showMode:"mask",successCb:function(e){var t;null===(t=a.successCb)||void 0===t||t.call(a,e)},errorCb:function(e){var t;null===(t=a.errorCb)||void 0===t||t.call(a,e)},closeCb:function(){var e;null===(e=a.closeCb)||void 0===e||e.call(a)}}})})),this.waitVerify}},{key:"waitVerifyFinish",value:function(){var e=this;return new T.a((function(t){e.waitVerify?e.waitVerify.then((function(){t()})):t()}))}}]),e}()),M=n("4e16ef1abe038022cfb8");function P(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):l.a?i()(e,l()(n)):P(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}var B=E.a.create({timeout:1e4});B.interceptors.request.use((function(e){return"post"===e.method&&(e.headers=W(W({},e.headers),{},{"X-CSRFToken":O.a.get("csrftoken"),"tt-anti-token":O.a.get("tt_anti_token")})),e})),B.interceptors.request.use((function(e){var t;if(!function(e){return!e||!j.some((function(t){return e.indexOf(t)>-1}))}(e.url))return e;(null===(t=e.params)||void 0===t?void 0:t._signature)&&delete e.params._signature;var n=I(B.getUri(e),e);return e.params=W(W({},e.params),{},{_signature:n}),e})),B.interceptors.request.use((function(e){var t;return(t=e.url)&&C.some((function(e){return t.indexOf(e)>-1}))&&(e.params=W(W({},e.params),{},{aid:L.j,app_name:L.k})),e})),B.interceptors.response.use(function(){var e=g()(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null==t||null===(n=t.data)||void 0===n?void 0:n.decision)){e.next=19;break}if(U.show){e.next=13;break}return Object(M.b)("show-captcha",{type:"api"}),e.next=6,U.verify(a);case 6:if(!U.success){e.next=11;break}return Object(M.b)("pass-captcha",{type:"api"}),e.next=10,B.request(t.config);case 10:return e.abrupt("return",e.sent);case 11:e.next=19;break;case 13:return e.next=15,U.waitVerifyFinish();case 15:if(!U.success){e.next=19;break}return e.next=18,B.request(t.config);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.a=B},a9b386aa9e5908dda673:function(e,t,n){"use strict";function a(e,t){var n;null===(n=window.Slardar)||void 0===n||n.call(window,"sendEvent",{name:e,metrics:{value:1},categories:t})}function r(e,t){var n,a=e instanceof Error?"errorMsg=".concat(null==e?void 0:e.message,", stack=").concat(null==e?void 0:e.stack):e;null===(n=window.Slardar)||void 0===n||n.call(window,"sendLog",{level:"error",content:a,extra:{name:t}})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},ab60a9863343fb39500d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJ1BMVEVHcEzwQEHvQEDwQUHwQULwQEHvQEDvQEDwQEHwQUHwQUHwQELwQUI9yQFZAAAADHRSTlMAuiGG31kQQKDP728WQ+YeAAABu0lEQVRIx62WoU/DQBTG2w7WEUwFjokJFJkANIIgSEgmSoIZVNQRUCgUAk8VCagJQgKqYn8AgsKWreP9UVzba3u9u/eugk8tyy+57777eu8sS9T4wDKrD89GxgGAYxO0ziDYM0AbGZSENHSfQfBEQ1EOpaHJdyaPgnoc+qGggENwS0CjEjrBmU7JUOsNK2iF7s+pViNS79UMvGLQoQAtqMMttUSgXRFamW0zDfCW1PKz/2yfsM00zYObN5nNJlMEFYGPpF3ooWjOG2G7gFi6sxBJu1puKJ1PIENT3pyFrklC7fLmCOt1ZCYLM5D6sCMzKdtLnP/6wC2xal7IJVUsfVcO0pJxFUue25e/HCUluOwrTV4DQkfIwUn2kM2Jmuu7pKTBb0pCCYcmFDTjUNwGAlL/DsVtoFEb45M2OUVtoE8K+m1MC0TlR3VDQV8csinIQ64U9aZi6lJpDixzoZbSMCQrTjqvZ5/bwhLxKYi3Phqn+EpwTSlR6zWno23aWx66tnjyC+FaB71Is6WrORr11aLewLpJfC4z77qxGJkWyxNt2EqQt4hIJeh7xTkrmW3qDXW1vwVw+njX/PcP7a9u/9V4V1MAAAAASUVORK5CYII="},ab64641ae399574b8de3:function(e,t,n){},abbf799a026c91d8612e:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"getHotBoard",(function(){return d}));var r={};n.r(r),n.d(r,"repostContent",(function(){return b}));var o={};n.r(o),n.d(o,"getTabComments",(function(){return _})),n.d(o,"getReplyList",(function(){return g})),n.d(o,"submitComment",(function(){return v})),n.d(o,"submitReply",(function(){return y})),n.d(o,"commentAction",(function(){return w})),n.d(o,"diggReply",(function(){return E})),n.d(o,"reportUser",(function(){return k}));var i={};n.r(i),n.d(i,"followUser",(function(){return O})),n.d(i,"unfollowUser",(function(){return j}));var c={};n.r(c),n.d(c,"getCities",(function(){return A}));var l={};n.r(l),n.d(l,"getLogin",(function(){return C}));var u={};n.r(u),n.d(u,"getUnreadMsg",(function(){return x})),n.d(u,"getWendaUnreadMsg",(function(){return T}));var s=n("f663fadc4eb5841c48bb"),f=n("c1c90d8f2436b65746ff");function d(){return f.a.get("/hot-event/hot-board/?origin=toutiao_pc")}n("8820a3764a10a8c7e743");var m=n("a52ab4297c6c7cd8920c"),p=n.n(m);function b(e){return f.a.post("/c/ugc/content/repost/",p.a.stringify(Object.assign({},e)))}var h="toutiao_web";function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return f.a.get("/article/v2/tab_comments/",{params:{aid:24,app_name:h,offset:n,count:a,group_id:e,item_id:t}})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return f.a.get("/2/comment/v2/reply_list/",{params:{aid:24,app_name:h,id:e,offset:t,count:n,repost:a}})}function v(e,t,n){return f.a.post("/browser/2/data/v5/post_message/",p.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:24,app_name:h}})}function y(e){var t={id:e.id,content:e.content};return(e.replyUserId||e.replyCommentId)&&(t.reply_user_id=e.replyUserId,t.reply_comment_id=e.replyCommentId),f.a.post("/browser/2/comment/v3/create_reply/",p.a.stringify(t),{params:{aid:24,app_name:h}})}function w(e,t,n,a){return f.a.post("/browser/2/data/v1/comment_action/",p.a.stringify({comment_id:e,group_id:t,item_id:n,action:a}),{params:{aid:24,app_name:h}})}function E(e,t,n){return f.a.post("/browser/2/comment/v1/digg_reply/",p.a.stringify({id:e,reply_id:t,action:n}),{params:{aid:24,app_name:h}})}function k(e){return f.a.post("/api/pc/feedback/2/report_user_comment/",p.a.stringify(Object.assign(Object.assign({},e),{report_source:0,source:1,aid:24})),{params:{aid:24,app_name:"toutiao-web",app_key:"toutiao-web",webid:e.webid}})}function O(e){return f.a.post("/api/pc/user/follow",{user_token:e})}function j(e){return f.a.post("/c/user/unfollow/",p.a.stringify({user_token:e}))}function A(){return f.a.get("https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-toutiao.fe.toutiao_web_pc-default")}function C(e){return f.a.get(e)}var I=n("2c18967c0e862cf8b7d2");function x(){return f.a.get("/api/msg/tab_list",{params:{app_id:I.b}})}function T(){return f.a.get("/mp/agw/general/wenda/invite_count")}var S={search:s,hotboard:a,ugc:r,comment:o,relation:i,weather:c,login:l,notice:u};t.a=S},acb455effcf8850d4323:function(e,t,n){},acc155cddbd190919d07:function(e,t,n){},acff6c447f863638e55f:function(e,t,n){"use strict";var a;function r(e,t){var n=null;switch(e){case a.WTT:n="https://www.toutiao.com/w/".concat(t,"/");break;case a.VIDEO:n="https://www.ixigua.com/".concat(t);break;case a.SELF_VIDEO:n="https://www.toutiao.com/video/".concat(t,"/");break;case a.TRENDING_TOPIC:n="https://www.toutiao.com/trending/".concat(t,"/");break;case a.QUESTION:n="https://www.toutiao.com/question/".concat(t,"/");break;case a.ANSWER:n="https://www.toutiao.com/answer/".concat(t,"/");break;default:n="https://www.toutiao.com/article/".concat(t,"/")}return n}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.ARTICLE="article",e.WTT="wtt",e.VIDEO="video",e.SELF_VIDEO="self_video",e.TRENDING_TOPIC="trending_topic",e.QUESTION="question",e.ANSWER="answer"}(a||(a={}))},ae17adf1c28fabf1305a:function(e,t,n){},b13aa71a6b6a787b661a:function(e,t,n){},b185499127a129210d8e:function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("ed0e645fb10944a4fb8f"),i=n("c32dc719ced889e8de03"),c=n("0c7cb8e7fa7d864c06e8"),l=n("91ccd34fe1d322fa1c32"),u=n("a58942195da9f667c6db"),s=n.n(u),f=n("1f8b48cdafa9b9697aa7"),d=n.n(f),m=n("070b74083ae0e56df3bd"),p=n.n(m),b=n("90c5586bb50fc596673a"),h=n.n(b),_=n("8782ba00facdf23abb6a"),g=n.n(_),v=n("f9652c99cb787d02d72d"),y=n.n(v),w=n("99cf401087dd36bc9dc3"),E=n.n(w),k=(n("f5af4a301d22e870440e"),n("be6323750fae7868d676")),O=n("7009f854fb449fc1b23d"),j=n("acff6c447f863638e55f"),A=n("fb622297466e7a637f99"),C=n("cea817f8710b3702b0ef"),I=n.n(C),x=n("346b28504d968a7cb889"),T=n.n(x),S=n("961c4bd7537eab329729"),N=n.n(S),D=n("2fadeaed9bdb1dd22487"),R=n.n(D),L=n("174811872339f1d02c40"),U=n.n(L),M=(n("fa1bfa8e190ce16c8135"),n("2422758950d9f66b7423")),P=n("78e411ccf7a9a0caceb3"),W=n("fc117aacb27df2ddee39"),B=n("41e81a6b6b2e87160a0d"),F=n("38c58096afa111fcdfd2"),V=n("546ca7f10f62589ab9f4"),Q=n("b65c96faf0c123cf88e4"),H=n("5616f33a71e39794ee3e"),z=n("9a261fd8feb2690e8f07"),K=n("1e93314aaf7aabdbfbff");function q(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):q(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}var J=function(e){var t=e.data,n=e.disableDislike,a=e.onClickToDetail,o=e.onDislike,i=e.onDislikeClick,c=G(G({},Object(P.b)(t)),{},{group_type:t.__group_type});return r.a.createElement("div",{className:"feed-card-short-video-multi-item"},r.a.createElement(Q.a,{cover:t.cover,articleUrl:t.detailUrl,desc:t.title,logInfo:c,onClickToDetail:a}),r.a.createElement("div",{className:"dislike-container"},r.a.createElement(V.c,{data:{groupId:t.groupId,itemId:t.itemId,filterWords:t.filterWords,source:M.g.SHORT_VIDEO},disable:n,onDislike:o,onDislikeClick:i})),r.a.createElement("div",{className:"info-container"},r.a.createElement(F.a,{className:"title",href:t.detailUrl,target:"_blank",rel:"noopener nofollow",title:t.title,logInfo:c,onClick:a},t.title),r.a.createElement("div",{className:"play-count"},Object(k.j)(t.playCount),"\u6b21\u64ad\u653e")))},Y=function(e){var t=e.formattedParams,n=e.onClickToDetail,o=e.onDislikeClick,i=e.onDislike,c=e.onHideCell,l=Object(a.useState)(e.data.slice(0,4)),u=R()(l,2),s=u[0],f=u[1],d=Object(a.useState)(1/0),m=R()(d,2),p=m[0],b=m[1],h=Object(a.useState)(!1),_=R()(h,2),g=_[0],v=_[1],y=Object(a.useRef)(!1),w=s[0].__channel_id,E=Object(W.a)({videoType:M.i.SHORT_VIDEO,data:e.data.slice(4),channelId:w}),k=Object(a.useMemo)((function(){return s.reduce((function(e,t){return e&&!!t.error}),!0)}),[s]);function O(e,t,n){return[].concat(N()(e.slice(0,t)),[n],N()(e.slice(t+1)))}function j(){return(j=T()(I.a.mark((function e(n,a,r){var o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=N()(s),b(a),i({target:n,dislikeType:r}),y.current=!0,setTimeout((function(){y.current&&(o=O(o,a,{loading:!0}),f(o))}),250),setTimeout((function(){b(1/0)}),550),v(!0),e.next=9,E();case 9:c=e.sent,y.current=!1,c=c?G(G({},c),t):{error:!0},o=O(o,a,c),f(o),v(!1),Object(A.d)(c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){k&&c()}),[k]),r.a.createElement(B.a,{cell:s},r.a.createElement("div",{className:"feed-card-short-video-multi"},r.a.createElement("ul",null,s.map((function(e,t){return r.a.createElement("li",{key:e.groupId||t,className:U()("multi-card-wrapper",{animate:p===t})},e.error&&r.a.createElement(K.a,null),e.loading&&r.a.createElement(z.a,null),!e.error&&!e.loading&&r.a.createElement(J,{data:e,disableDislike:g,onClickToDetail:function(){return n(e)},onDislike:function(n){return function(e,t,n){return j.apply(this,arguments)}(e,t,n)},onDislikeClick:function(){return o(e)}}))}))),r.a.createElement(H.a,{leftTools:[r.a.createElement(V.a,{key:"author",source:"\u5c0f\u89c6\u9891"})]})))},X=n("1114286b3a839994fd62"),Z=n("7ff40e675dfee032084a"),$=n("d4449abe3d2ba6591a15");function ee(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):ee(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}var ne=function(e){var t=e.data,n=e.logParams,a=e.onDislike,o=e.onDislikeClick,i=e.onShare,c=e.onLikeChange,l=e.onShareAction,u=e.onWttSubmit,s=te(te({},Object(P.b)(t)),{},{group_type:t.__group_type});function f(){var t;Object(X.e)(),null===(t=e.onClickToDetail)||void 0===t||t.call(e)}return r.a.createElement(Z.a,{className:"feed-card-video-follow feed-card-shortvideo-follow",data:t,logParams:n,logInfo:s,isShortVideo:!0,onDislike:a,onClickToDetail:f,onDislikeClick:o,media:r.a.createElement($.a,{userInfo:t.userInfo,timestamp:t.timestamp,logInfo:n}),leftTools:[r.a.createElement(V.e,{key:"share",data:t,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211},onSuccess:i,onShareAction:l,onWttSubmit:u}),r.a.createElement(V.b,{key:"comment",styleType:"2",commentCount:t.commentCount,articleUrl:t.detailUrl,jumpQuery:{from_scene:"follow"},logInfo:s,onClickToDetail:f}),r.a.createElement(V.d,{key:"like",groupId:t.groupId,likeCount:t.likeCount,isLiked:t.userDigg,diggType:M.c.VIDEO,onLikeChange:c})]})};function ae(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):ae(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function oe(e){var t,n,a,r,o=(null===(t=e.large_image_list)||void 0===t?void 0:t[0])||(null===(n=e.video)||void 0===n||null===(a=n.origin_cover)||void 0===a||null===(r=a.url_list)||void 0===r?void 0:r[0]);return o&&o.url?o.url.replace(/^http:/,""):""}var ie=function(e){var t,n,i,c,l,u,s,f=e.cell,d=e.logParams,m=e.onDislike,p=e.onItemClick,b=e.onLikeChange,h=Object(a.useContext)(O.a),_={__channel_id:f.__channel_id,__channel_info:f.__channel_info,__type:f.__type,__log_enter_from:f.__log_enter_from,__log_impr_type:f.__log_impr_type,__log_category_name:f.__log_category_name,__log_show_rank:f.__log_show_rank,__log_section:f.__log_section,__group_type:f.__group_type};49===f.cell_type?t=[re({title:f.title||"[\u65e0\u6587\u5b57]",cover:oe(f),duration:null===(n=f.video)||void 0===n?void 0:n.duration,videoId:null===(i=f.video)||void 0===i?void 0:i.video_id,groupId:f.group_id,itemId:f.item_id,bizId:f.biz_id,detailUrl:Object(j.b)(j.a.SELF_VIDEO,f.group_id),userInfo:f.__user_info,commentCount:null===(c=f.action)||void 0===c?void 0:c.comment_count,userDigg:null===(l=f.action)||void 0===l?void 0:l.user_digg,likeCount:null===(u=f.action)||void 0===u?void 0:u.digg_count,playCount:0,timestamp:f.publish_time,filterWords:null===(s=f.filter_words)||void 0===s?void 0:s.filter_words,log_pb:f.log_pb,group_id:f.group_id,group_source:f.group_source,cell_type:f.cell_type},_)]:t=(f.data||[]).map((function(e){var t,n,a;return re({title:e.title,cover:oe(e),groupId:e.group_id,itemId:e.item_id,bizId:e.biz_id,detailUrl:Object(j.b)(j.a.SELF_VIDEO,e.group_id),userInfo:Object(o.k)(e),playCount:null===(t=e.action)||void 0===t?void 0:t.play_count,filterWords:null===(n=e.filter_words)||void 0===n||null===(a=n.filter_words)||void 0===a?void 0:a.filter((function(e){return"21:10004"!==e.id})),log_pb:e.log_pb,group_id:e.group_id,group_source:e.group_source,cell_type:e.cell_type},_)}));var g={position:d.position,article_type:"shortvideo"},v=t.length;function y(e){m(e)}function w(e){var n,a=e.target,r=e.dislikeType,o=void 0===r?"":r;if(a){var i=document.activeElement,c=Object(k.l)(document.querySelector(".ttp-feed-module"));Object(k.f)(i,c)}else y(re(re({},f),{},{dislikeType:o}));var l=a||t[0];Object(A.n)(l,re(re({},g),{},{is_following:(null===(n=l.userInfo)||void 0===n?void 0:n.isFollow)?"1":"0",dislike_type:o,content_type:"single"}))}function E(e){var n,a=e||t[0];Object(A.g)(a,{is_following:(null===(n=a.userInfo)||void 0===n?void 0:n.isFollow)?"1":"0",article_type:"shortvideo",position:d.position})}function C(e){null==p||p();var n=e||t[0];Object(A.e)(n,g)}return v?r.a.createElement("div",{className:"feed-card-wrapper feed-card-video-wrapper"},v>1?r.a.createElement(Y,{data:t,formattedParams:_,onClickToDetail:C,onDislike:w,onDislikeClick:E,onHideCell:function(){return y(f)}}):r.a.createElement(ne,{data:t[0],logParams:d,onDislike:w,onClickToDetail:C,onDislikeClick:E,onLikeChange:function(e){b(f,e),1===e?Object(A.p)(f,h,g):Object(A.s)(f,h,g)},onShare:function(e){Object(A.q)(f,h,re(re({},g),{},{share_platform:e}))},onShareAction:function(e){Object(A.t)(f,re(re({},g),{},{action_type:e}))},onWttSubmit:function(){Object(A.w)(f,g)}})):null},ce=(n("da718d76f9b51529dd59"),n("54b2d6dda1f17486c719")),le=function(e){var t=e.data,n=e.onRefresh;return r.a.createElement("div",{className:"feed-card-refresh-wrapper"},r.a.createElement("button",{type:"button",className:"inner-tips",onClick:function(){n();var e=document.querySelector(".ttp-feed-module");if(e&&e.getBoundingClientRect().top>-39)return;ce.a.emit.scrollToTop()}},Object(k.k)(t.behot_time),"\u770b\u5230\u8fd9\u91cc\uff0c\u70b9\u51fb\u5237\u65b0"))},ue=(n("f888a5b741084f046b7a"),n("b28d054028530bf1d2eb")),se=n.n(ue);function fe(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):fe(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}var me=function(e){var t=e.data,n=e.logParams,i=e.logInfo,c=e.onClickToDetail,l=e.onDislike,u=e.onDislikeClick,s=Object(a.useState)(!1),f=R()(s,2),d=f[0],m=f[1],p=Object(a.useMemo)((function(){return t.title.length}),[t.title]),b=t.coverUrls,h=b.length||0,_=function(){c(),m(!0)};return r.a.createElement("div",{className:U()("feed-card-wenda",{"no-cover":!h,"single-cover":h>0&&h<4,"multi-cover":h>=4,"two-line-title":h>0&&h<4&&p>25,visited:d})},r.a.createElement("div",{className:"feed-card-wenda-l"},r.a.createElement(F.a,{className:"title",href:t.detailUrl,target:"_blank",rel:"noopener","aria-label":t.title,logInfo:i,onClick:_},t.title),t.abstract&&r.a.createElement(F.a,{className:"desc",href:t.detailUrl,target:"_blank",rel:"noopener","aria-label":t.abstract,logInfo:i,onClick:_},t.abstract),h>=4&&r.a.createElement("ul",{className:"cover-list"},b.map((function(e,n){return r.a.createElement("li",{key:n},r.a.createElement(Q.a,{alt:"".concat(t.title,"-\u56fe").concat(n+1),cover:e,articleUrl:t.detailUrl,logInfo:i,onClickToDetail:_}))}))),r.a.createElement(H.a,{leftTools:[r.a.createElement(V.a,{key:"author",userInfo:t.mediaInfo,source:t.source,logInfo:n}),r.a.createElement(V.b,{key:"comment",inside:!1,commentCount:t.commentCount,articleUrl:t.detailUrl,logInfo:i,onClickToDetail:_})],rightTools:[r.a.createElement(V.c,{key:"dislike",data:{itemId:t.groupId,groupId:t.groupId,filterWords:t.filterWords||[],source:o.a.QUESTION===t.type?M.g.WENDA_QUESTION:M.g.WENDA_ANSWER},onDislike:l,onDislikeClick:u})]})),h>0&&h<4&&r.a.createElement("div",{className:"feed-card-wenda-r"},r.a.createElement(Q.a,{cover:b[0],articleUrl:t.detailUrl,desc:t.title,logInfo:i,onClickToDetail:_})))},pe=function(e){var t=e.cell,n=e.logParams,a=e.onItemClick,i=e.onDislike;!function(e){var t;e.log_pb&&(e.log_pb=de(de({},e.log_pb),{},{enterfrom_answerid:null===(t=e.article_url.match(/\/question\/(\d+)/))||void 0===t?void 0:t[1]}))}(t);var c=function(e){var t=e.__type,n=e.__cover_urls,a=e.group_id,r=e.group_source,i=e.title,c=e.Abstract,l=e.media_info,u=e.source,s=e.comment_count,f=e.filter_words,d=t,m=a;return{type:d,groupId:m,groupSource:r,title:i,abstract:c,coverUrls:n||[],detailUrl:Object(j.b)(o.a.QUESTION===d?j.a.QUESTION:j.a.ANSWER,m),mediaInfo:l&&{name:l.name,userSecToken:l.user_id},source:u,commentCount:s,filterWords:null==f?void 0:f.filter_words}}(t),l=function(e,t){var n=e.log_pb,a=e.__cover_urls,r=e.__channel_id,o=e.__log_section,i=e.__log_show_rank;return{impr_id:null==n?void 0:n.impr_id,impr_type:Object(A.l)(e),group_type:Object(A.k)(null==a?void 0:a.length),category_name:Object(A.i)(e),enter_from:Object(A.j)(e),from_page_name:t.page_name,channel_id:r,section:o||"feed",position:t.position,is_following:(null==n?void 0:n.is_following)||"0",is_top_content:"0",show_rank:i,log_pb:n&&se()(n)}}(t,n);return r.a.createElement(B.a,{cell:t},r.a.createElement("div",{className:"feed-card-wrapper feed-card-wenda-wrapper"},r.a.createElement(me,{data:c,logParams:n,logInfo:l,onClickToDetail:function(){null==a||a(),Object(A.c)(function(e,t){var n=e.__type,a=e.__log_area,r=e.__channel_info,i=e.__log_section,c=e.__log_show_rank,l=e.__cover_urls,u=e.group_id,s=e.group_source,f=e.log_pb,d=n,m=u,p=Object(j.b)(o.a.QUESTION===d?j.a.QUESTION:j.a.ANSWER,m);return de(de({area:a||("all"===(null==r?void 0:r.key)?"feed":"category"),gid:m,href:p},t),{},{enter_from:Object(A.j)(e),category_name:Object(A.i)(e),channel_id:null==r?void 0:r.channelId,impr_id:null==f?void 0:f.impr_id,enterfrom_answerid:null==f?void 0:f.enterfrom_answerid,is_top_content:"0",section:i||("list"===t.position?"feed":"detail_feed"),group_source:s,article_type:"qa",group_id:m,show_rank:c,group_type:Object(A.k)((null==l?void 0:l.length)||0),log_pb:f&&se()(f)})}(t,n))},onDislike:function(e){i(t),Object(A.n)(t,{is_following:l.is_following,article_type:"qa",position:n.position,dislike_type:e,content_type:"single"})},onDislikeClick:function(){Object(A.g)(t,{is_following:l.is_following,article_type:"qa",position:n.position})}})))},be=n("10130cfc2ba27a09b7e5"),he=(n("60ea5d854a4999bbf092"),n("53955f9dab771af04369")),_e=function(e){var t=e.data,n=e.logParams,o=e.onClickToDetail,i=Object(a.useState)(!1),c=R()(i,2),l=c[0],u=c[1],s=Object(P.b)(t);function f(){u(!0),o()}return r.a.createElement(B.a,{cell:t},r.a.createElement(he.a,{className:U()("feed-card-article-multi-item",{visited:l}),data:t,logInfo:s,logParams:n,onDislike:k.c,onClickToDetail:f,onDislikeClick:k.c,footer:r.a.createElement(H.a,{leftTools:[r.a.createElement(V.b,{key:"comment",inside:0===t.articleType,commentCount:t.commentCount,articleUrl:t.articleUrl,logInfo:s,onClickToDetail:f}),r.a.createElement(V.g,{key:"time",timestamp:t.timestamp})]})}))},ge=function(e){var t=e.data,n=e.logParams,o=e.onDislike,i=e.onClickToDetail,c=e.onDislikeClick,l=e.onMoreClick,u=t[0],s=t.slice(2).length,f=Object(a.useState)(t.slice(0,2)),d=R()(f,2),m=d[0],p=d[1],b=Object(a.useRef)(null);function h(){l(),p(t)}return r.a.createElement("div",{className:"feed-card-article-multi"},r.a.createElement("div",{className:"feed-card-article-multi-header"},r.a.createElement($.a,{userInfo:u.userInfo,source:u.source,sourceAvatar:u.sourceAvatar,logInfo:n}),r.a.createElement(V.c,{data:{itemId:u.id,groupId:u.id,filterWords:u.filterWords,source:M.g.ARTICLE},disableReport:!0,onDislike:o,onDislikeClick:c})),r.a.createElement("div",{ref:b},m.map((function(e){return r.a.createElement(_e,{key:e.groupId,data:e,logParams:n,onClickToDetail:function(){return i(e.groupId)}})}))),!!s&&m.length<t.length&&r.a.createElement("div",{className:"rest",tabIndex:0,role:"button",onClick:h,onKeyDown:function(e){e.stopPropagation();var t=e.keyCode;13!==t&&32!==t||(e.preventDefault(),h(),setTimeout((function(){var e,t,n=[].slice.call((null===(e=b.current)||void 0===e?void 0:e.childNodes)||[])[2];null===(t=Object(k.l)(n)[0])||void 0===t||t.focus()})))}},"\u5c55\u5f00\u4f59\u4e0b",s,"\u7bc7"))};function ve(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):ve(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function we(e,t){var n,a;return 102===e.cell_type?null===(a=e.filter_words)||void 0===a?void 0:a.filter_words:null===(n=t.filter_words)||void 0===n?void 0:n.filter_words}var Ee=function(e){var t=e.cell,n=e.logParams,i=e.onDislike,c=e.onItemClick,l=e.onLikeChange,u=Object(a.useContext)(O.a),s=function(e){return 102===e.cell_type?e.sub_items||[]:[e]}(t).map((function(e){return{groupId:e.group_id,itemId:e.item_id,articleType:e.article_type,title:e.title,coverUrls:e.__cover_urls||Object(o.f)(e),articleUrl:Object(o.g)(e,"article"),userInfo:e.__user_info||Object(o.k)(e),source:e.source,sourceAvatar:e.source_avatar,commentCount:e.comment_count,userDigg:e.user_digg,likeCount:e.digg_count,timestamp:e.publish_time,isStick:t.is_stick,stickIndex:t.__stick_index,stickStyle:t.stick_style,filterWords:we(t,e),subItems:e.sub_items,id:t.id,mediaInfo:Object(o.i)(t),group_id:e.group_id,group_source:e.group_source,cell_type:t.cell_type,log_pb:t.log_pb,__channel_id:t.__channel_id,__channel_info:t.__channel_info,__type:t.__type,__log_enter_from:t.__log_enter_from,__log_impr_type:t.__log_impr_type,__log_category_name:t.__log_category_name,__log_show_rank:t.__log_show_rank,__log_section:t.__log_section}})),f={position:n.position,article_type:"text"};function d(e){i(ye(ye({},t),{},{dislikeType:e})),Object(A.n)(s[0],ye(ye({},f),{},{dislike_type:e,content_type:"mix"}))}function m(e){var a,r,o,i=s.filter((function(t){return t.group_id===e}))[0];null==c||c(),Object(A.c)(ye(ye({area:t.__log_area||("all"===(null===(a=t.__channel_info)||void 0===a?void 0:a.key)?"feed":"category"),gid:i.group_id,href:i.articleUrl},n),{},{enter_from:Object(A.j)(i),category_name:Object(A.i)(i),channel_id:null===(r=t.__channel_info)||void 0===r?void 0:r.channelId,impr_id:null===(o=t.log_pb)||void 0===o?void 0:o.impr_id,is_top_content:"0",section:"feed",group_source:i.group_source,article_type:"text",group_id:i.group_id,show_rank:i.__log_show_rank,group_type:Object(A.k)(i.coverUrls.length)}))}function p(){var e;Object(A.g)(s[0],ye(ye({},f),{},{is_following:(null===(e=s[0].userInfo)||void 0===e?void 0:e.follow)?"1":"0"}))}return s.length?r.a.createElement("div",{className:"feed-card-wrapper feed-card-article-wrapper"},s.length>1?r.a.createElement(ge,{data:s,logParams:n,onDislike:d,onClickToDetail:m,onDislikeClick:p,onMoreClick:function(){Object(A.f)(t)}}):r.a.createElement(P.a,{data:s[0],logParams:ye(ye({},n),{},{enter_from:Object(A.j)(t)}),onDislike:d,onClickToDetail:function(){return m(s[0].groupId)},onDislikeClick:p,onShare:function(e){Object(A.q)(t,u,ye(ye({},f),{},{share_platform:e}))},onLikeChange:function(e){l(t,e),1===e?Object(A.p)(t,u,f):Object(A.s)(t,u,f)},onShareAction:function(e){Object(A.t)(t,ye(ye({},f),{},{action_type:e}))},onWttSubmit:function(){Object(A.w)(t,f)}})):null},ke=n("56c1dc570fb02868cb13"),Oe=n.n(ke),je=n("0ea997c98daa26e2c67d"),Ae=n.n(je),Ce=["list","onDislike"];function Ie(e,t){var n=y()(e);if(g.a){var a=g()(e);t&&(a=a.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):Ie(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}var Te=function(e){var t=e.list,n=e.onDislike,o=Ae()(e,Ce),i=Object(a.useState)(1/0),c=R()(i,2),u=c[0],s=c[1],f=Object(a.useState)(!1),d=R()(f,2),m=d[0],p=d[1],b=Object(a.useRef)(!1),h=Object(W.a)({videoType:M.i.VIDEO,data:[],channelId:be.a.get().video.channelId,useRawData:!0});function _(){return(_=T()(I.a.mark((function e(t,a){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(a),b.current=!0,setTimeout((function(){b.current&&n(t,xe(xe({},t),{},{loading:!0}))}),250),setTimeout((function(){s(1/0)}),550),p(!0),e.next=7,h();case 7:r=e.sent,b.current=!1,r=r?xe(xe({},r),{},{__log_show_rank:t.__log_show_rank}):xe(xe({},t),{},{error:!0}),n(t,r),p(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("ul",{className:"video-channel-feed"},t.map((function(e,t){return r.a.createElement("li",{key:e.group_id,className:U()("multi-card-wrapper",{animate:u===t})},r.a.createElement(l.a,Oe()({},o,{cell:e,disableDislike:m,onDislike:function(){return function(e,t){return _.apply(this,arguments)}(e,t)},onLikeChange:k.c})))})))};t.a=function(e){var t=e.list,n=e.logParams,a=e.activeKey,u=e.onSubscribe,s=e.onDislike,f=e.onRefresh,d=e.onLikeChange,m=e.onItemClick;return a===be.a.get().video.key?r.a.createElement(Te,{list:t,logParams:n,onDislike:s,onItemClick:m}):r.a.createElement(r.a.Fragment,null,t.map((function(e){return function(e){var t=e.group_id;switch(e.__type){case o.a.ARTICLE:var a=e.__channel_id===be.a.get().follow.channelId?Ee:i.a;return r.a.createElement(a,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.WTT:return r.a.createElement(c.a,{key:t,cell:e,logParams:n,onSubscribe:u,onDislike:s,onLikeChange:d,onItemClick:m});case o.a.VIDEO:return r.a.createElement(l.a,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.SHORT_VIDEO:return r.a.createElement(ie,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.QUESTION:case o.a.ANSWER:return r.a.createElement(pe,{key:t,cell:e,logParams:n,onItemClick:m,onDislike:s});case o.a.REFRESH:return r.a.createElement(le,{key:"refresh",data:e,onRefresh:function(){return f("click_refresh_card")}});default:return null}}(e)})))}},b201cefb7d33145ac7ad:function(e,t,n){"use strict";n.r(t),n.d(t,"cancelRequest",(function(){return c})),n.d(t,"isCancel",(function(){return l})),n.d(t,"getSearchSug",(function(){return u})),n.d(t,"getHotWord",(function(){return s})),n.d(t,"getMCNAccount",(function(){return f})),n.d(t,"getMCNInfo",(function(){return d}));var a=n("214eccfc06814c553a3c"),r=n.n(a),o=n("167789bd516d2baf7295"),i=n("a99d8596674b8a971a00"),c=null,l=function(e){return r.a.isCancel(e)};function u(e){return i.a.get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new r.a.CancelToken((function(e){c=e}))})}function s(){var e="https://tsearch.snssdk.com/search/suggest/hot_words/";return(o.e||o.a)&&(e="/search/suggest/hot_words/"),i.a.get(e)}function f(e){return i.a.get("/mp/agw/media/search_pri_matrix",{params:{search_name:e}})}function d(e,t){return i.a.get("/mp/agw/media/get_media_matrix",{params:{pri_user_id:e,page_no:t,page_size:10}})}},b3d627bf45117b33693e:function(e,t,n){e.exports=n.p+"svgs/article_icon.c91fb7e0.svg"},b47836c813468e99d194:function(e,t,n){},b4d0aca2d3771c85657d:function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o);n("89b38c63c8b1758f68ac");t.a=function(e){var t=e.children,n=e.visible,o=e.transformOrigin,c=void 0===o?"center":o,l=e.transform,u=void 0===l?"":l,s=Object(a.useRef)(null),f=Object(a.useRef)(-1),d="number"==typeof e.minScale?e.minScale:.8;return Object(a.useEffect)((function(){s.current&&(s.current.style.transformOrigin=c)}),[]),Object(a.useEffect)((function(){var e;n?s.current&&s.current&&(clearTimeout(f.current),s.current.classList.add("popup-show"),s.current.classList.remove("popup-hide"),null==(e=s.current)||e.clientWidth,s.current.classList.add("popup-anime-show"),s.current.classList.remove("popup-anime-hide"),s.current.style.transform="".concat(u," scale(1)")):(s.current&&(s.current.classList.add("popup-anime-hide"),s.current.classList.remove("popup-anime-show"),s.current.style.transform="".concat(u," scale(").concat(d,")")),f.current=window.setTimeout((function(){var e,t;null===(e=s.current)||void 0===e||e.classList.add("popup-hide"),null===(t=s.current)||void 0===t||t.classList.remove("popup-show")}),400))}),[n]),r.a.cloneElement(t,{ref:s,className:i()(t.props.className,"ttp-popup-container"),style:{transform:"".concat(u," scale(").concat(d,")")}})}},b6051f0fa8998ea16e97:function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o),c=n("93fd3eb7060d3a0ca436"),l=n("20c6f2e62cf94b7db59c"),u=n("be6323750fae7868d676"),s=n("2422758950d9f66b7423"),f=n("988714ff9eba2503d80f"),d=n("3aac1932c02d51e20abb"),m=n("42d4f6648edde20f9953"),p=n("0e07c12661fbe9d3d4af"),b=n("b65c96faf0c123cf88e4"),h=n("cea817f8710b3702b0ef"),_=n.n(h),g=n("346b28504d968a7cb889"),v=n.n(g),y=(n("028f84ba6d27e52aa246"),n("663529bce6ee6d8996f5")),w=n("7009f854fb449fc1b23d"),E=n("a5b25f8e99db71c1fcf2"),k=n("d84b833f284337beaf9b"),O=function(e){var t=e.userInfo,n=e.onSubscribe,o=Object(a.useRef)(!1),c=Object(a.useContext)(w.a);function l(){return u.apply(this,arguments)}function u(){return(u=v()(_.a.mark((function e(){var a,r,i,l,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(E.a)(c)){e.next=4;break}return e.abrupt("return");case 4:if(a=!t.isFollow,e.prev=5,u=null,o.current=!0,!a){e.next=14;break}return e.next=11,y.a.relation.followUser(t.userSecToken,t.userId);case 11:u=e.sent,e.next=17;break;case 14:return e.next=16,y.a.relation.unfollowUser(t.userSecToken,t.userId);case 16:u=e.sent;case 17:if("success"!==(null===(r=u)||void 0===r?void 0:r.data.message)){e.next=20;break}return n(a),e.abrupt("return");case 20:if(!(null===(i=u)||void 0===i?void 0:i.data.message.includes("\u9ed1\u540d\u5355"))){e.next=23;break}return k.a.info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1"),e.abrupt("return");case 23:throw new Error(null===(l=u)||void 0===l?void 0:l.message);case 26:e.prev=26,e.t0=e.catch(5),k.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");case 30:return e.prev=30,o.current=!1,e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[5,26,30,33]])})))).apply(this,arguments)}return r.a.createElement("div",{tabIndex:0,role:"button","aria-label":t.isFollow?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8",className:i()("feed-card-subscribe-cmp",{followed:t.isFollow}),onClick:l,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),l())}},r.a.createElement("i",null),r.a.createElement("span",null,t.isFollow?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))},j=n("5616f33a71e39794ee3e"),A=n("546ca7f10f62589ab9f4"),C=n("38c58096afa111fcdfd2");t.a=function(e){var t,n,o,h,_,g,v,y,w,E,k,I,x,T,S,N,D=e.data,R=e.logInfo,L=e.footer,U=e.origin,M=e.disableSubscribe,P=e.disableDislike,W=void 0!==P&&P,B=e.hideAuthInfo,F=e.onDislike,V=e.onSubscribe,Q=e.onLikeChange,H=e.onClickToDetail,z=e.onShare,K=e.onDislikeClick,q=e.onShareAction,G=e.onWttSubmit,J=e.onClickOrigin,Y=(N="?source=".concat(null==R?void 0:R.from_page_name),(null===(T=D.userInfo)||void 0===T?void 0:T.userSecToken)?"/c/user/token/".concat(D.userInfo.userSecToken,"/").concat(N):(null===(S=D.userInfo)||void 0===S?void 0:S.userId)?"/c/user/".concat(D.userInfo.userId,"/").concat(N):""),X=D.videoCoverInfo?1:(null===(t=D.coverUrls)||void 0===t?void 0:t.length)||0,Z=(null===(n=D.coverUrls)||void 0===n?void 0:n.slice(0,4))||[],$=Object(a.useMemo)((function(){return D.richContent?D.richContent:Object(c.a)(Object(u.d)(D.content))}),[D.content,D.richContent]),ee=B&&Object(m.b)(D.userInfo.userAuthInfo.auth_type);return r.a.createElement("div",{className:i()("feed-card-wtt",{"single-cover":X>0&&X<4,"multi-covers":X>3,"origin-cover":D.originGroup||D.originThread||D.originUgcVideo})},r.a.createElement("div",{className:"feed-card-wtt-r"},r.a.createElement(b.a,{cover:(null===(o=D.videoCoverInfo)||void 0===o?void 0:o.coverUrl)||(null===(h=D.coverUrls)||void 0===h?void 0:h[0]),articleUrl:D.articleUrl,number:X>1?X:0,numberDirection:"bottom",duration:null===(_=D.videoCoverInfo)||void 0===_?void 0:_.duration,logInfo:R,hasBlurBackground:D.videoCoverInfo&&d.a.PORTRAIT===D.videoCoverInfo.videoOrientation,onClickToDetail:H})),r.a.createElement("div",{className:"feed-card-wtt-l"},r.a.createElement("div",{className:i()("feed-card-wtt-header",{"padding-r":D.showSubscribe})},r.a.createElement("div",{className:"feed-card-wtt-user-info"},r.a.createElement("a",{href:Y,target:"_blank",rel:"noopener nofollow",title:D.userInfo.name,onClick:function(e){if(e.preventDefault(),Y){var t=Object(l.b)(Y,{section:"detail"===R.position?"detail_related":"feed",position:R.position,enter_from:R.enter_from});window.open(t)}}},r.a.createElement("img",{"aria-hidden":!0,src:D.userInfo.avatarUrl}),r.a.createElement("span",null,D.userInfo.name))),r.a.createElement(m.a,{size:16,userAuthInfo:null===(g=D.userInfo)||void 0===g?void 0:g.userAuthInfo}),r.a.createElement("div",{className:"time"},Object(u.k)(D.timestamp)),!M&&!D.showSubscribe&&(null===(v=D.userInfo)||void 0===v?void 0:v.isFollow)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dot"},"\xb7"),r.a.createElement("div",{className:"text"},"\u5df2\u5173\u6ce8")),!ee&&(null===(y=D.userInfo)||void 0===y||null===(w=y.userAuthInfo)||void 0===w?void 0:w.auth_info)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dot"},"\xb7"),r.a.createElement("div",{className:"user-auth-desc",title:null===(E=D.userInfo)||void 0===E||null===(k=E.userAuthInfo)||void 0===k?void 0:k.auth_info},null===(I=D.userInfo)||void 0===I||null===(x=I.userAuthInfo)||void 0===x?void 0:x.auth_info)),!M&&D.showSubscribe&&r.a.createElement("div",{className:"subscribe-wrapper"},r.a.createElement(O,{userInfo:D.userInfo,onSubscribe:V}))),r.a.createElement("p",{className:"content"},r.a.createElement(C.a,{href:D.articleUrl,target:"_blank",rel:"noopener",logInfo:R,onClick:H,dangerouslySetInnerHTML:{__html:$||"[\u65e0\u6587\u5b57]"}},null))),X>3&&r.a.createElement("ul",{className:"covers-list"},Z.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(b.a,{cover:e,articleUrl:D.articleUrl,number:t===Z.length-1&&X>4?X-4:0,numberDirection:"middle",logInfo:R,onClickToDetail:H}))}))),U||r.a.createElement(p.a,{commentType:D.commentType,originGroup:D.originGroup,originThread:D.originThread,originUgcVideo:D.originUgcVideo,originCommonContent:D.originCommonContent,logInfo:R,onClick:J}),r.a.createElement("div",{className:"feed-card-wtt-footer"},L||r.a.createElement(j.a,{leftTools:[r.a.createElement(A.e,{key:"share",data:D,wttRepostParams:{fw_id_type:2,opt_id_type:2,repost_type:212},onSuccess:z,onShareAction:q,onWttSubmit:G}),r.a.createElement(A.b,{key:"comment",styleType:"2",commentCount:D.commentCount,articleUrl:D.articleUrl,logInfo:R,onClickToDetail:H}),r.a.createElement(A.d,{key:"like",groupId:D.groupId,likeCount:D.likeCount,isLiked:!!D.userDigg,diggType:D.subType===f.a.UGC?s.c.WTT:s.c.COMMENT,onLikeChange:Q})],rightTools:[!W&&r.a.createElement(A.c,{key:"dislike",data:{itemId:D.itemId,groupId:D.groupId,filterWords:D.filterWords||[],source:s.g.WTT},onDislike:F,onDislikeClick:K})]})))}},b65c96faf0c123cf88e4:function(e,t,n){"use strict";var a=n("b28d054028530bf1d2eb"),r=n.n(a),o=n("69084d01d3449fc1bc27"),i=n.n(o),c=n("174811872339f1d02c40"),l=n.n(c),u=(n("1b6e0af22b27be14137b"),n("961c4bd7537eab329729")),s=n.n(u),f=["p3.toutiaoimg.com","p6.toutiaoimg.com","p9.toutiaoimg.com"];var d=n("be6323750fae7868d676"),m=n("4e16ef1abe038022cfb8"),p=n("38c58096afa111fcdfd2");t.a=function(e){var t,n,a=Object(o.useRef)(null),c=Object(o.useRef)(0),u=Object(o.useRef)((n=t&&s()(t)||[].concat(f),function(e){var t;if(!e)return e;var a=null===(t=e.match(/\/\/(.+com)\//))||void 0===t?void 0:t[1],r=n.shift();return a&&r?e.replace(a,r):e})),b=Object(o.useMemo)((function(){var t,n=e.cover;if(!n)return n;var a=null===(t=n.match(/\/\/(.+com)\//))||void 0===t?void 0:t[1];return"p26.toutiaoimg.com"===a&&(n=n.replace(a,"p3.toutiaoimg.com")),n}),[e.cover]),h=Object(o.useCallback)((function(e,t){if(!(c.current>=3)&&b){var n=t||(null==e?void 0:e.target),a=function(e,t){if(!e||!t)return e;var n=e.split("?"),a=n[0].replace(/\.[a-z]*$/,"")+t;return n[1]&&(a+="?".concat(n[1])),a}(b,".jpg");a=u.current(a),n.src=a,c.current+=1,Object(m.c)(r()({name:"load_feed_cover_error",origin:b,retry:a,retryCount:c.current}))}}),[b]);return Object(o.useEffect)((function(){a.current&&(c.current>0||a.current.complete&&!a.current.naturalWidth&&h(null,a.current))}),[h]),b?i.a.createElement("div",{className:l()("feed-card-cover",{"blur-bg":e.hasBlurBackground})},e.hasBlurBackground&&i.a.createElement("div",{className:"blur-cover-bg"},i.a.createElement("img",{src:b,alt:"","aria-hidden":!0})),i.a.createElement(p.a,{href:e.articleUrl,target:"_blank",rel:"noopener",logInfo:e.logInfo,onClick:e.onClickToDetail,title:e.desc,"aria-hidden":!e.desc,tabIndex:e.desc?0:-1,jumpQuery:e.jumpQuery},i.a.createElement("img",{ref:a,src:b,alt:e.alt||"",onError:h})),!!e.number&&i.a.createElement("div",{className:l()("cover-num",{middle:"middle"===e.numberDirection})},i.a.createElement("div",{className:"num"},"middle"===e.numberDirection&&"+",i.a.createElement("span",null,e.number,"bottom"===e.numberDirection&&i.a.createElement(i.a.Fragment,null,"\xa0")),"bottom"===e.numberDirection&&"\u56fe")),!!e.duration&&i.a.createElement("div",{className:"video-placeholder"},i.a.createElement("i",null),i.a.createElement("span",{className:"duration"},Object(d.h)(e.duration,!0)))):null}},b6f62385568b426907ed:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABCBAMAAAAGWI0SAAAAJ1BMVEVHcEzvQEDwQULwQELxQEHwQUHvQEDwQUHvQEDwQUHwQUHwQELwQUJ3RBxpAAAADHRSTlMAI9+FW7kQ70Cgz2+lx2XXAAABmElEQVRIx7WWsU7DMBCGbWgLtAyoC0IwMCEhZWBjYQhCYmJA6oY65AEYgJmhG0Ji4AG6sDPwAF1IWkrTeyjsNCT22ecLA//SKvrknO/+u4sQpuTxSLDqQRqzUBcg3eGgAwDIOGisIHgNMzLSUJ4EoXUA/qj+CgpHdbaCIJQsWTJwFIDWfqGswdtgnvBvAzjh7qZ1R0LDGvpmMhmOfGJAKR+2UnG9OBS2kjaVdCrdiSwoLoLEld4CB+o78U9cSBXgIxB2AelH97gDLCmztNXPzIKuEJSU5bayYN8NciFajrNa6KCFEE/Fn6XPblWBe9WRlV4QdNgZunYfI+j81GM/FDdEHvvhVBr6JC9naOk1JVJd4zYNzcg0eY28QUPzCtqmIfgHqFHgXRrK/5anRhkP1G5aty8NfXlHE9I12b+olUvdkpCxs8gcLIxu2eTdG4jcmlC7fEhkzjNyiJudbEPe9+GlLdm7+caYM8IIJ0wFM+11N42ofW/ojVtT9Kbas8xNfbM8Gwy99vffS2YQ+hSRFzeP8DC4tJ/+ADFNuYdM8+umAAAAAElFTkSuQmCC"},b9e2ac6f626cdcc37066:function(e,t,n){"use strict";n("078450aa17a5c8b07ba0"),n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("2810e53ad7174f3c046d"),n("571991951e321151cc70"),n("8820a3764a10a8c7e743");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=(n("96ef8f9d6deb54673902"),n("abbf799a026c91d8612e")),i=n("98ad94a9d064c7351e07"),c=n("bd8ea4fd9e1bc4efca14"),l=n("20c6f2e62cf94b7db59c");n("ab4a2e590ffd2e3d4656");function u(e){return e.map((function(e){var t,n=e.Url,a=!1;return/^https:\/\/www\.toutiao\.com\/amos_land_page\//.test(e.Url)&&(n="https://www.toutiao.com/trending/".concat(e.ClusterIdStr,"/?rank=").concat(e.rank),a=!0,t=Object(c.b)(void 0,e.Url.split("?")[1]||"")),{id:e.ClusterIdStr,url:n,title:e.Title,label:e.Label,labelDesc:e.LabelDesc,rank:e.rank,isTrendingPage:a,trendingLog:t}}))}function s(e,t,n,a,r){var o=function(e,t,n){if(!e)return[];var a=e.map((function(e,t){return Object.assign(Object.assign({},e),{rank:t+1})}));if(!(null==t?void 0:t.length))return a;var r=t.map((function(e){return{Url:e.Url,Title:e.Title,ClusterIdStr:Object(c.b)("groupid",e.Schema.split("?")[1]),rank:0}}));if("0"===n)return r.concat(a);if("1"===n){var o=Math.floor(Math.random()*t.length);return a.unshift(r[o]),a}return a}(e,t,n),i=function e(t,n,a,r){var o=r;window.innerHeight>=750&&0===a&&(o+=n);var i=t.slice(a,a+o);return i.length<5?e(t,n,0,r):{list:i,offset:a+o>=t.length?0:a+o}}(o,o.length-e.length,a,r);return{offsetList:u(i.list),offsetNum:i.offset}}var f=n("174811872339f1d02c40"),d=n.n(f),m=function(e){var t=e.title,n=e.loading,a=e.onClick;return r.a.createElement("div",{className:"title-bar"},r.a.createElement("h2",{className:"title"},t),r.a.createElement("button",{type:"button",className:d()("refresh",{loading:n}),onClick:a},"\u6362\u4e00\u6362"))},p=n("4948fbe5c6d0ea899cb0");function b(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){b(o,a,r,i,c,"next",e)}function c(e){b(o,a,r,i,c,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=Object(a.forwardRef)((function(e,t){var n=e||{},u=n.count,f=void 0===u?10:u,d=n.logParams,b=n.onClickItem,g=n.onSuccess,v=n.onEnd,y=Object(a.useRef)(null),w=Object(a.useRef)(!1),E=Object(a.useRef)(0),k=_(Object(a.useState)([]),2),O=k[0],j=k[1],A=_(Object(a.useState)(!1),2),C=A[0],I=A[1],x=Object(a.useRef)({impr_id:"",group_format:"amos_land"});function T(e){Object(i.a)("category_refresh",Object.assign(Object.assign({},d),{section:"hot_spot",reload_type:"change",is_null:e}))}function S(e,t){return N.apply(this,arguments)}function N(){return(N=h(regeneratorRuntime.mark((function e(t,n){var a,r,i,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.current){e.next=2;break}return e.abrupt("return");case 2:return w.current=!0,I(!0),e.prev=4,e.next=7,o.a.hotboard.getHotBoard();case 7:a=e.sent,"success"===(r=a.data).status&&(i=void 0===t?E.current:t,c=s(r.data,r.fixed_top_data,r.fixed_top_style,i,f),l=c.offsetList,u=c.offsetNum,j(l),E.current=u,null==g||g(),x.current.impr_id=r.impr_id),"change"===n&&T(0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),"change"===n&&T(1);case 17:return e.prev=17,null==v||v(),w.current=!1,I(!1),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,13,17,22]])})))).apply(this,arguments)}function D(e){Object(i.a)("detail_page_widget_click",{group_id:d.from_gid||"",widget_name:"hot_board_card",from_position:e})}function R(e,t){Object(i.a)("content_click",Object.assign(Object.assign({},d),{log_pb:JSON.stringify(Object.assign(Object.assign(Object.assign({},"string"==typeof d.log_pb&&Object(c.e)(d.log_pb)),x.current),{group_id:e.id})),area:"toutiao_hot",gid:e.id,href:e.url,show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0",channel_id:"94349542854"})),D("list"),null==b||b(e);var n=Object(l.a)()||{},a=n.enter_from,r=void 0===a?"":a,o=n.category_name,u=void 0===o?"":o;if(0===e.rank){t.preventDefault();var s=Object(l.b)(e.url,Object.assign(Object.assign({},d),{category_name:u||d.category_name,enter_from:r||d.enter_from,channel_id:"94349542854",from_page_name:d.page_name,show_rank:e.rank||0,is_top_content:0===e.rank?"1":"0",section:"hot_spot"}));window.open(s)}e.isTrendingPage&&(t.preventDefault(),function(e){var t=Object(l.b)(e.url,Object.assign({},e.trendingLog));window.open(t)}(e))}return Object(a.useEffect)((function(){S()}),[]),Object(a.useImperativeHandle)(t,(function(){return{dom:y.current,refresh:function(){S(0)}}})),r.a.createElement("div",{className:"ttp-hot-board",ref:y},r.a.createElement(m,{title:"\u5934\u6761\u70ed\u699c",loading:C,onClick:function(){S(void 0,"change"),D("change")}}),r.a.createElement("ol",null,O.map((function(e){return r.a.createElement(p.a,{once:!0,key:e.id,onVisible:function(t){t&&function(e){var t=Object(l.a)()||{},n=t.enter_from,a=void 0===n?"":n,r=t.category_name,o=void 0===r?"":r;Object(i.a)("client_show",Object.assign(Object.assign({category_name:o,enter_from:a},d),{log_pb:JSON.stringify(Object.assign(Object.assign(Object.assign({},"string"==typeof d.log_pb&&Object(c.e)(d.log_pb)),x.current),{group_id:e.id})),show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0",channel_id:"94349542854"}))}(e)}},r.a.createElement("li",null,r.a.createElement("a",{"aria-label":"".concat(e.title,"\uff0c").concat(e.labelDesc||""),className:"article-item",href:e.url,target:"_blank",rel:"noopener nofollow",onClick:function(t){return R(e,t)}},0===e.rank&&r.a.createElement("i",{className:"icon-stick"}),0!==e.rank&&r.a.createElement("span",{className:"news-index num-".concat(e.rank)},e.rank),r.a.createElement("p",{className:"news-title",title:e.title},e.title),e.label&&r.a.createElement("i",{className:"news-icon ".concat(e.label)}))))}))))}));v.defaultProps={count:10};t.a=v},ba5c9f6f094cd420b97f:function(e,t,n){"use strict";var a=n("2fadeaed9bdb1dd22487"),r=n.n(a),o=n("69084d01d3449fc1bc27"),i=n.n(o),c=n("174811872339f1d02c40"),l=n.n(c),u=(n("2cfd2ca28fcaddaf4ef6"),n("19e1e56018f7274819f9")),s=n.n(u),f={hotList:{imgUrl:n("b6f62385568b426907ed"),title:"\u5934\u6761\u70ed\u699c"},hotVideo:{imgUrl:n("1f905cf4bd7dbd1c2573"),title:"\u70ed\u95e8\u89c6\u9891"}};t.a=function(e){var t=e.type,n=e.className,a=e.title,c=e.right,u=e.onClick,d=f[t]||{},m=d.imgUrl,p=d.title,b=Object(o.useState)(0),h=r()(b,2),_=h[0],g=h[1],v=i.a.createElement("button",{type:"button",className:"right","aria-label":"\u6362\u4e00\u6362".concat(a||p),onClick:function(){g(_+180),null==u||u()}},i.a.createElement("img",{src:s.a,style:{transform:"rotate(".concat(_,"deg)")},alt:""}),i.a.createElement("span",null,"\u6362\u4e00\u6362"));return i.a.createElement("div",{className:l()("pane-header",n)},i.a.createElement("h2",{className:"header"},i.a.createElement("img",{src:m,alt:a}),a||p),c||v)}},bd2fde4974422a1bea97:function(e,t,n){},bd59e351304c36b262a0:function(e,t,n){},bd8ea4fd9e1bc4efca14:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h}));n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("83c36420ff8b0b9e1e06"),n("e563096b1bb44e244cf6"),n("8820a3764a10a8c7e743"),n("949e90892ef33ac1c1ae"),n("42eee083f5c47e0e1e4f"),n("509dfa66ded6e9f07cba"),n("6a44db37054cf3d0f845"),n("71096cf209b72c63e10e"),n("853546f85d48f84291bf"),n("573c5686f1fb233d5b7d"),n("ab4a2e590ffd2e3d4656"),n("56a99803a9beb309f214");function a(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||c(e,t)||i()}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return u(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e){if(Array.isArray(e))return e}function s(e,t){var n,a=0;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var c=Date.now();c-a>=t?(e.apply(void 0,o),a=c):(clearTimeout(n),n=setTimeout((function(){a=c,e.apply(void 0,o)}),t))}}function f(e,t){void 0===t&&(t="undefined"!=typeof window?window.location&&window.location.search.substr(1):"");var n={};return t&&t.split("&").forEach((function(e){if(""!==e){var t=o(e.split("=")),a=t[0],r=t.slice(1),i=decodeURIComponent(a),c=decodeURIComponent(r.join("="));if(i.match(/\[\]$/)){var l=i.replace(/\[\]$/,"");n[l]&&n[l]instanceof Array?n[l].push(c):n[l]=[c]}else n[i]=c}})),e?n[e]:n}function d(e,t,n){if(void 0===t||0===Object.keys(t).length)return e;var o,i=a(e.split("?"),2),c=i[0],l=i[1],u=void 0===l?"":l;if(u){var s=a(u.split("#"),2);u=s[0];var d=s[1];o=void 0===d?"":d}else{var m=a(e.split("#"),2);c=m[0];var p=m[1];o=void 0===p?"":p}var b=f(void 0,u);return u=(u=function(e,t){for(var n=[],a=function(){var a=i[o],c=e[a];null!=c&&("object"===r(c)?t&&c instanceof Array&&c.every((function(e){return"object"!==r(e)}))?c.forEach((function(e){n.push("".concat(encodeURIComponent(a),"[]=").concat(encodeURIComponent(e)))})):n.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(JSON.stringify(c)))):n.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(c))))},o=0,i=Object.keys(e);o<i.length;o++)a();return n.join("&")}(b=Object.assign(b,t),n))&&"?".concat(u),o=o&&"#".concat(o),"".concat(c).concat(u).concat(o)}function m(e){try{return JSON.parse(e)}catch(t){return null}}function p(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t),a="".concat(Math.floor(e*n));return"".concat(a.slice(0,-t),".").concat(a.slice(-t))}function b(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var o="".concat(e);if(o.indexOf(".")>=0){var i=o.split("."),c=a(i,2),l=c[0],u=c[1];return"".concat(l.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(u.replace(/\d{3}\B/g,"$&,"))}return o.replace(/(?=\B(?:\d{3})+$)/g,",")}return"number"!=typeof e&&(e=parseFloat(e)?parseFloat(e):0),e<1e4?"".concat(e):e<1e5&&r?"0"===(n=p(e/1e4,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4e07"):"".concat(n,"\u4e07"):e<1e8?"".concat(Math.floor(e/1e4),"\u4e07"):e<1e9&&r?"0"===(n=p(e/1e8,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4ebf"):"".concat(n,"\u4ebf"):"".concat(Math.floor(e/1e8),"\u4ebf")}function h(e){var t;if(!e)return!1;var n=e.getAttribute("contentEditable");return["input","textarea"].includes(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())||""===n||"true"===n}},bdda8f8827364032ec38:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("078450aa17a5c8b07ba0"),n("509dfa66ded6e9f07cba"),n("71096cf209b72c63e10e");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss",n=new Date(e),r=n.getFullYear(),o=n.getMonth()+1,i=n.getDate(),c=n.getHours(),l=n.getMinutes(),u=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(o),MM:a(o),Y:"".concat(r),d:"".concat(i),dd:a(i),h:"".concat(c),hh:a(c),m:"".concat(l),mm:a(l),s:"".concat(u),ss:a(u),y:"".concat(r%100)}[e]}))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Date.now()/1e3,n=t-e,a=60*(new Date).getTimezoneOffset(),o=~~((t-a)/86400),i=~~((e-a)/86400),c=1e3*e;if(n<60)return"\u521a\u521a";if(n<3600)return Math.floor(n/60)+"\u5206\u949f\u524d";if(n<86400)return Math.floor(n/60/60)+"\u5c0f\u65f6\u524d";if(o-i==1)return"\u6628\u5929"+r(c,"hh:mm");if(o-i==2)return"\u524d\u5929"+r(c,"hh:mm");if(o-i<=9)return o-i+"\u5929\u524d";var l=new Date(1e3*t).getFullYear(),u=new Date(1e3*e).getFullYear();return r(c,l===u?"MM\u6708dd\u65e5":"Y\u5e74MM\u6708dd\u65e5")}function i(e){return new Promise((function(t){return setTimeout((function(){return t(void 0)}),e)}))}},be6323750fae7868d676:function(e,t,n){"use strict";n.d(t,"m",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"r",(function(){return O})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return A})),n.d(t,"i",(function(){return C})),n.d(t,"e",(function(){return I})),n.d(t,"j",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"n",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"o",(function(){return D})),n.d(t,"p",(function(){return R})),n.d(t,"s",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"f",(function(){return P})),n.d(t,"q",(function(){return W})),n.d(t,"a",(function(){return F}));var a=n("39d939a1c9f24cd7173d"),r=n.n(a),o=n("56c1dc570fb02868cb13"),i=n.n(o),c=n("2fadeaed9bdb1dd22487"),l=n.n(c),u=n("b28d054028530bf1d2eb"),s=n.n(u),f=n("b8700223423b1ff357c3"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("4905f80144af6010629a"),h=n.n(b),_=n("d7e90d03481b7d01b956"),g=n.n(_);function v(e,t){void 0===t&&(t="undefined"!=typeof window?window.location&&window.location.search.substr(1):"");var n={};return t&&t.split("&").forEach((function(e){if(""!==e){var t=e.split("="),a=g()(t),r=a[0],o=a.slice(1),i=decodeURIComponent(r),c=decodeURIComponent(o.join("="));if(i.match(/\[\]$/)){var l=i.replace(/\[\]$/,"");n[l]&&n[l]instanceof Array?n[l].push(c):n[l]=[c]}else n[i]=c}})),e?n[e]:n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss",n=new Date(e),a=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),i=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(r),MM:y(r),Y:"".concat(a),d:"".concat(o),dd:y(o),h:"".concat(i),hh:y(i),m:"".concat(c),mm:y(c),s:"".concat(l),ss:y(l),y:"".concat(a%100)}[e]}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y(~~(e%60));if(t){var a=y(~~(e/3600)),r=y(~~(e/60)%60);if("00"!==a)return"".concat(a,":").concat(r,":").concat(n)}var o=y(~~(e/60));return"".concat(o,":").concat(n)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=h()()/1e3,n=t-e,a=60*(new Date).getTimezoneOffset(),r=~~((t-a)/86400),o=~~((e-a)/86400),i=1e3*e;if(n<60)return"\u521a\u521a";if(n<3600)return"".concat(Math.floor(n/60),"\u5206\u949f\u524d");if(n<86400)return"".concat(Math.floor(n/60/60),"\u5c0f\u65f6\u524d");if(r-o==1)return"\u6628\u5929".concat(w(i,"hh:mm"));if(r-o==2)return"\u524d\u5929".concat(w(i,"hh:mm"));if(r-o<=9)return"".concat(r-o,"\u5929\u524d");var c=new Date(1e3*t).getFullYear(),l=new Date(1e3*e).getFullYear();return w(i,c===l?"MM\u6708dd\u65e5":"Y\u5e74MM\u6708dd\u65e5")}function O(e,t,n){if(void 0===t||0===p()(t).length)return e;var a,r=e.split("?"),o=l()(r,2),c=o[0],u=o[1],f=void 0===u?"":u;if(f){var m=f.split("#"),b=l()(m,2);f=b[0];var h=b[1];a=void 0===h?"":h}else{var _=e.split("#"),g=l()(_,2);c=g[0];var y=g[1];a=void 0===y?"":y}var w=v(void 0,f);return f=(f=function(e,t){for(var n=[],a=function(){var a=o[r],i=e[a];null!=i&&("object"===d()(i)?t&&i instanceof Array&&i.every((function(e){return"object"!==d()(e)}))?i.forEach((function(e){n.push("".concat(encodeURIComponent(a),"[]=").concat(encodeURIComponent(e)))})):n.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(s()(i)))):n.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(i))))},r=0,o=p()(e);r<o.length;r++)a();return n.join("&")}(w=i()(w,t),n))&&"?".concat(f),a=a&&"#".concat(a),"".concat(c).concat(f).concat(a)}function j(e){try{return JSON.parse(e)}catch(t){return null}}function A(e,t){var n,a=0;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var c=h()();c-a>=t?(e.apply(void 0,o),a=c):(clearTimeout(n),n=setTimeout((function(){a=c,e.apply(void 0,o)}),t))}}function C(e){return e?0===e.indexOf("http://")?e.substr(5):e:""}function I(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t),a="".concat(Math.floor(e*n));return"".concat(a.slice(0,-t),".").concat(a.slice(-t))}function x(e,t){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var o="".concat(e);if(o.indexOf(".")>=0){var i=o.split("."),c=l()(i,2),u=c[0],s=c[1];return"".concat(u.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(s.replace(/\d{3}\B/g,"$&,"))}return o.replace(/(?=\B(?:\d{3})+$)/g,",")}return"number"!=typeof e&&(e=r()(e)?r()(e):0),e<1e4?"".concat(e):e<1e5&&a?"0"===(n=I(e/1e4,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4e07"):"".concat(n,"\u4e07"):e<1e8?"".concat(Math.floor(e/1e4),"\u4e07"):e<1e9&&a?"0"===(n=I(e/1e8,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4ebf"):"".concat(n,"\u4ebf"):"".concat(Math.floor(e/1e8),"\u4ebf")}function T(e){for(var t=0,n=0,a=e;null!==a&&a!==document.body;)t+=a.offsetLeft,n+=a.offsetTop,a=a.offsetParent;return{left:t,top:n}}function S(){return Math.floor(h()()/1e3)}function N(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return"";var n=864e5,a=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],r=new Date(1e3*Number(e)+t*n).getDay();return a[r]}function R(e){if(!e)return!1;var t=window.innerWidth,n=window.innerHeight,a=null==e?void 0:e.getBoundingClientRect(),r=a.top,o=a.left;return!!a.height&&(r>0&&r<n&&o>0&&o<t)}function L(e){return e?e.replace(/^http[s]?:/,""):""}function U(){}function M(e){return e?Array.prototype.slice.call(e.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")})):[]}function P(e,t){var n,a=-1;(t.some((function(t,n){return t===e&&(a=n,!0)})),a<0)||(null===(n=t[(a+1)%t.length])||void 0===n||n.focus())}function W(e){return!!e&&(new Date).setHours(0,0,0,0)===new Date(e).setHours(0,0,0,0)}var B=function(e){return Object.prototype.toString.call(e).slice(8,-1)};function F(e,t){if("object"===d()(e)&&null!==e&&"object"===d()(t)&&null!==t){if(B(e)!==B(t))return!1;switch(B(e)){case"Object":var n=p()(e);return n.length===p()(t).length&&n.every((function(n){return F(e[n],t[n])}));case"Array":return e.length===t.length&&e.every((function(e,n){return F(e,t[n])}));case"RegExp":return e.toString()===t.toString();case"Date":return!(e-t);case"String":case"Boolean":case"Number":return e.valueOf()===t.valueOf();default:return e===t}}return e===t}},c0148195f357fac179f5:function(e,t,n){},c0c721f9f12a8d2dd2bc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("69084d01d3449fc1bc27");function r(e){Object(a.useEffect)(e,[])}},c1c90d8f2436b65746ff:function(e,t,n){"use strict";n("078450aa17a5c8b07ba0"),n("509dfa66ded6e9f07cba"),n("2810e53ad7174f3c046d"),n("8820a3764a10a8c7e743");var a=n("214eccfc06814c553a3c"),r=n.n(a),o=n("626346d0a60969063da7"),i=n.n(o),c=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"],l=["/hot-event/hot-board/","/api/pc/user/follow","/browser/2/"];function u(e,t){var n,a,r="".concat(location.protocol,"//").concat(location.host);(function(e){return!l.some((function(t){return e.indexOf(t)>-1}))})(e)&&(r+="/toutiao");var o={url:r+e};return t.data&&(o.body=t.data),(null===(a=null===(n=window.byted_acrawler)||void 0===n?void 0:n.sign)||void 0===a?void 0:a.call(n,o))||""}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.show=!1,this.success=!1,this.waitVerify=null}var t,n,a;return t=e,(n=[{key:"verify",value:function(e){var t=this;return this.waitVerify=new Promise((function(n){var a;t.show=!0,a={verifyData:e,successCb:function(){t.show=!1,t.success=!0,n()},closeCb:function(){t.show=!1,t.success=!1,n()}},window.TTGCaptcha&&window.TTGCaptcha.render({verify_data:a.verifyData,captchaOptions:{app_name:"toutiao_web",showMode:"mask",successCb:function(e){var t;null===(t=a.successCb)||void 0===t||t.call(a,e)},errorCb:function(e){var t;null===(t=a.errorCb)||void 0===t||t.call(a,e)},closeCb:function(){var e;null===(e=a.closeCb)||void 0===e||e.call(a)}}})})),this.waitVerify}},{key:"waitVerifyFinish",value:function(){var e=this;return new Promise((function(t){e.waitVerify?e.waitVerify.then((function(){t()})):t()}))}}])&&s(t.prototype,n),a&&s(t,a),e}()),d=n("a9b386aa9e5908dda673");function m(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}var p=r.a.create({timeout:1e4});p.interceptors.request.use((function(e){return e})),p.interceptors.request.use((function(e){return"post"===e.method&&(e.headers=Object.assign(Object.assign({},e.headers),{"X-CSRFToken":i.a.get("csrftoken"),"tt-anti-token":i.a.get("tt_anti_token")})),e})),p.interceptors.request.use((function(e){var t;if(!function(e){return!e||!c.some((function(t){return e.indexOf(t)>-1}))}(e.url))return e;(null===(t=e.params)||void 0===t?void 0:t._signature)&&delete e.params._signature;var n=u(p.getUri(e),e);return e.params=Object.assign(Object.assign({},e.params),{_signature:n}),e})),p.interceptors.response.use(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.decision)){e.next=19;break}if(f.show){e.next=13;break}return Object(d.a)("show-captcha",{type:"api"}),e.next=6,f.verify(a);case 6:if(!f.success){e.next=11;break}return Object(d.a)("pass-captcha",{type:"api"}),e.next=10,p.request(t.config);case 10:return e.abrupt("return",e.sent);case 11:e.next=19;break;case 13:return e.next=15,f.waitVerifyFinish();case 15:if(!f.success){e.next=19;break}return e.next=18,p.request(t.config);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,c,"next",e)}function c(e){m(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());t.a=p},c1efef93a80a4cdf189f:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));n("83c36420ff8b0b9e1e06"),n("e563096b1bb44e244cf6");var a,r=n("2c18967c0e862cf8b7d2"),o=n("80163d0657a0dbb02e68"),i=n("bd8ea4fd9e1bc4efca14");function c(){var e,t;return window.sessionStorage.getItem("__ac_referer")||(window.byted_acrawler?null===(t=(e=window.byted_acrawler).getReferer)||void 0===t?void 0:t.call(e):document.referrer)}function l(){var e;return o.b&&!(null===(e=c())||void 0===e?void 0:e.includes("www.toutiao.com"))}function u(){return function(){if(!o.b)return!1;var e=c()||"";return r.a.some((function(t){return e.includes(t)}))}()?a.SEO:"m_redirect"===Object(i.b)("source")?a.MOBILE:a.UNKNOWN}!function(e){e[e.SEO=0]="SEO",e[e.MOBILE=1]="MOBILE",e[e.UNKNOWN=2]="UNKNOWN"}(a||(a={}))},c32dc719ced889e8de03:function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("b28d054028530bf1d2eb"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("2fadeaed9bdb1dd22487"),y=n.n(v),w=n("69084d01d3449fc1bc27"),E=n.n(w),k=n("174811872339f1d02c40"),O=n.n(k),j=(n("ae17adf1c28fabf1305a"),n("fb622297466e7a637f99")),A=n("41e81a6b6b2e87160a0d"),C=n("53955f9dab771af04369");function I(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l.a?i()(e,l()(n)):I(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n,a,r=e.cell,o=e.logParams,i=e.disableDislike,c=void 0!==i&&i,l=e.onDislike,u=e.onItemClick,s=Object(w.useState)(!1),f=y()(s,2),d=f[0],m=f[1],p={groupId:r.group_id,itemId:r.item_id,articleType:r.article_type,title:r.title,coverUrls:r.is_stick?[]:r.__cover_urls,articleUrl:r.__detail_url,userInfo:r.__user_info,source:r.source,commentCount:r.comment_count,timestamp:r.publish_time,isStick:r.is_stick,stickIndex:r.__stick_index,stickStyle:r.stick_style,filterWords:null===(t=r.filter_words)||void 0===t?void 0:t.filter_words},b={impr_id:null===(n=r.log_pb)||void 0===n?void 0:n.impr_id,impr_type:Object(j.l)(r),group_type:Object(j.k)(p.coverUrls.length),category_name:Object(j.i)(r),enter_from:Object(j.j)(r),from_page_name:o.page_name,channel_id:r.__channel_id,section:r.__log_section||"feed",position:o.position,is_following:(null===(a=r.user_info)||void 0===a?void 0:a.follow)?"1":"0",is_top_content:r.is_stick?"1":"0",show_rank:r.__log_show_rank};return E.a.createElement(A.a,{cell:r},E.a.createElement("div",{className:O()("feed-card-wrapper feed-card-article-wrapper",{visited:d,"sticky-cell":p.isStick&&"list"===o.position})},E.a.createElement(C.a,{data:p,disableDislike:c,logInfo:b,logParams:x(x({},o),{},{enter_from:Object(j.j)(r)}),onDislike:function(e){var t;l(r),Object(j.n)(r,{is_following:(null===(t=r.user_info)||void 0===t?void 0:t.follow)?"1":"0",article_type:"text",position:o.position,dislike_type:e,content_type:"single"})},onClickToDetail:function(){var e,t,n;null==u||u(),m(!0),Object(j.c)(x(x({area:r.__log_area||("all"===(null===(e=r.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:r.group_id,href:r.__detail_url},o),{},{enter_from:Object(j.j)(r),category_name:Object(j.i)(r),channel_id:null===(t=r.__channel_info)||void 0===t?void 0:t.channelId,impr_id:null===(n=r.log_pb)||void 0===n?void 0:n.impr_id,is_top_content:r.is_stick?"1":"0",section:r.__log_section||("list"===o.position?"feed":"detail_feed"),group_source:r.group_source,article_type:"text",group_id:r.group_id,show_rank:r.__log_show_rank,group_type:Object(j.k)(p.coverUrls.length),log_pb:h()(r.log_pb)}))},onDislikeClick:function(){var e;Object(j.g)(r,{is_following:(null===(e=r.user_info)||void 0===e?void 0:e.follow)?"1":"0",article_type:"text",position:o.position})}})))}},c3cdc631e8328a3bec0b:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n("4905f80144af6010629a"),r=n.n(a),o=n("a79cb04363dcc4858702"),i=n.n(o);function c(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function l(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}function u(e,t){var n=t||{},a=n.container,o=void 0===a?window:a,c=n.callback,l=n.duration,u=void 0===l?450:l,s="number"==typeof o.scrollY?o.scrollY:o.scrollTop,f=r()();i()((function t(){var n,a,l,d=r()()-f,m=(n=d>u?u:d,l=e-(a=s),(n/=u/2)<1?l/2*n*n*n+a:l/2*((n-=2)*n*n+2)+a);o===o.window?o.scrollTo(window.scrollX,m):o instanceof Document?o.documentElement.scrollTop=m:o.scrollTop=m,d<u?i()(t):c&&c()}))}},c738d84fb2ca4e899e30:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2BAMAAAB+a3fuAAAAKlBMVEVHcEzwQELwQUHwQUHxQUHvQEDwQULwQULvQEDvQEDwQUL////4pqb+8/MmMiXbAAAACnRSTlMAa9zvn0CAuiAQEKy3WAAAAS1JREFUOMuVlL9OwzAQxg0FlLESYmFiYMpUJAaaCdGNKV2ZWNsXqJQpEo9QqXuclEgWPIHpC4B4Adq+C4bE9p1jX5VvO/2k8/n+fIwZTR9iwRcXrKvTiWh0m7polQgtPsToyCIXRpmA4jlg5wLrxqIz4erZsMcOqzQ6EV3dt2zuYa9t/cKn5h8vXnb3z2Ivq8Mpm6THATZW7NKGb/tPXCl47kt+2KBUcwNptnIDohQ1RUqJWjMIshF7CrI1LNNhBcuCrCIYN9/7llo7w3RLpJVujmbvgP30YN6cVC1x8A812k2XUT2jek3NiJottRMsCewSx5eCdrBQbBnY3asDO88yL+IHb4y6TeqmSS+gPIT0HsqzWIT9oM6RR0JYugZqYTnr4cl/Xr5QXn4NvPwXq3r4V+Xp/64AAAAASUVORK5CYII="},c9cd1e0339c82648866e:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("9e2b00f39951034d6dad"),n("7b6d7603f1e7e154d3b7"),n("fde25bdc512ee328bbc7"),n("8820a3764a10a8c7e743");var a=n("69084d01d3449fc1bc27"),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,n,a,r=u(o);function o(){return i(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"componentDidCatch",value:function(e,t){var n,a;window.Slardar&&(window.Slardar("captureException",e,Object.assign({type:"ErrorBoundary-catch-error",stackInfo:t.componentStack},this.props.extraReportParams)),null===(a=(n=this.props).onError)||void 0===a||a.call(n,e,t))}},{key:"render",value:function(){return this.props.children}}])&&c(t.prototype,n),a&&c(t,a),o}(r.a.Component);function m(e,t){var n=function(n){return r.a.createElement(d,Object.assign({},t),r.a.createElement(e,Object.assign({},n)))},a=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary(".concat(a,")"),n}},cb1df0af3c49a4eae849:function(e,t,n){},cd614ef011545c6d16a0:function(e,t,n){},cee282056923df468c92:function(e,t,n){},d1168368cb87a97d8ea2:function(e,t,n){"use strict";n.d(t,"b",(function(){return U}));var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("2fadeaed9bdb1dd22487"),g=n.n(_),v=n("69084d01d3449fc1bc27"),y=n.n(v),w=n("174811872339f1d02c40"),E=n.n(w),k=n("20c6f2e62cf94b7db59c"),O=n("583766baffb257cbf38f"),j=n("62ea6c1add15eea97123"),A=n("c1efef93a80a4cdf189f"),C=n("b4d0aca2d3771c85657d"),I=(n("e101535ac9d197332c92"),n("c3cdc631e8328a3bec0b")),x=n("6cf195ddfada1b0033e1"),T=n("be6323750fae7868d676"),S=n("73f40e49daf0622f890e"),N=n("6f7c19fbb5122ede4b67");function D(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):D(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}function L(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),t())}function U(){Object(S.b)("__is_visited_home","1")}var M=y.a.forwardRef((function(e,t){var n=e.logParams,a=e.showHome,r=e.showRefresh,o=e.isFeedbackShow,i=e.abtestInfo,c=e.refresh,l=e.onFeedbackClick,u=e.getPercent,s=Object(v.useState)(!1),f=g()(s,2),d=f[0],m=f[1],p=Object(v.useState)(!1),b=g()(p,2),h=b[0],_=b[1],w=Object(v.useRef)(null),D=Object(v.useRef)(null),U=Object(v.useRef)(-1),M=Object(v.useRef)({}),P=Object(v.useRef)(!1);Object(v.useEffect)((function(){var t;if(e.showHomeBubble){var n=(null==i||null===(t=i.parameters.random_source)||void 0===t?void 0:t.home_popups)||!1,a=!("1"===Object(S.a)("__is_visited_home"))&&Object(A.c)()&&n;P.current=a,_(a)}}),[]);var W=Object(v.useCallback)((function(e){null==e||e.stopPropagation(),_(!1)}),[]);function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=Object(k.a)()||{},o=r.channel_id;Object(x.a)("function_bar_click",R(R({channel_id:o},n),{},{action_type:t,section:"function_bar",click_type:e},a?{}:{is_top_page:d?"0":"1"}))}function F(){var e;B("feed_page");var t=(null==i||null===(e=i.parameters.random_source)||void 0===e?void 0:e.home_sticked)||!1,n=Object(T.r)("//www.toutiao.com",R({},t&&P.current?{source:"random_toolbar"}:{}));W(),window.open(n,"_self")}function V(){B("top"),Object(I.a)(0)}function Q(){B("refresh"),null==c||c()}function H(){B("feedback"),l()}function z(e){B(e,"hover")}function K(e){Object(x.a)("home_page_push",{action_type:e,impr_id:n.impr_id,group_id:n.group_id,percent:null==u?void 0:u(),page_name:n.page_name})}return Object(v.useEffect)((function(){var e=window.innerHeight,t=Object(T.u)((function(){Object(I.c)()>e?m(!0):(w.current&&(w.current.style.display="none",U.current=window.setTimeout((function(){w.current&&(w.current.style.display="inherit")}),350)),m(!1))}),300);return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[]),Object(v.useEffect)((function(){if(D.current)if(o){var e=Object(O.a)();M.current=Object(j.a)({paddingRight:"".concat(e,"px")},D.current)}else Object(j.a)(M.current,D.current)}),[o]),Object(N.a)((function(){setTimeout((function(){K(h?"show":"disappear")}),300)}),[h]),Object(v.useImperativeHandle)(t,(function(){return{closeHomeBubble:W}})),y.a.createElement("div",{className:"toolbar",ref:D},y.a.createElement("ul",{className:"tool-container",style:d?{transform:"translateY(-52px)"}:{}},a&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53bb\u9996\u9875",className:"tool-item home",onClick:F,onMouseEnter:function(){return z("feed_page")},onKeyDown:function(e){return L(e,F)}},y.a.createElement(C.a,{visible:h,transformOrigin:"141px center",minScale:0},y.a.createElement("div",{className:"bubble",onClick:function(){K("click")}},"\u70b9\u51fb\u56de\u5230\u5934\u6761\u9996\u9875",y.a.createElement("button",{className:"icon-close",type:"button",onClick:W}))),"\u9996\u9875"),r&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u5237\u65b0",className:"tool-item refresh",onClick:Q,onMouseEnter:function(){return z("refresh")},onKeyDown:function(e){return L(e,Q)}},"\u5237\u65b0"),y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53cd\u9988",className:"tool-item feedback",onClick:H,onMouseEnter:function(){return z("feedback")},onKeyDown:function(e){return L(e,H)}},"\u53cd\u9988"),y.a.createElement("li",{ref:w,tabIndex:0,role:"button","aria-label":"\u56de\u5230\u9876\u90e8",className:E()("tool-item top",{show:d}),onClick:V,onMouseEnter:function(){return z("top")},onKeyDown:function(e){return L(e,V)}},"\u9876\u90e8")))}));t.a=M},d1de1ecd4cfc41254218:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABvFBMVEVHcEz25qTk0JXnxWXs04vktmTlzXP89t337Lr+/OD69M3eqFf53I316pzu46vu3H/Yrn3owH7UrFrftWjx166xkHz7x2fcrGrgvovz6ZLcp1nkvFnTk3DZr4LKhFvDfz7jrFPnvGzbnFHoxnz/+dDqw3r/74bktoCaaVyfaFXRrnbqvlkABHjVHhjWPCEFAWQBAW3qxmDmv1HvzGPw1nHkslTuy2zdm0T/1FXWAgjNAALcSSbWZDTquVDuyVnmuFjfo0rrsEnluF3VkkPdkkbUh0D8xVS5kVp2eX//3WDklTjUxXVreYnrXyPtgjvqcDLEun+Ujn3143PpwWDjrVPTLhw5FDjVdC/yoEHjrUqTeFpRNlHdhTXDEgpZVnPJJxNkEUPREg7MPSfYVi7URCj9LA/acTi7ABA8H0h7ipcAEpBzY2EZN5D2qjy7TCYAAID9vUbuvlDWjjzzfCjYnlj8jizXkVOsonP/723twmKTYDa0o2aptJHJWSr/vmBODk6NhnfFUiReWWbGPh1MADmxDg770m//0maBWDqEaUrEazOeXzCjfVKnjVm1gD/TvIfFrnz8zGSjmYTOeDoOTxX1AAAAK3RSTlMAKgLukeT5HEEIW8a2PIDnrMb6/GnOwuCcq+v0FEhdnOS80vtM5r6x+/dvgk6cRwAAAWVJREFUGNNjYIAAdhFRURF2BmTAIaDZ3dHZoyGgghDjdA+r6vL1Fy4Pc+eEibGLRUcVW+pZW0XURPNARRmFM5pKdXVDrRNj63wyVBnBgryB+b2+lqG6iXpWvgEGDYwQzYE6fdaWunp6ulZ63gYeaiA3aOVOynf3s6p1NnJJ9Pc2CLTgAwpKeE3Iyi7Ia7ZJS3P1zNYJyJUACorHmOUY5PmlJNmk+Nvo55h4iQMFhSYXZOqkp9o0hvulphv4uLmyAgXVzSf2Z7W0xsbHWycl6AS0mbIABQVdQtozdfT16xP09XU8PJ0iBYGCyiVlXmbeUT7VQnFxHpUR5pH8QEEuIwfncDdPCzdHiwqLGGdTOw6Q67mYjVyLjLVNtY1NzF3MmDkg4cZqaGivbRhsrO1gbxIsxQsW5AkycTLVDgm2NXewdzILkoSEJou0rV2ho62jtp2RIT8fEzRAZeTkuZUUWLkVWWTBQgDxBU8MyWNkzgAAAABJRU5ErkJggg=="},d4449abe3d2ba6591a15:function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("20c6f2e62cf94b7db59c"),i=(n("e0e7afec53e5c6f0976a"),n("be6323750fae7868d676")),c=n("42d4f6648edde20f9953");t.a=function(e){var t,n,a,l,u=e.userInfo,s=e.source,f=e.sourceAvatar,d=e.timestamp,m=e.logInfo,p=Object(c.b)(null==u||null===(t=u.userAuthInfo)||void 0===t?void 0:t.auth_type),b="";return u&&(b=u.userSecToken?"/c/user/token/".concat(u.userSecToken,"/"):""),r.a.createElement("div",{className:"feed-card-media-header"},r.a.createElement("div",{className:"feed-card-user-info"},b&&r.a.createElement("a",{href:b,target:"_blank",rel:"noopener nofollow",title:null==u?void 0:u.name,onClick:function(e){if(e.preventDefault(),""!==b){var t=Object(o.b)(b,{section:"detail"===m.position?"detail_related":"feed",position:m.position,enter_from:m.enter_from});window.open(t)}}},r.a.createElement("img",{"aria-hidden":!0,src:null==u?void 0:u.avatarUrl}),r.a.createElement("span",null,null==u?void 0:u.name)),!b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{"aria-hidden":!0,src:f}),r.a.createElement("span",null,s))),r.a.createElement(c.a,{size:16,userAuthInfo:null==u?void 0:u.userAuthInfo}),d&&r.a.createElement("div",{className:"time"},Object(i.k)(d)),!p&&(null==u||null===(n=u.userAuthInfo)||void 0===n?void 0:n.auth_info)&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement("div",{className:"dot"},"\xb7"),r.a.createElement("div",{className:"user-auth-desc",title:null==u||null===(a=u.userAuthInfo)||void 0===a?void 0:a.auth_info},null==u||null===(l=u.userAuthInfo)||void 0===l?void 0:l.auth_info)))}},d5c06b6cf3948fb34e9d:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("9e2b00f39951034d6dad"),n("7b6d7603f1e7e154d3b7"),n("573c5686f1fb233d5b7d");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=r.a.createContext({disable:!1,expand:!1,listEl:null,buttonEl:null,setListEl:function(){},setButtonEl:function(){},setFocusStatus:function(){},focusListItem:function(){},openMenu:function(){},closeMenu:function(){}}),i=n("9ab2f1ff086dee039972"),c=function(e){var t=e.onFocus,n=e.onBlur,c=e.onMouseEnter,l=e.onMouseLeave,u=e.onKeyDown,s=e.children,f=Object(a.useContext)(o),d=Object(a.useRef)(null);return Object(a.useEffect)((function(){d.current&&f.setButtonEl(d.current)}),[]),r.a.cloneElement(s,{tabIndex:0,role:"button","aria-haspopup":!0,"aria-expanded":f.expand,ref:d,onFocus:function(e){e.stopPropagation(),f.setFocusStatus(!0),null==t||t()},onBlur:function(e){e.stopPropagation(),f.setFocusStatus(!1),null==n||n()},onMouseEnter:function(){f.setFocusStatus(!0),f.openMenu(),null==c||c()},onMouseLeave:function(){f.setFocusStatus(!1),null==l||l()},onKeyDown:function(e){if(!f.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ENTER:case i.a.SPACE:e.preventDefault(),f.openMenu(),f.focusListItem("next");break;case i.a.UP:e.preventDefault(),f.openMenu(),f.focusListItem("prev");break;case i.a.DOWN:e.preventDefault(),f.openMenu(),f.focusListItem("next");break;default:return}null==u||u(e)}}})},l=function(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,c=Object(a.useContext)(o),l=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.current&&c.setListEl(l.current)}),[]),r.a.cloneElement(t,{role:"menu",ref:l,onMouseEnter:function(e){e.stopPropagation(),c.setFocusStatus(!0),c.openMenu(),null==n||n()},onMouseLeave:function(e){e.stopPropagation(),c.setFocusStatus(!1),null==i||i()}})},u=function(e){var t=e.children,n=e.onKeyDown,c=e.onFocus,l=e.onBlur,u=e.getListItems,s=Object(a.useContext)(o),f=!!u;return r.a.cloneElement(t,{role:"menuitem",tabIndex:-1,onFocus:function(e){e.stopPropagation(),s.setFocusStatus(!0),null==c||c(e)},onBlur:function(e){e.stopPropagation(),s.setFocusStatus(!1),null==l||l(e)},onKeyDown:function(e){var t,a;if(!s.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ESC:s.closeMenu(),null===(t=s.buttonEl)||void 0===t||t.focus();break;case i.a.UP:e.preventDefault(),s.openMenu(),s.focusListItem("prev");break;case i.a.DOWN:e.preventDefault(),s.openMenu(),s.focusListItem("next");break;case i.a.ENTER:case i.a.SPACE:f&&(e.preventDefault(),a=(null==u?void 0:u())||[],setTimeout((function(){var e;null===(e=a[0])||void 0===e||e.focus()})))}null==n||n(e)}}})},s=function(e){var t=e.children,n=e.onKeyDown,c=e.onFocus,l=e.onBlur,u=e.getListItems,s=e.getParant,f=Object(a.useContext)(o);function d(e){var t=u()||[],n=-1;t.some((function(e,t){return e===document.activeElement&&(n=t,!0)})),n="next"===e?(n+1)%t.length:((n=n<0?0:n)-1+t.length)%t.length,setTimeout((function(){var e;null===(e=t[n])||void 0===e||e.focus()}))}return r.a.cloneElement(t,{role:"menuitem",tabIndex:-1,onFocus:function(e){e.stopPropagation(),f.setFocusStatus(!0),null==c||c(e)},onBlur:function(e){e.stopPropagation(),f.setFocusStatus(!1),null==l||l(e)},onKeyDown:function(e){if(!f.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ESC:var t=null==s?void 0:s();null==t||t.focus();break;case i.a.UP:e.preventDefault(),f.openMenu(),d("prev");break;case i.a.DOWN:e.preventDefault(),f.openMenu(),d("next")}null==n||n(e)}}})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,a,i=b(c);function c(){var e;return d(this,c),(e=i.apply(this,arguments)).state={expand:!1,listEl:null,buttonEl:null},e.hasFocus=!1,e.closeTimer=void 0,e.setFocusStatus=function(t){e.hasFocus=t,t||(e.closeTimer=window.setTimeout((function(){e.hasFocus||e.closeMenu()}),e.props.closeTimeout||300))},e.setListEl=function(t){e.setState({listEl:t})},e.setButtonEl=function(t){e.setState({buttonEl:t})},e.openMenu=function(){e.props.onOpen(),e.setState({expand:!0})},e.closeMenu=function(){e.props.onClose(),e.setState({expand:!1})},e.getListItems=function(){var t;return Array.prototype.slice.call((null===(t=e.state.listEl)||void 0===t?void 0:t.childNodes)||[])},e.focusListItem=function(t){if(e.state.listEl){var n=e.props.getListItems?e.props.getListItems(e.state.listEl):e.getListItems(),a=-1;n.some((function(e,t){return e===document.activeElement&&(a=t,!0)})),a="next"===t?(a+1)%n.length:((a=a<0?0:a)-1+n.length)%n.length,setTimeout((function(){var e;null===(e=n[a])||void 0===e||e.focus()}))}},e}return t=c,(n=[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.closeTimer)}},{key:"render",value:function(){return r.a.createElement(o.Provider,{value:{disable:this.props.disable||!1,expand:this.state.expand,listEl:this.state.listEl,buttonEl:this.state.buttonEl,setListEl:this.setListEl,setButtonEl:this.setButtonEl,setFocusStatus:this.setFocusStatus,focusListItem:this.focusListItem,openMenu:this.openMenu,closeMenu:this.closeMenu}},this.props.children)}}])&&m(t.prototype,n),a&&m(t,a),c}(r.a.Component);g.MenuButton=c,g.MenuList=l,g.MenuItem=u,g.MenuSubItem=s},d84b833f284337beaf9b:function(e,t,n){"use strict";var a=n("a58942195da9f667c6db"),r=n.n(a),o=n("1f8b48cdafa9b9697aa7"),i=n.n(o),c=n("070b74083ae0e56df3bd"),l=n.n(c),u=n("90c5586bb50fc596673a"),s=n.n(u),f=n("8782ba00facdf23abb6a"),d=n.n(f),m=n("f9652c99cb787d02d72d"),p=n.n(m),b=n("99cf401087dd36bc9dc3"),h=n.n(b),_=n("56c1dc570fb02868cb13"),g=n.n(_),v=n("69084d01d3449fc1bc27"),y=n.n(v),w=n("2e0796c118320b51c6e6"),E=n("efab296a6725bae1de8f"),k=n.n(E),O=n("4ff4f3dbe18f70243983"),j=n.n(O),A=n("21d65a030ead917f710a"),C=n.n(A),I=n("4e507494782e8abbdabf"),x=n.n(I),T=n("a9246c0217fff905e000"),S=n.n(T),N=n("b06f790d9a3066f966b6"),D=n.n(N),R=n("174811872339f1d02c40"),L=n.n(R),U=(n("7c04e1c6a9d8a4a067f5"),n("be6323750fae7868d676"));function M(e){var t=function(){if("undefined"==typeof Reflect||!k.a)return!1;if(k.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(k()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=D()(e);if(t){var r=D()(this).constructor;n=k()(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var P=function(e){x()(n,e);var t=M(n);function n(){var e;return j()(this,n),(e=t.apply(this,arguments)).state={fade:!1},e.toastEl=null,e}return C()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=document.activeElement;null===(e=this.toastEl)||void 0===e||e.focus(),this.timer=setTimeout((function(){t.setState({fade:!0}),Object(U.p)(n)&&(null==n||n.focus())}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.fade,n=this.props,a=n.msg,r=n.className;return y.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":a,"data-focus-trap-disable":!0,ref:function(t){e.toastEl=t},className:L()("toast",r,{fade:t})},a)}}]),n}(y.a.PureComponent);function W(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){var t,n=document.createElement("div");return document.body.appendChild(n),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):W(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}({},e),w.render(v.createElement(P,g()({},t)),n),setTimeout((function(){w.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}),3e3),{}}function F(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}P.info=function(e,t){return B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?i()(e,l()(n)):F(Object(n)).forEach((function(t){r()(e,t,s()(n,t))}))}return e}({msg:e},t))};t.a=P},d85d79ca97cea7f3b987:function(e,t,n){},da718d76f9b51529dd59:function(e,t,n){},dbfda9872bd1c8d94329:function(e,t,n){},e0e7afec53e5c6f0976a:function(e,t,n){},e101535ac9d197332c92:function(e,t,n){},e2077f1c42c64000df64:function(e,t,n){},e2097d7c28f72f984fd6:function(e,t,n){"use strict";n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("2e0796c118320b51c6e6"),i=n.n(o),c=n("174811872339f1d02c40"),l=n.n(c);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f=function(e){var t=e.children,n=e.onMount;return Object(a.useEffect)((function(){n&&n()}),[]),i.a.createPortal(t,document.body)};t.a=function(e){var t=e.visible,n=e.className,o=e.closeTimeout,i=void 0===o?200:o,c=e.children,s=e.onEnter,d=u(Object(a.useState)(t),2),m=d[0],p=d[1],b=Object(a.useRef)(null);function h(){var e;b.current&&(b.current.classList.add("ttp-portal-show"),b.current.classList.remove("ttp-portal-hide"),null==(e=b.current)||e.clientWidth,b.current.classList.add("ttp-portal-anime-show"),b.current.classList.remove("ttp-portal-anime-hide"),null==s||s())}return Object(a.useEffect)((function(){t?(p(!0),b.current&&h()):(b.current&&(b.current.classList.add("ttp-portal-anime-hide"),b.current.classList.remove("ttp-portal-anime-show")),setTimeout((function(){var e,t;null===(e=b.current)||void 0===e||e.classList.add("ttp-portal-hide"),null===(t=b.current)||void 0===t||t.classList.remove("ttp-portal-show")}),i))}),[t]),m?r.a.createElement(f,{onMount:function(){var t;null===(t=e.onMount)||void 0===t||t.call(e),h()}},r.a.createElement("div",{className:l()("ttp-portal-wrapper",n),ref:b},c)):null}},e397fe60ec3cfbf24fa9:function(e,t,n){},e485e9e29daf75cab9e8:function(e,t,n){},e659acf6991f02d5cf55:function(e,t,n){},e6c0fa9948fe7e0bc082:function(e,t,n){},e763df33e8176fe29b0e:function(e,t,n){"use strict";var a=n("56c1dc570fb02868cb13"),r=n.n(a),o=n("0ea997c98daa26e2c67d"),i=n.n(o),c=n("69084d01d3449fc1bc27"),l=n.n(c),u=n("20c6f2e62cf94b7db59c"),s=["href","logInfo","onClick"];t.a=function(e){var t=e.href,n=e.logInfo,a=e.onClick,o=i()(e,s);return l.a.createElement("a",r()({},o,{href:t,target:"_blank",rel:"noopener nofollow","origin-target":"true",onClick:function(e){if(t&&n){e.preventDefault(),null==a||a();var r=Object(u.b)(t,n);window.open(r)}}}),e.children)}},e8d9aa3b64f64ce1fd42:function(e,t,n){},ea597a565c1eb87a3414:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("71096cf209b72c63e10e");function a(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},ecc80ba510baa97c03b0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("b28d054028530bf1d2eb"),r=n.n(a),o=n("4e16ef1abe038022cfb8");function i(){"undefined"!=typeof window&&Promise.all([n.e(14),n.e(0)]).then(n.t.bind(null,"9b6650a046270e743bbd",7)).then((function(e){var t=new(0,e.TtWid)({aid:24,service:"www.toutiao.com",region:"cn",union:!0,needFid:!1});try{t.checkWebId()}catch(n){}try{t.reportFingerprintInfo()}catch(n){Object(o.c)(r()(n),"report-fingerprint-info-error")}}))}},ed0e645fb10944a4fb8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return T})),n.d(t,"k",(function(){return S})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return D})),n.d(t,"c",(function(){return W})),n.d(t,"m",(function(){return B})),n.d(t,"l",(function(){return F})),n.d(t,"e",(function(){return V})),n.d(t,"d",(function(){return Q})),n.d(t,"n",(function(){return H})),n.d(t,"o",(function(){return z})),n.d(t,"b",(function(){return K})),n.d(t,"h",(function(){return q}));var a,r,o=n("a58942195da9f667c6db"),i=n.n(o),c=n("1f8b48cdafa9b9697aa7"),l=n.n(c),u=n("070b74083ae0e56df3bd"),s=n.n(u),f=n("90c5586bb50fc596673a"),d=n.n(f),m=n("8782ba00facdf23abb6a"),p=n.n(m),b=n("f9652c99cb787d02d72d"),h=n.n(b),_=n("99cf401087dd36bc9dc3"),g=n.n(_),v=n("969d1a14935facecccb1"),y=n.n(v),w=n("be6323750fae7868d676"),E=n("acff6c447f863638e55f"),k=n("1b69c40e39893f89b5f5"),O=n("10130cfc2ba27a09b7e5");function j(e,t){var n=h()(e);if(p.a){var a=p()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):s.a?l()(e,s()(n)):j(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}!function(e){e[e.ARTICLE=0]="ARTICLE",e[e.VIDEO=0]="VIDEO",e[e.WTT=32]="WTT",e[e.COMMENT=56]="COMMENT",e[e.SHORT_VIDEO=49]="SHORT_VIDEO",e[e.MULTI_VIDEO=48]="MULTI_VIDEO",e[e.MULTI_ARTICLE=102]="MULTI_ARTICLE"}(a||(a={})),function(e){e[e.QUESTION=9]="QUESTION",e[e.ANSWER=10]="ANSWER"}(r||(r={}));var C={ARTICLE:"article",WTT:"wtt",VIDEO:"video",REFRESH:"refresh",SHORT_VIDEO:"short_video",QUESTION:"question",ANSWER:"answer"},I=[48,102];function x(e,t){return 165===e.group_source?e.open_url:(e.is_stick||4===e.stick_style)&&e.article_type>0&&e.article_url?e.article_url:C.WTT===t?Object(E.b)(E.a.WTT,e.thread_id_str||e.id_str):C.VIDEO===t?Object(E.b)(E.a.SELF_VIDEO,e.group_id):Object(E.b)(E.a.ARTICLE,e.group_id)}function T(e){var t=[];return e.thumb_image_list?t=e.thumb_image_list:e.large_image_list?t=e.large_image_list:e.image_list?t=e.image_list:e.middle_image&&(t=[].concat(e.middle_image)),t.map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean)}function S(e){var t=e.user_info||e.user;if(56===e.cell_type){var n,a=null===(n=e.comment_base)||void 0===n?void 0:n.user;return{name:a.info.name,userSecToken:a.info.user_id,userAuthInfo:Object(w.t)(a.info.user_auth_info||"{}"),avatarUrl:a.info.avatar_url,isFollow:!!a.relation.is_following,schema:a.info.schema}}return t&&49===e.cell_type?{name:t.info.name,userSecToken:t.info.user_id,userAuthInfo:Object(w.t)(t.info.user_auth_info||"{}"),avatarUrl:t.info.avatar_url,isFollow:!!t.relation.is_following,schema:t.info.schema}:t?{name:t.name,userSecToken:t.user_id,userAuthInfo:Object(w.t)(t.user_auth_info||"{}"),avatarUrl:t.avatar_url,isFollow:!(!(null==t?void 0:t.follow)&&!(null==t?void 0:t.is_following)),schema:t.schema}:null}function N(e){return e.media_info?{name:e.media_info.name,userId:e.media_info.user_id}:null}function D(e){if(!e)return"";var t=String(e.userSecToken);return e.schema&&Object(w.m)("uid",e.schema.split("?")[1])||t}function R(e){var t;return e.group_source||(null===(t=e.comment_base)||void 0===t?void 0:t.group_source)||0}function L(e,t,n,r){return r===O.a.get().video.channelId?"2_card":t===C.VIDEO||t===C.SHORT_VIDEO?e.cell_type===a.MULTI_VIDEO?t===C.SHORT_VIDEO?"4_card":"2_card":"1_card":n?n>3?"4_picture":"1_picture":"no_picture"}function U(e,t){var n=new y.a;return t.forEach((function(e){return n.add(e.group_id)})),e.filter((function(e){return!n.has(e.group_id)}))}function M(e){return e.map((function(e){var t=e.group_id||e.id,n=e.item_id||e.id;if(I.includes(e.cell_type)){var a=Math.random().toString(16).substr(2);t=a,n=a}return A(A({},e),{},{group_id:t,item_id:n})}))}function P(e,t){return function(e,t){return t!==O.a.get().local.channelId?e:e.filter((function(e){if(e.cell_type===a.MULTI_VIDEO){var t,n=null===(t=e.data[0])||void 0===t?void 0:t.cell_type,r=(e.data||[]).length;if(n===a.SHORT_VIDEO&&r<4)return!1}return!0}))}(e,t).map((function(e,n){var a,o,i,c,l,u,s=(i=(a=e).cell_type,c=a.biz_id,l=a.group_source,a.is_stick||4===a.stick_style?C.ARTICLE:r.QUESTION===l?C.QUESTION:r.ANSWER===l?C.ANSWER:0===i?a.has_video?C.VIDEO:C.ARTICLE:[32,56].indexOf(i)>-1?C.WTT:48===i?49===(null===(o=a.data[0])||void 0===o?void 0:o.cell_type)?C.SHORT_VIDEO:C.VIDEO:49===i||[8,31,32].includes(c)?C.SHORT_VIDEO:C.ARTICLE),f=T(e),d=A(A({},e),{},{title:e.feed_title||e.title,__channel_id:t,__channel_info:Object(O.c)(t),__type:s,__detail_url:x(e,s),__cover_urls:f,__user_info:S(e),__group_source:R(e),__group_type:L(e,s,(null==f?void 0:f.length)||0,t)});(4===e.stick_style&&(d.is_stick=!0),d.__type===C.WTT)&&(d.__show_subscribe=!(null===(u=d.user)||void 0===u?void 0:u.is_following));return d.is_stick&&(d.__stick_index=n),d}))}function W(e){return e.map((function(e,t){return A(A({},e),{},{__log_show_rank:t+1})}))}function B(e,t,n,a){var r=t.filter((function(e){return!e.is_stick})),o=P(U(M(e),r),n);return W("after"===a?r.concat(o):"prepend"===a?o.concat(r):o)}function F(e,t,n){var a=P(U(M(e),t),n);return W(t.concat(a))}function V(e,t){return W(t.filter((function(t){return t.group_id!==e})))}function Q(e,t,n){return n?function(e,t,n){return n.map((function(n){return n.group_id===e.group_id?t:n}))}(t,n,e):t.isBlockAnthor?function(e,t){var n,a=null===(n=e.__user_info)||void 0===n?void 0:n.userSecToken;return W(t.filter((function(e){var t;return(null===(t=e.__user_info)||void 0===t?void 0:t.userSecToken)!==a})))}(t,e):V(t.group_id,e)}function H(e,t,n){return n.map((function(n){return n.__type===C.WTT&&n.user.id===t.user.id?A(A({},n),{},{user:A(A({},n.user),{},{is_following:e})}):n}))}function z(e,t,n){return n.map((function(n){if(n.group_id===e.group_id){if(56===e.cell_type){var a,r=null===(a=e.comment_base)||void 0===a?void 0:a.action,o=n;return r&&(o.comment_base.action=A(A({},r),{},{digg_count:1===t?++r.digg_count:--r.digg_count,user_digg:t})),o}return A(A({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function K(e,t){return e.map((function(e){return A(A({},e),t)}))}function q(e,t){return e?e===O.a.get().follow.key?e:"":t?t===k.a.fav.key?"":t===k.a.video.key?t:k.a.all.key:""}},edc2b76b5d9ea09775b6:function(e,t,n){"use strict";n("c25f487e4a0e9b4a6f3b"),n("9e2b00f39951034d6dad"),n("7b6d7603f1e7e154d3b7"),n("078450aa17a5c8b07ba0"),n("509dfa66ded6e9f07cba"),n("8820a3764a10a8c7e743"),n("2810e53ad7174f3c046d"),n("ab5a60a615277034f035");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=(n("e397fe60ec3cfbf24fa9"),n("bd8ea4fd9e1bc4efca14")),i=n("80163d0657a0dbb02e68"),c=n("abbf799a026c91d8612e"),l={DEFAULT:"\u767b\u5f55\u540e\u5185\u5bb9\u66f4\u7cbe\u5f69",OTHER:"\u767b\u5f55\u89e3\u9501\u5b8c\u6574\u529f\u80fd"},u=function(e){return!!function(){try{return window.sessionStorage.setItem("testSessionStorage","1"),window.sessionStorage.getItem("testSessionStorage"),window.sessionStorage.removeItem("testSessionStorage"),!0}catch(e){return!1}}()&&window.sessionStorage.getItem("session_aweme_code")===e},s=function(){var e=Object(o.b)(),t=e.code;if(e.from_aweme&&t&&!u(t))return!0;return!1},f=n("a9b386aa9e5908dda673"),d=function(){return r.a.createElement("div",{className:"scan-code-desc"},r.a.createElement("div",null,"\u4f7f\u7528  ",r.a.createElement("i",null,"\u4eca\u65e5\u5934\u6761APP")),r.a.createElement("div",null,"\u5728\u201c\u6211\u7684\u201d\u754c\u9762\u5de6\u4e0a\u89d2\u70b9\u51fb\u626b\u4e00\u626b\u767b\u5f55",r.a.createElement("i",null)),r.a.createElement("div",{className:"scan-preview"},r.a.createElement("i",null)))},m=n("fc44cefe38e5ec0c2fd4");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){E(o,a,r,i,c,"next",e)}function c(e){E(o,a,r,i,c,"throw",e)}i(void 0)}))}}var O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function j(e){return A.apply(this,arguments)}function A(){return(A=k(regeneratorRuntime.mark((function e(t){var a,r,c,l,u,f,m,p,b,h,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(a=t||{}).onAuthLogin,c=a.redirectUrl,l=a.logParams,u=a.success,f=c||window.location.href,m="https://sso.toutiao.com",s()&&(p=Object(o.b)(),p.code,b=O(p,["code"]),f=Object(o.d)(window.location.origin,Object.assign({},b))),i.c&&(m=""),i.a&&(m="https://sso-boe.toutiao.com"),e.next=8,Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"4408fc98eff9db0c7783"));case 8:return h=e.sent.default,_=new h({aid:24,scope:"sso",isOversea:!1,region:"cn",next:f,isBoe:!(!i.a&&!i.c),host:m,loginType:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"],isStopCheckWhenHide:!0,globalMobileSupport:!0,unionLoginPanel:!0,defaultCheck:!0,ele:document.getElementById("login_modal_ele"),accountType:["mobile","email"],phoneSeparate:!0,confirm:[{text:"\u300a\u7528\u6237\u534f\u8bae\u300b",url:"https://www.toutiao.com/user_agreement/"},{text:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://www.toutiao.com/privacy_protection/"}],textConfig:{mobileCodeLoginText:{title:"\u624b\u673a\u767b\u5f55",mobilePlaceholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},accountPwdLoginText:{confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},scanCodeLoginText:{refreshCode:"\u70b9\u51fb\u5237\u65b0",getCodeFailed:"\u70b9\u51fb\u5237\u65b0",loginSuccess:"\u626b\u7801\u6210\u529f"},extraText:{otherLoginText:"\u5176\u4ed6\u767b\u5f55",switchToLogin:"\u8fd4\u56de\u767b\u5f55"}},otherMethod:[{key:"aweme",type:"auth",authConfig:{clientKey:"awggm9lb4j3epp3d",scope:"user_info",platformAppId:2115}},{key:"qzone_sns",type:"auth",authConfig:{platformAppId:5}},{key:"weixin",type:"auth",authConfig:{platformAppId:43}},{key:"account_pwd",type:"page",clickToPage:"LOGIN_ACCOUNT_PWD",existOn:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]},{key:"mobile_code",type:"page",clickToPage:"LOGIN_MOBILE_CODE",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_SCAN_CODE"]}],ScanCodeDescription:d,teaConfig:{appId:24,config:{evtParams:Object.assign({url:window.location.href},l)}},success:u,onAuthLogin:r}),e.abrupt("return",_);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(u,e);var t,n,a,o,i=g(u);function u(){var e;return b(this,u),(e=i.apply(this,arguments)).state={show:!1,title:l.DEFAULT},e.loginEl=null,e.destroy=null,e.sdkRef=null,e.onLogin=function(t){(null==t?void 0:t.title)&&e.setState({title:l[t.title]||t.title}),e.initModel()},e.onClose=function(){e.setState({show:!1}),setTimeout((function(){var t;null===(t=e.destroy)||void 0===t||t.call(y(e))}),200)},e.onSuccess=function(){var e=k(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.redirect_url){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.a.login.getLogin(t.redirect_url);case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Object(f.a)("login-callback-error");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),e.loadSDK=k(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.props.redirectUrl,t.next=4,j(Object.assign(Object.assign({},n?{redirectUrl:n}:{}),{logParams:e.props.logParams,success:e.onSuccess}));case 4:a=t.sent,e.sdkRef=a,window.WebLogin=Object.assign(Object.assign({},a),{show:e.onLogin}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e.initModel=function(){var t;e.destroy=null===(t=e.sdkRef)||void 0===t?void 0:t.init(e.loginEl);var n=null===document||void 0===document?void 0:document.querySelector(".web-login-normal-input__input");null==n||n.classList.add("first-focus-el"),e.setState({show:!0})},e}return t=u,n=[{key:"componentDidMount",value:function(){this.loadSDK(),s()&&this.initModel()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.show;return r.a.createElement(m.a,{className:"ttp-login-modal",title:n,visible:a,maskClosable:!1,onClose:this.onClose,footer:r.a.createElement(r.a.Fragment,null),init:!0,limitFocusArea:!1},r.a.createElement("div",{id:"login_modal_ele",ref:function(t){e.loginEl=t}}))}}],a=[{key:"checkLogin",value:(o=k(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.WebLogin){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,window.WebLogin.checkLogin();case 4:if((t=e.sent).has_login){e.next=8;break}return this.show(),e.abrupt("return",!1);case 8:return e.abrupt("return",t.has_login);case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&h(t.prototype,n),a&&h(t,a),u}(r.a.Component);C.show=function(e){var t,n,a;null===(t=window.WebLogin)||void 0===t||t.setTeaConfig({evtParams:Object.assign({enter_method:void 0},null==e?void 0:e.logParams)}),null===(a=null===(n=window.WebLogin)||void 0===n?void 0:n.show)||void 0===a||a.call(n,e)},C.logout=function(){var e,t;null===(t=null===(e=window.WebLogin)||void 0===e?void 0:e.logout)||void 0===t||t.call(e)};t.a=C},f379d8630b54b982148d:function(e,t,n){"use strict";var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=n("174811872339f1d02c40"),i=n.n(o);n("4459376f7bcc25f5262b");t.a=function(e){var t=e.size,n=e.className,a=e.url,o=e.authType,c=e.alt,l=void 0===c?"":c;return r.a.createElement("div",{className:i()("ttp-avatar","auth-".concat(o||"none"),n,t,{auth:o})},a&&r.a.createElement("img",{src:a,alt:l}))}},f5af4a301d22e870440e:function(e,t,n){},f663fadc4eb5841c48bb:function(e,t,n){"use strict";n.r(t),n.d(t,"cancelRequest",(function(){return i})),n.d(t,"isCancel",(function(){return c})),n.d(t,"getSearchSug",(function(){return l}));var a=n("214eccfc06814c553a3c"),r=n.n(a),o=n("c1c90d8f2436b65746ff"),i=null,c=function(e){return r.a.isCancel(e)};function l(e){return o.a.get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new r.a.CancelToken((function(e){i=e}))})}},f7f653759b9d8239bd8c:function(e,t,n){},f888a5b741084f046b7a:function(e,t,n){},f916861225cf3448ecd3:function(e,t,n){},f9e7ab430b1eaeaf2713:function(e,t,n){"use strict";var a=n("efab296a6725bae1de8f"),r=n.n(a),o=n("4ff4f3dbe18f70243983"),i=n.n(o),c=n("21d65a030ead917f710a"),l=n.n(c),u=n("4e507494782e8abbdabf"),s=n.n(u),f=n("a9246c0217fff905e000"),d=n.n(f),m=n("b06f790d9a3066f966b6"),p=n.n(m),b=n("69084d01d3449fc1bc27"),h=n.n(b),_=n("54b2d6dda1f17486c719"),g=n("be6323750fae7868d676"),v=n("c3cdc631e8328a3bec0b"),y=(n("e2077f1c42c64000df64"),function(){return h.a.createElement("div",{className:"feed-m-loading"},h.a.createElement("span",{className:"text"},"\u6b63\u5728\u83b7\u53d6\u66f4\u591a\u5185\u5bb9"))});function w(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var o=p()(this).constructor;n=r()(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var E=function(e){s()(n,e);var t=w(n);function n(){var e;return i()(this,n),(e=t.apply(this,arguments)).containerEl=null,e.handleScroll=Object(g.u)((function(){e.props.disable||e.containerEl&&(e.props.loading||e.props.refresh||!e.props.hasMore||e.containerEl.getBoundingClientRect().top+e.containerEl.clientHeight-window.innerHeight<=600&&e.props.onLoadMore())}),300),e.handleEEScrollToTop=function(){var t,n,a,r=(null===(t=e.containerEl)||void 0===t?void 0:t.getBoundingClientRect().top)||0,o=e.props.toTopOffset||-16,i=r+Object(v.c)()+o;window.scrollTo(0,i),null===(n=(a=e.props).onScrollToTop)||void 0===n||n.call(a,i)},e}return l()(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),_.a.on.scrollToTop(this.handleEEScrollToTop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),_.a.off.scrollToTop(this.handleEEScrollToTop)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.loading;return h.a.createElement("div",{ref:function(t){return e.containerEl=t}},n,a&&h.a.createElement(y,null))}}]),n}(h.a.Component);t.a=E},fa09bb24a4679550444c:function(e,t,n){},fa1bfa8e190ce16c8135:function(e,t,n){},fb622297466e7a637f99:function(e,t,n){"use strict";n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return D})),n.d(t,"m",(function(){return R})),n.d(t,"d",(function(){return L})),n.d(t,"o",(function(){return U})),n.d(t,"r",(function(){return M})),n.d(t,"p",(function(){return P})),n.d(t,"s",(function(){return W})),n.d(t,"q",(function(){return B})),n.d(t,"n",(function(){return F})),n.d(t,"g",(function(){return V})),n.d(t,"u",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"h",(function(){return q})),n.d(t,"v",(function(){return G})),n.d(t,"a",(function(){return J})),n.d(t,"c",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"f",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"w",(function(){return te}));var a,r,o=n("a58942195da9f667c6db"),i=n.n(o),c=n("1f8b48cdafa9b9697aa7"),l=n.n(c),u=n("070b74083ae0e56df3bd"),s=n.n(u),f=n("90c5586bb50fc596673a"),d=n.n(f),m=n("8782ba00facdf23abb6a"),p=n.n(m),b=n("f9652c99cb787d02d72d"),h=n.n(b),_=n("969d1a14935facecccb1"),g=n.n(_),v=n("b28d054028530bf1d2eb"),y=n.n(v),w=n("99cf401087dd36bc9dc3"),E=n.n(w),k=n("733b0b7fc50b301159ca"),O=n("6cf195ddfada1b0033e1"),j=n("ed0e645fb10944a4fb8f");function A(e,t){var n=h()(e);if(p.a){var a=p()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):s.a?l()(e,s()(n)):A(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}var I=(a={},E()(a,j.a.ARTICLE,"tuwen"),E()(a,j.a.VIDEO,"video"),E()(a,j.a.WTT,"weitoutiao"),E()(a,j.a.QUESTION,"qa"),E()(a,j.a.ANSWER,"qa"),a),x=(r={},E()(r,j.a.ARTICLE,"text"),E()(r,j.a.VIDEO,"video"),E()(r,j.a.WTT,"wtt"),E()(r,j.a.SHORT_VIDEO,"shortvideo"),E()(r,j.a.QUESTION,"qa"),E()(r,j.a.ANSWER,"qa"),r);function T(e){return e?e>3?"4_picture":"1_picture":"no_picture"}function S(e){return e.__log_impr_type||(0===e.__channel_id?"__pc_feed__":"__pc_channel")}function N(e){return e.__log_enter_from||(0===e.__channel_id?"click_headline":"click_category")}function D(e){var t;return e.__log_category_name||(null===(t=e.__channel_info)||void 0===t?void 0:t.category)}function R(e){Object(O.a)("go_detail",C(C({},e),{},{log_pb:y()(e)}))}var L=function(){var e=[],t=null;function n(){for(;e.length;)t=e.shift(),n=void 0,a=void 0,r=void 0,o=void 0,i=void 0,c=void 0,l=void 0,c=(null===(n=t.__cover_urls)||void 0===n?void 0:n.length)||0,l=(null===(a=t.log_pb)||void 0===a?void 0:a.is_following)||((null===(r=t.__user_info||t.userInfo)||void 0===r?void 0:r.isFollow)?"1":"0"),Object(O.a)("client_show",C(C({},t.log_pb),{},{impr_type:S(t),enter_from:N(t),category_name:D(t),channel_id:null===(o=t.__channel_info)||void 0===o?void 0:o.channelId,group_id:t.group_id,group_source:t.group_source||(null===(i=t.log_pb)||void 0===i?void 0:i.group_source),group_type:t.__group_type||T(c),group_format:I[t.__type],cell_type:t.cell_type,article_type:x[t.__type],section:t.__log_section||"feed",position:"related"===t.__log_category_name?"detail":"list",is_top_content:t.is_stick?"1":"0",show_rank:t.__log_show_rank,is_following:l,key_name:"tt_pc_feed",page_name:t.__log_page_name,log_pb:y()(t.log_pb),item_id:t.itemId,biz_id:t.bizId,wtt_video:Object(k.a)(t)}));var t,n,a,r,o,i,c,l}function a(){clearTimeout(t),t=setInterval((function(){n()}),6e4)}return"undefined"!=typeof window&&(a(),window.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?a():(clearTimeout(t),n())})),window.addEventListener("beforeunload",(function(){clearTimeout(t),n()}))),function(t){e=e.concat(t)}}();function U(e,t){Object(O.a)("follow_user",{enter_from:N(e),category_name:D(e),position:"list",to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function M(e,t){Object(O.a)("unfollow_user",{enter_from:N(e),category_name:D(e),position:"list",to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function P(e,t,n){var a;Object(O.a)("rt_like",C({enter_from:N(e),category_name:D(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(a=e.user)||void 0===a?void 0:a.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function W(e,t,n){var a;Object(O.a)("rt_unlike",C({enter_from:N(e),category_name:D(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(a=e.user)||void 0===a?void 0:a.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function B(e,t,n){var a;Object(O.a)("rt_share_to_platform",C({enter_from:N(e),category_name:D(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(a=e.user)||void 0===a?void 0:a.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:e.__log_section||("list"===n.position?"feed":"detail_feed")},n))}function F(e,t){Object(O.a)("rt_dislike",C({enter_from:N(e),category_name:D(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}function V(e,t){Object(O.a)("dislike_click",C({enter_from:N(e),category_name:D(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}var Q=new g.a;function H(e){Q.has(e.category_name)||(Q.add(e.category_name),Object(O.a)("channel_show",C({},e)))}function z(e){Object(O.a)("category_click",C({},e))}var K=0;function q(e){K=e.is_in_category_more,Object(O.a)("enter_category",C({},e))}function G(e){Object(O.a)("stay_category",C(C({},e),{},{is_in_category_more:K}))}function J(e){Object(O.a)("category_refresh",C({},e))}function Y(e){Object(O.a)("content_click",C({},e))}function X(e,t){var n=e.log_pb||{},a=e.__channel_info||{};Object(O.a)("content_click",C(C({},n),{},{area:e.__log_area||("all"===a.key?"feed":"category"),gid:e.groupId,href:e.detailUrl,enter_from:N(e),category_name:D(e),channel_id:a.channelId,impr_id:n.impr_id,impr_type:S(e),is_top_content:e.is_stick?"1":"0",section:"list"===t.position?"feed":"detail_feed",group_source:e.group_source||n.group_source,group_id:e.group_id,item_id:e.itemId,biz_id:e.bizId,show_rank:e.__log_show_rank,group_type:e.__group_type,log_pb:y()(e.log_pb)},t))}function Z(e){Object(O.a)("content_show_more_click",{position:"list",enter_from:N(e),category_name:D(e),show_rank:e.__log_show_rank,author_id:e.__user_info.userSecToken})}function $(e,t){var n;return{enter_from:N(e),category_name:D(e),user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.__group_source,is_following:(null===(n=e.user)||void 0===n?void 0:n.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:e.__log_section||("list"===t.position?"feed":"detail_feed")}}function ee(e,t){"hover"!==t.action_type&&Object(O.a)("share_button",C(C({},$(e,t)),t))}function te(e,t){Object(O.a)("repost_publish_done",C(C({},$(e,t)),t))}},fc117aacb27df2ddee39:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("cea817f8710b3702b0ef"),r=n.n(a),o=n("346b28504d968a7cb889"),i=n.n(o),c=n("69084d01d3449fc1bc27"),l=n("663529bce6ee6d8996f5"),u=n("2422758950d9f66b7423"),s=n("ed0e645fb10944a4fb8f"),f=n("acff6c447f863638e55f");function d(e){return e.map((function(e){var t,n,a;return{title:e.title,cover:Object(s.f)(e)[0],groupId:e.group_id,itemId:e.item_id,detailUrl:Object(f.b)(f.a.SELF_VIDEO,e.group_id),userInfo:Object(s.k)(e),playCount:null===(t=e.action)||void 0===t?void 0:t.play_count,filterWords:null===(n=e.filter_words)||void 0===n||null===(a=n.filter_words)||void 0===a?void 0:a.filter((function(e){return"21:10004"!==e.id})),log_pb:e.log_pb,group_id:e.group_id,group_source:e.group_source,cell_type:e.cell_type,duration:e.video_duration,videoId:e.video_id,source:e.source,commentCount:e.comment_count,userDigg:e.user_digg,likeCount:e.digg_count,timestamp:e.publish_time}}))}function m(e){var t=e.videoType,n=e.data,a=void 0===n?[]:n,o=e.channelId,f=e.useRawData,m=void 0!==f&&f,p=Object(c.useRef)(a),b=Object(c.useRef)(0),h=Object(c.useRef)(0),_=Object(c.useRef)(!1),g=function(){var e=i()(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=2;break}return e.abrupt("return");case 2:if(_.current=!0,e.prev=3,t!==u.i.VIDEO){e.next=10;break}return e.next=7,l.a.feed.getVideoData();case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,l.a.feed.getShortVideoData(o);case 12:n=e.sent;case 13:"success"===n.data.message&&(a=Object(s.l)(n.data.data,p.current,o),p.current=m?a:d(a)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3);case 19:return e.prev=19,_.current=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=i()(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=p.current[b.current])){e.next=6;break}b.current++,h.current=0,e.next=11;break;case 6:return e.next=8,g();case 8:if(h.current++,!(h.current<2)){e.next=11;break}return e.abrupt("return",v());case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v}},fc44cefe38e5ec0c2fd4:function(e,t,n){"use strict";n("8820a3764a10a8c7e743");var a=n("69084d01d3449fc1bc27"),r=n.n(a),o=(n("9f6594acd74878e4062f"),n("583766baffb257cbf38f")),i=n("62ea6c1add15eea97123"),c=n("9ab2f1ff086dee039972"),l=(n("a0552d7d14c5011dea2b"),n("792a58c583bf597691d0"),n("fde25bdc512ee328bbc7"),n("3b111d7ce1d9d36250c4"),n("509dfa66ded6e9f07cba"),n("573c5686f1fb233d5b7d"),n("c25f487e4a0e9b4a6f3b"),n("ab5a60a615277034f035"),n("2e0796c118320b51c6e6")),u=n.n(l),s=n("174811872339f1d02c40"),f=n.n(s);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(l){c=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=function(e){var t=e.children,n=e.onMount;return Object(a.useEffect)((function(){n&&n()}),[]),u.a.createPortal(t,document.body)},b=function(e){var t=e.visible,n=e.className,o=e.closeTimeout,i=void 0===o?200:o,c=e.children,l=e.init,u=d(Object(a.useState)(t),2),s=u[0],m=u[1],b=Object(a.useRef)(null);function h(){var e;b.current&&(b.current.classList.add("modal-show"),b.current.classList.remove("modal-hide"),null==(e=b.current)||e.clientWidth,b.current.classList.add("modal-anime-show"),b.current.classList.remove("modal-anime-hide"))}return Object(a.useEffect)((function(){t?(m(!0),b.current&&h()):(b.current&&(b.current.classList.add("modal-anime-hide"),b.current.classList.remove("modal-anime-show")),setTimeout((function(){var e,t;null===(e=b.current)||void 0===e||e.classList.add("modal-hide"),null===(t=b.current)||void 0===t||t.classList.remove("modal-show")}),i))}),[t]),l||s?r.a.createElement(p,{onMount:function(){return!l&&h()}},r.a.createElement("div",{className:f()("ttp-modal-wrapper",n,{"modal-hide":l}),ref:b},c)):null};n("9e2b00f39951034d6dad"),n("7b6d7603f1e7e154d3b7");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var t,n,a,r=y(o);function o(){var e;return _(this,o),(e=r.apply(this,arguments)).state={mounted:!1},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props.children;return this.state.mounted?e:null}}])&&g(t.prototype,n),a&&g(t,a),o}(r.a.Component),O=function(e){var t=e.className,n=e.title,l=e.visible,u=e.maskClosable,s=void 0===u||u,f=e.onClose,d=e.onOk,m=e.children,p=e.footer,h=e.init,_=e.limitFocusArea,g=void 0===_||_,v=Object(a.useRef)({}),y=Object(a.useRef)(null),w=Object(a.useRef)(null),E=Object(a.useRef)(null),k=Object(a.useRef)(null);function O(){f()}var j=Object(a.useCallback)((function(e){e.keyCode===c.a.ESC&&O()}),[]),A=Object(a.useCallback)((function(e){var t,n=e.target;if(y.current&&n)try{n!==k.current&&16&y.current.compareDocumentPosition(n)||null===(t=E.current)||void 0===t||t.focus()}catch(a){}}),[]);return Object(a.useEffect)((function(){if(l){if(document.body.clientHeight>window.innerHeight){var e=Object(o.a)();v.current=Object(i.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}window.addEventListener("keydown",j),g&&window.addEventListener("focus",A,!0),w.current=document.activeElement,setTimeout((function(){var e,t,n;if(y.current){E.current=y.current.querySelector(".first-focus-el"),E.current||(E.current=y.current.querySelector(".ttp-modal-close-btn"));var a=y.current.querySelector(".initial-focus-el");a?null===(t=(e=a).focus)||void 0===t||t.call(e):null===(n=E.current)||void 0===n||n.focus()}}))}else Object(i.a)(v.current,document.body),window.removeEventListener("keydown",j),window.removeEventListener("focus",A,!0),null===(t=w.current)||void 0===t||t.focus();var t;return function(){window.removeEventListener("keydown",j),window.removeEventListener("focus",A,!0)}}),[l,j,A]),r.a.createElement(b,{visible:l,className:t,init:h},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ttp-modal-mask",onClick:function(){s&&O()}}),r.a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,className:"ttp-modal",ref:y},r.a.createElement("div",{className:"ttp-modal-header"},r.a.createElement("span",{className:"ttp-modal-title"},n),r.a.createElement("button",{type:"button","aria-label":"\u5173\u95ed\u5f39\u7a97",className:"ttp-modal-close-btn",onClick:O},r.a.createElement("i",null))),r.a.createElement("div",{className:"ttp-modal-body"},m),r.a.createElement("div",{className:"ttp-modal-footer"},void 0!==p?p:r.a.createElement("div",{className:"ttp-modal-footer-btn"},r.a.createElement("button",{type:"button",className:"btn-cancel",onClick:O},"\u53d6\u6d88"),r.a.createElement("button",{type:"button",className:"btn-ok",onClick:function(){d&&d()}},"\u786e\u8ba4"))),r.a.createElement("div",{tabIndex:0,ref:k}))))};t.a=function(e){return r.a.createElement(k,null,r.a.createElement(O,Object.assign({},e)))}}});
//# sourceMappingURL=index.b85726d7.js.map